{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"lodash\"","webpack:///../node_modules/prop-types/index.js","webpack:///./datasource-zabbix/utils.ts","webpack:///./datasource-zabbix/constants.ts","webpack:///external \"@grafana/ui\"","webpack:///external \"@grafana/data\"","webpack:///external \"emotion\"","webpack:///./datasource-zabbix/types.ts","webpack:///../node_modules/classnames/index.js","webpack:///external \"@grafana/runtime\"","webpack:///external \"moment\"","webpack:///./panel-triggers/utils.ts","webpack:///external \"app/core/utils/datemath\"","webpack:///external \"app/plugins/sdk\"","webpack:///external \"react-dom\"","webpack:///./panel-triggers/migrations.ts","webpack:///../node_modules/webpack/buildin/amd-options.js","webpack:///../node_modules/warning/warning.js","webpack:///../node_modules/react-fast-compare/index.js","webpack:///../node_modules/prop-types/factoryWithThrowingShims.js","webpack:///../node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./panel-triggers/options_tab.js","webpack:///../src/utils.js","webpack:///../src/pagination.js","webpack:///../src/defaultProps.js","webpack:///../src/propTypes.js","webpack:///../src/index.js","webpack:///../src/methods.js","webpack:///../src/lifecycle.js","webpack:///../node_modules/react-popper/lib/esm/Manager.js","webpack:///../node_modules/react-popper/lib/esm/utils.js","webpack:///../node_modules/react-popper/lib/esm/Reference.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack:///../node_modules/@popperjs/core/lib/enums.js","webpack:///../node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack:///../node_modules/@popperjs/core/lib/index.js","webpack:///../node_modules/@popperjs/core/lib/utils/debounce.js","webpack:///../node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack:///../node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/getVariation.js","webpack:///../node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/offset.js","webpack:///../node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack:///../node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getBorders.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getDecorations.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack:///../node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack:///../node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack:///../node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack:///../node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack:///../node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack:///../node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack:///../node_modules/@popperjs/core/lib/utils/within.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/hide.js","webpack:///../node_modules/@popperjs/core/lib/popper.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/flip.js","webpack:///../node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack:///../node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack:///../node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack:///../node_modules/react-popper/lib/esm/usePopper.js","webpack:///../node_modules/react-popper/lib/esm/Popper.js","webpack:///../node_modules/react-transition-group/esm/config.js","webpack:///../node_modules/react-transition-group/esm/TransitionGroupContext.js","webpack:///../node_modules/react-transition-group/esm/Transition.js","webpack:///../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack:///../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./components/Tooltip/Portal.tsx","webpack:///./components/Tooltip/Popper.tsx","webpack:///./components/Tooltip/Tooltip.tsx","webpack:///./components/Tooltip/withPopper.tsx","webpack:///./panel-triggers/components/EventTag.tsx","webpack:///./components/GFHeartIcon/GFHeartIcon.tsx","webpack:///./components/FAIcon/FAIcon.tsx","webpack:///./components/ActionButton/ActionButton.tsx","webpack:///./components/AckButton/AckButton.tsx","webpack:///./components/ExploreButton/ExploreButton.tsx","webpack:///./components/ExecScriptButton/ExecScriptButton.tsx","webpack:///./components/ConfigProvider/ConfigProvider.tsx","webpack:///./components/Modal/ModalController.tsx","webpack:///./panel-triggers/components/AckModal.tsx","webpack:///./panel-triggers/components/Problems/ProblemStatusBar.tsx","webpack:///./panel-triggers/components/Problems/AcknowledgesList.tsx","webpack:///./panel-triggers/components/Problems/ProblemTimeline.tsx","webpack:///./panel-triggers/components/ExecScriptModal.tsx","webpack:///./panel-triggers/components/Problems/ProblemDetails.tsx","webpack:///./panel-triggers/components/Problems/AckCell.tsx","webpack:///./panel-triggers/components/Problems/Problems.tsx","webpack:///./panel-triggers/components/AlertList/AlertAcknowledges.tsx","webpack:///./panel-triggers/components/AlertList/AlertIcon.tsx","webpack:///./panel-triggers/components/AlertList/AlertCard.tsx","webpack:///./panel-triggers/components/AlertList/AlertList.tsx","webpack:///./panel-triggers/triggers_panel_ctrl.ts","webpack:///./panel-triggers/module.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","require","variableRegex","expandItemName","paramStr","params","quoted","in_array","param","key_params_str","substring","indexOf","lastIndexOf","key_params","forEach","symbol","push","length","replace","expandItems","items","item","key_","MACRO_PATTERN","containsMacro","itemName","test","replaceMacro","macros","isTriggerItem","url","item_macros","match","macro","host_macros","filter","hostid","hosts","h","macro_def","find","macro_value","macro_regex","RegExp","escapeMacro","parseLegacyVariableQuery","query","queryType","parts","each","split","isContainsBraces","result","map","part","trim","splitTemplateQuery","template","zipObject","app","Group","Host","Application","Item","group","host","application","regexPattern","isRegex","str","isTemplateVariable","templateVariables","variables","variable","includes","getRangeScopedVars","range","msRange","to","diff","from","sRange","Math","round","regularRange","secondsToHms","__range_ms","text","__range_s","__range","__range_series","buildRegex","matches","pattern","flags","undefined","escapeRegex","parseItemInterval","interval","normalizedInterval","parsedInterval","exec","normalizeZabbixInterval","parseInterval","momentInterval","duration","Number","valueOf","parseTimeShiftInterval","formatAcknowledges","acknowledges","ack","unix","clock","format","alias","surname","message","concat","sequence","funcsArray","this","compactQuery","getArrayDepth","a","level","elem","isArray","isNumeric","isNaN","parseFloat","isFinite","parseTags","tagStr","tags","tag","tagParts","mustArray","unitsMap","knownGrafanaUnits","units","submenu","unit","getKnownGrafanaUnits","convertZabbixUnit","zabbixUnit","getValueMapping","valueMappings","valuemapid","mapping","mappings","id","type","ValueToText","newvalue","isProblemsDataFrame","data","fields","other","config","custom","ZABBIX_PROBLEMS_PANEL_ID","DATAPOINT_VALUE","DATAPOINT_TS","MODE_METRICS","MODE_ITSERVICE","MODE_TEXT","MODE_ITEMID","MODE_TRIGGERS","MODE_PROBLEMS","ZBX_ACK_ACTION_NONE","ZBX_ACK_ACTION_CLOSE","ZBX_ACK_ACTION_ACK","ZBX_ACK_ACTION_ADD_MESSAGE","ZBX_ACK_ACTION_CHANGE_SEVERITY","TRIGGER_SEVERITY","val","MIN_SLA_INTERVAL","RANGE_VARIABLE_VALUE","DEFAULT_ZABBIX_PROBLEMS_LIMIT","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","VariableQueryTypes","ShowProblemTypes","hasOwn","classNames","classes","arguments","arg","argType","Array","inner","apply","join","define","window","__WEBPACK_EXTERNAL_MODULE__10__","__WEBPACK_EXTERNAL_MODULE__11__","isNewProblem","problem","highlightNewerThan","highlightIntervalMs","Date","now","timestamp","e","formatLastChange","lastchangeUnix","customFormat","getNextRefIdChar","queries","refId","every","renderUrl","path","rbracket","add","buildParams","keys","obj","toString","k","v","encodeURIComponentAsAngularJS","prefix","len","String","pctEncodeSpaces","encodeURIComponent","__WEBPACK_EXTERNAL_MODULE__14__","__WEBPACK_EXTERNAL_MODULE__18__","__WEBPACK_EXTERNAL_MODULE__19__","CURRENT_SCHEMA_VERSION","migratePanelSchema","panel","targets","target","trigger","isDefaultTarget","isDefaultPanel","datasource","datasources","triggers","isEmpty","isEmptyPanel","schemaVersion","getSchemaVersion","lastChangeField","infoField","scroll","hideHostsInMaintenance","defaultsDeep","proxy","showEvents","updatedTargets","targetKey","isEmptyTarget","isInvalidTarget","showProblems","migrateShowEvents","options","migrateOptions","defaults","hostsInMaintenance","sortProblems","sortTriggersBy","showTriggers","acknowledged","limit","minSeverity","Problems","History","__webpack_amd_options__","warning","hasElementType","Element","hasMap","Map","hasSet","Set","hasArrayBuffer","ArrayBuffer","isView","b","equal","constructor","it","size","entries","next","done","has","source","$$typeof","error","console","warn","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","props","propName","componentName","location","propFullName","secret","err","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","TriggerPanelOptionsCtrl","$scope","editor","panelCtrl","ctrl","layouts","fontSizes","ackFilters","sortingOptions","showEventsFields","triggerPanelOptionsTab","restrict","scope","templateUrl","controller","pathObj","makePathArray","reduce","current","set","keyPart","cursor","takeRight","start","arr","last","orderBy","sort","funcs","comp","desc","dirs","sortInt","rowA","rowB","remove","clone","JSON","parse","stringify","getFirstDefined","sum","makeTemplateComponent","cmp","children","className","rest","classnames","groupBy","xs","resKey","x","rv","splitProps","style","compactObject","newObj","isSortingDesc","normalizeComponent","Comp","fallback","isReactComponent","asPx","flattenDeep","newArr","component","isClassComponent","isFunctionComponent","defaultButton","ReactTablePagination","page","nextProps","pages","getSafePage","state","onKeyPress","onBlur","onChange","inputType","pageJumpText","showPageSizeOptions","pageSizeOptions","pageSize","showPageJump","canPrevious","canNext","onPageSizeChange","PreviousComponent","NextComponent","renderPageJump","renderCurrentPage","renderTotalPagesCount","renderPageSizeOptions","onClick","disabled","previousText","rowsSelectorText","rowsText","nextText","Component","defaultProps","aria-label","option","emptyObj","resolveData","loading","showPagination","showPaginationTop","showPaginationBottom","defaultPage","defaultPageSize","collapseOnSortingChange","collapseOnPageChange","collapseOnDataChange","freezeWhenExpanded","sortable","multiSort","resizable","filterable","defaultSortDesc","defaultSorted","defaultFiltered","defaultResized","defaultExpanded","defaultFilterMethod","row","defaultSortMethod","onPageChange","onSortedChange","onFilteredChange","onResizedChange","onExpandedChange","pivotBy","pivotValKey","pivotIDKey","subRowsKey","aggregatedKey","nestingLevelKey","originalKey","indexKey","groupedByPivotKey","onFetchData","getProps","getTableProps","getTheadGroupProps","getTheadGroupTrProps","getTheadGroupThProps","getTheadProps","getTheadTrProps","getTheadThProps","getTheadFilterProps","getTheadFilterTrProps","getTheadFilterThProps","getTbodyProps","getTrGroupProps","getTrProps","getTdProps","getTfootProps","getTfootTrProps","getTfootTdProps","getPaginationProps","getLoadingProps","getNoDataProps","getResizerProps","column","Cell","Header","Footer","Aggregated","Pivot","PivotValue","Expander","Filter","Placeholder","show","minWidth","minResizeWidth","aggregate","headerClassName","headerStyle","getHeaderProps","footerClassName","footerStyle","getFooterProps","filterMethod","filterAll","sortMethod","expanderDefaults","width","pivotDefaults","loadingText","noDataText","pageText","ofText","TableComponent","role","TheadComponent","_","TbodyComponent","TrGroupComponent","TrComponent","ThComponent","toggleSort","tabIndex","TdComponent","TfootComponent","FilterComponent","placeholder","event","ExpanderComponent","isExpanded","PivotValueComponent","subRows","AggregatedComponent","previewValues","PivotComponent","PaginationComponent","LoadingComponent","NoDataComponent","ResizerComponent","PadRowComponent","columns","ReactTable","sorted","expanded","filtered","resized","currentlyResizing","skipNextSort","resolvedState","manual","SubComponent","resolvedData","allVisibleColumns","headerGroups","hasHeaderGroups","sortedData","startRow","endRow","pageRows","minRows","padRows","hasColumnFooter","some","hasFilters","recurseRowsViewIndex","rows","index","rowWithViewIndex","_viewIndex","newPath","rowMinWidth","resizedColumn","rowIndex","finalState","rootProps","tableProps","tBodyProps","loadingProps","noDataProps","makeHeaderGroup","resizedValue","col","flex","maxWidth","theadGroupThProps","columnHeaderProps","styles","flexStyles","makeHeader","resizedCol","theadThProps","isResizable","resizer","onMouseDown","onTouchStart","isSortable","makeFilter","theadFilterThProps","ResolvedFilterComponent","isFilterable","makePadColumn","tdProps","columnProps","makePadRow","trGroupProps","trProps","makeColumnFooter","tFootTdProps","columnFooterProps","makePagination","isTop","paginationProps","makeTable","theadGroupProps","theadGroupTrProps","theadProps","theadTrProps","theadFilterProps","theadFilterTrProps","makePageRow","rowInfo","original","viewIndex","nestingPath","aggregated","groupedByPivot","cellInfo","pivoted","expander","useOnExpanderClick","isBranch","isPreview","resolvedCell","ResolvedAggregatedComponent","ResolvedExpanderComponent","ResolvedPivotValueComponent","DefaultResolvedPivotComponent","ResolvedPivotComponent","resolvedOnExpanderClick","newExpanded","interactionProps","i2","tFootProps","tFootTrProps","Base","newState","columnsWithExpander","expanderColumn","col2","allDecoratedColumns","decorateAndAddToAll","parentColumn","decoratedColumn","dcol","accessorString","makeDecoratedColumn","visibleColumns","pivotIndex","visibleSubColumns","findIndex","pivotColumns","pivotID","found","PivotParentColumn","prev","PivotGroupHeader","pivotColumnGroup","currentSpan","addHeader","accessRow","aggregatingColumns","aggregationValues","values","groupRecursively","groupedRows","rowGroup","sortMethodsByColumnID","sortData","filterData","currentState","getStateOrProp","filteredData","nextFilter","filteredSoFar","orderByMethod","currentRow","newPage","firstSortDirection","secondSortDirection","newSorted","existingIndex","existing","additive","newFiltering","parentWidth","pageX","startX","document","currentColumn","newResized","newWidth","isTouch","Methods","getDataModel","oldState","getResolvedState","defaultableOptions","defaultName","resettableOptions","optionName","newResolvedState","getSortedData","setState","cb","propTypes","ManagerReferenceNodeContext","React","ManagerReferenceNodeSetterContext","Manager","_ref","_React$useState","referenceNode","setReferenceNode","Provider","unwrapArray","safeInvoke","fn","_len","args","_key","setRef","ref","fromEntries","acc","useIsomorphicLayoutEffect","createElement","Reference","innerRef","refHandler","Boolean","getBoundingClientRect","rect","height","top","right","bottom","left","y","getWindow","ownerDocument","defaultView","getWindowScroll","win","scrollLeft","pageXOffset","scrollTop","pageYOffset","isElement","isHTMLElement","HTMLElement","getNodeName","nodeName","toLowerCase","getDocumentElement","documentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","offsets","clientLeft","clientTop","getLayoutRect","offsetLeft","offsetTop","offsetWidth","offsetHeight","getParentNode","assignedSlot","parentNode","listScrollParents","list","scrollParent","getScrollParent","body","isBody","visualViewport","updatedList","isTableElement","getTrueOffsetParent","position","getOffsetParent","basePlacements","variationPlacements","placement","placements","modifierPhases","order","modifiers","visited","modifier","requires","requiresIfExists","dep","depModifier","DEFAULT_OPTIONS","strategy","areValidElements","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","popper","pending","orderedModifiers","assign","modifiersData","elements","attributes","effectCleanupFns","isDestroyed","instance","setOptions","cleanupModifierEffects","scrollParents","contextElement","phase","orderModifiers","merged","mergeByName","enabled","_ref3","_ref3$options","effect","cleanupFn","update","forceUpdate","_state$elements","rects","reset","_state$orderedModifie","_state$orderedModifie2","_options","Promise","resolve","then","destroy","onFirstUpdate","passive","getBasePlacement","getVariation","getMainAxisFromPlacement","computeOffsets","basePlacement","variation","commonX","commonY","mainAxis","floor","ceil","unsetSides","mapToStyles","_ref2","_Object$assign2","popperRect","gpuAcceleration","adaptive","_roundOffsets","dpr","devicePixelRatio","roundOffsets","hasX","hasY","sideX","sideY","clientHeight","clientWidth","_Object$assign","commonStyles","transform","hash","getOppositePlacement","matched","end","getOppositeVariationPlacement","toNumber","cssValue","getDecorations","borders","computedStyle","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","getBorders","isHTML","winScrollBarX","innerHeight","innerWidth","contains","parent","child","isShadow","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","navigator","platform","getViewportRect","winScroll","documentRect","max","getDocumentRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","decorations","min","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","referenceElement","clippingClientRect","referenceClientRect","popperOffsets","popperClientRect","elementClientRect","overflowOffsets","offsetData","offset","multiply","axis","within","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","createPopper","_options$scroll","_options$resize","resize","addEventListener","removeEventListener","_options$gpuAccelerat","_options$adaptive","arrow","removeAttribute","setAttribute","initialStyles","margin","attribute","_options$offset","invertDistance","skidding","distance","distanceAndSkiddingToXY","_data$state$placement","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","_options$allowedAutoP","allPlacements","overflows","computeAutoPlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","check","_loop","_i","fittingPlacement","slice","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","mainSide","altSide","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_preventedOffset","_state$modifiersData$","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","center","axisProp","centerOffset","_options$element","querySelector","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","EMPTY_MODIFIERS","NOOP","NOOP_PROMISE","Popper","_ref$placement","_ref$strategy","_ref$modifiers","popperElement","setPopperElement","_React$useState2","setArrowElement","_usePopper","prevOptions","optionsWithDefaults","updateStateModifier","popperOptions","newOptions","isEqual","popperInstanceRef","popperInstance","defaultCreatePopper","usePopper","childrenProps","hide","arrowProps","createContext","Transition","_React$Component","subClass","superClass","context","_this","initialStatus","appear","isMounting","enter","appearStatus","unmountOnExit","mountOnEnter","status","nextCallback","__proto__","getDerivedStateFromProps","prevState","_proto","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","mounting","ReactDOM","findDOMNode","performEnter","performExit","_this2","appearing","timeouts","enterTimeout","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","nextState","callback","setNextCallback","_this4","active","handler","doesNotHaveTimeoutOrListener","addEndListener","setTimeout","render","_this$props","childProps","excluded","sourceKeys","_objectWithoutPropertiesLoose","TransitionGroupContext","Children","only","cloneElement","noop","contextType","in","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","root","classList","portalRoot","appendChild","removeChild","createPortal","getStyles","defaultTransitionStyles","tooltipContent","transitionStyles","exited","opacity","entering","entered","exiting","popperClassName","refClassName","content","renderContent","refClass","popperClass","transitionState","Tooltip","WrappedComponent","showPopper","hidePopper","ReactComponent","restProps","onMouseEnter","onMouseLeave","TAG_COLORS","TAG_BORDER_COLORS","handleClick","ctrlKey","shiftKey","highlight","tagColor","charCodeAt","djb2","color","abs","borderColor","getTagColorsFromName","background","GFHeartIcon","iconClass","FAIcon","icon","customClass","wrapperClass","ActionButton","tooltip","theme","buttonClass","button","actionBlue","Light","hoverBlue","palette","gray1","colors","AckButton","ExploreButton","panelId","openInExplore","itemids","itemid","originPanelId","exploreState","ExecScriptButton","ConfigContext","ConfigConsumer","Consumer","getCurrentTheme","bootData","user","lightTheme","Dark","ThemeProvider","provideTheme","provideConfig","modalRoot","modalNode","showModal","hideModal","renderModal","modal","ChildrenComponent","severityOptions","label","handleChange","handleKeyPress","which","dismiss","handleBackdropClick","onAcknowledgeToggle","acknowledge","onChangeSeverityToggle","changeSeverity","onCloseProblemToggle","closeProblem","onChangeSelectedSeverity","selectedSeverity","errorMessage","ackError","onDismiss","submit","actionSelected","ackData","action","severity","onSubmit","catch","statusText","renderActions","canClose","description","modalClass","modalTitleClass","modalHeaderTitle","inputGroupClass","inputGroup","inputClass","input","inputHintClass","inputHint","inputErrorClass","inputError","isOpen","title","autoComplete","autoFocus","onKeyDown","variant","withBackdrop","red","typography","heading","h3","spacing","sm","md","bg1","textWeak","AckModal","ProblemStatusBar","alerts","multiEvent","link","maintenance","manualClose","manual_close","stateUnknown","closeByTag","correlation_mode","actions","actionMessage","ProblemStatusBarItem","fired","correlation_tag","href","AcknowledgesList","acknowledgeid","time","EVENT_REGION_HEIGHT","EVENT_POINT_SIZE","setRootRef","rootRef","handlePointHighlight","secondIndex","sortedEvents","regionToHighlight","getRegionToHighlight","getEventDuration","highlightedEvent","showEventInfo","highlightedRegion","eventInfo","handlePointUnHighlight","handleAckHighlight","handleAckUnHighlight","hideEventInfo","firstIndex","sortEvents","events","sortBy","getEventAcks","acks","timeRange","eventPointSize","eventRegionHeight","boxWidth","boxHeight","pointsYpos","timelineYpos","viewBox","TimelineSVGFilters","onHighlight","onUnHighlight","pointSize","onPointHighlight","onPointUnHighlight","okColor","problemColor","Fragment","stdDeviation","dx","dy","slope","infoItems","durationItem","tsFormatted","durationFormatted","utc","containerStyle","firstItem","timeFrom","timeTo","regionWidth","highlighted","firstEventAttributes","ts","posLeft","eventid","bringToFront","indexes","moveToEnd","highlightPoint","pointsToHighlight","highlightRegion","getRegionEvents","unHighlightPoint","lastProblemIndex","pointR","eventsItems","handleMouseOver","handleMouseLeave","cx","rInner","onMouseOver","cy","handleHighlight","handleUnHighlight","itemsToMove","removed","pullAt","reverse","onChangeSelectedScript","script","scripts","scriptid","selectedScript","selectError","formatResult","response","formatted","scriptOptions","getScripts","command","selectErrorClass","scriptCommandContainerClass","scriptCommandContainer","scriptCommandClass","scriptCommand","resultContainer","execResult","execError","fontFamily","monospace","ExecScriptModal","handleTagClick","onTagClick","ackProblem","onProblemAck","onExecuteScript","showTimeline","fetchProblemEvents","fetchProblemAlerts","requestAnimationFrame","getProblemEvents","getProblemAlerts","rootWidth","displayClass","wideLayout","compactStatusBar","age","fromNow","showAcknowledges","problemSeverity","ProblemItems","showAckButton","comments","groups","ProblemItem","showName","lastvalue","g","groupid","countLabel","AckCell","handleProblemAck","handlePageSizeChange","pageIndex","handleResizedChange","onColumnResize","handleExpandedChange","problems","expandedProblems","problemIndex","expandedProblem","nextExpanded","nextExpandedProblems","getExpandedPage","expandedProblemsPage","expandedPage","startIndex","endIndex","buildColumns","panelOptions","highlightNewEvents","hostField","HostCell","hostTechNameField","hostTechName","accessor","hostGroups","GroupCell","hostProxy","severityField","priority","problemSeverityDesc","markAckEvents","ackEventColor","severityDesc","SeverityCell","triggerSeverity","okEventColor","statusIcon","newProblem","StatusIconCell","statusField","StatusCell","ProblemCell","ackField","showTags","ageField","AgeCell","lastchange","LastChangeCell","customLastChangeFormat","lastChangeFormat","CustomExpander","fontSize","panelClass","uniq","resizedColumns","problemTimeline","paddingRight","ackRows","blink","highlightBackground","showDatasourceName","cardClass","descriptionClass","descriptionAtNewLine","cardStyle","backgroundColor","AlertHost","AlertGroup","AlertStatus","AlertSeverity","descriptionField","dangerouslySetInnerHTML","__html","groupNames","renderTooltipContent","handlePageChange","getCurrentProblems","currentProblems","parseInt","alertListClass","triggerid","itemsLength","pageCount","startPage","endPage","pageLinks","pageLinkClass","pageLinkElem","DEFAULT_SEVERITY","PANEL_DEFAULTS","layout","triggerStatusMap","on","defaultError","targetTags","panelContainerElem","renderData","dark","light"],"mappings":"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","file":"panel-triggers/module.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 74);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import _ from 'lodash';\nimport moment from 'moment';\nimport * as c from './constants';\nimport { VariableQuery, VariableQueryTypes } from './types';\nimport { MappingType, ValueMapping, getValueFormats, DataFrame, FieldType, rangeUtil } from '@grafana/data';\n\n/*\n * This regex matches 3 types of variable reference with an optional format specifier\n * \\$(\\w+)                          $var1\n * \\[\\[([\\s\\S]+?)(?::(\\w+))?\\]\\]    [[var2]] or [[var2:fmt2]]\n * \\${(\\w+)(?::(\\w+))?}             ${var3} or ${var3:fmt3}\n */\nexport const variableRegex = /\\$(\\w+)|\\[\\[([\\s\\S]+?)(?::(\\w+))?\\]\\]|\\${(\\w+)(?:\\.([^:^\\}]+))?(?::(\\w+))?}/g;\n\n/**\n * Expand Zabbix item name\n *\n * @param  {string} name item name, ie \"CPU $2 time\"\n * @param  {string} key  item key, ie system.cpu.util[,system,avg1]\n * @return {string}      expanded name, ie \"CPU system time\"\n */\nexport function expandItemName(name: string, key: string): string {\n\n  // extract params from key:\n  // \"system.cpu.util[,system,avg1]\" --> [\"\", \"system\", \"avg1\"]\n  const key_params_str = key.substring(key.indexOf('[') + 1, key.lastIndexOf(']'));\n  const key_params = splitKeyParams(key_params_str);\n\n  // replace item parameters\n  for (let i = key_params.length; i >= 1; i--) {\n    name = name.replace('$' + i, key_params[i - 1]);\n  }\n  return name;\n}\n\nexport function expandItems(items) {\n  _.forEach(items, item => {\n    item.item = item.name;\n    item.name = expandItemName(item.item, item.key_);\n    return item;\n  });\n  return items;\n}\n\nfunction splitKeyParams(paramStr) {\n  const params = [];\n  let quoted = false;\n  let in_array = false;\n  const split_symbol = ',';\n  let param = '';\n\n  _.forEach(paramStr, symbol => {\n    if (symbol === '\"' && in_array) {\n      param += symbol;\n    } else if (symbol === '\"' && quoted) {\n      quoted = false;\n    } else if (symbol === '\"' && !quoted) {\n      quoted = true;\n    } else if (symbol === '[' && !quoted) {\n      in_array  = true;\n    } else if (symbol === ']' && !quoted) {\n      in_array = false;\n    } else if (symbol === split_symbol && !quoted && !in_array) {\n      params.push(param);\n      param = '';\n    } else {\n      param += symbol;\n    }\n  });\n\n  params.push(param);\n  return params;\n}\n\nconst MACRO_PATTERN = /{\\$[A-Z0-9_\\.]+}/g;\n\nexport function containsMacro(itemName) {\n  return MACRO_PATTERN.test(itemName);\n}\n\nexport function replaceMacro(item, macros, isTriggerItem?) {\n  let itemName = isTriggerItem ? item.url : item.name;\n  const item_macros = itemName.match(MACRO_PATTERN);\n  _.forEach(item_macros, macro => {\n    const host_macros = _.filter(macros, m => {\n      if (m.hostid) {\n        if (isTriggerItem) {\n          // Trigger item can have multiple hosts\n          // Check all trigger host ids against macro host id\n          let hostIdFound = false;\n          _.forEach(item.hosts, h => {\n            if (h.hostid === m.hostid) {\n              hostIdFound = true;\n            }\n          });\n          return hostIdFound;\n        } else {\n          // Check app host id against macro host id\n          return m.hostid === item.hostid;\n        }\n      } else {\n        // Add global macros\n        return true;\n      }\n    });\n\n    const macro_def = _.find(host_macros, { macro: macro });\n    if (macro_def && macro_def.value) {\n      const macro_value = macro_def.value;\n      const macro_regex = new RegExp(escapeMacro(macro));\n      itemName = itemName.replace(macro_regex, macro_value);\n    }\n  });\n\n  return itemName;\n}\n\nfunction escapeMacro(macro) {\n  macro = macro.replace(/\\$/, '\\\\\\$');\n  return macro;\n}\n\nexport function parseLegacyVariableQuery(query: string): VariableQuery {\n  let queryType: VariableQueryTypes;\n  const parts = [];\n\n  // Split query. Query structure: group.host.app.item\n  _.each(splitTemplateQuery(query), part => {\n    // Replace wildcard to regex\n    if (part === '*') {\n      part = '/.*/';\n    }\n    parts.push(part);\n  });\n  const template = _.zipObject(['group', 'host', 'app', 'item'], parts);\n\n  if (parts.length === 4 && template.app === '/.*/') {\n    // Search for all items, even it's not belong to any application\n    template.app = '';\n  }\n\n  switch (parts.length) {\n    case 1:\n      queryType = VariableQueryTypes.Group;\n      break;\n    case 2:\n      queryType = VariableQueryTypes.Host;\n      break;\n    case 3:\n      queryType = VariableQueryTypes.Application;\n      break;\n    case 4:\n      queryType = VariableQueryTypes.Item;\n      break;\n  }\n\n  const variableQuery: VariableQuery = {\n    queryType,\n    group: template.group || '',\n    host: template.host || '',\n    application: template.app || '',\n    item: template.item || '',\n  };\n\n  return variableQuery;\n}\n\n/**\n * Split template query to parts of zabbix entities\n * group.host.app.item -> [group, host, app, item]\n * {group}{host.com} -> [group, host.com]\n */\nexport function splitTemplateQuery(query) {\n  const splitPattern = /\\{[^\\{\\}]*\\}|\\{\\/.*\\/\\}/g;\n  let split;\n\n  if (isContainsBraces(query)) {\n    const result = query.match(splitPattern);\n    split = _.map(result, part => {\n      return _.trim(part, '{}');\n    });\n  } else {\n    split = query.split('.');\n  }\n\n  return split;\n}\n\nfunction isContainsBraces(query) {\n  const bracesPattern = /^\\{.+\\}$/;\n  return bracesPattern.test(query);\n}\n\n// Pattern for testing regex\nexport const regexPattern = /^\\/(.*)\\/([gmi]*)$/m;\n\nexport function isRegex(str) {\n  return regexPattern.test(str);\n}\n\nexport function isTemplateVariable(str, templateVariables) {\n  const variablePattern = /^\\$\\w+/;\n  if (variablePattern.test(str)) {\n    const variables = _.map(templateVariables, variable => {\n      return '$' + variable.name;\n    });\n    return _.includes(variables, str);\n  } else {\n    return false;\n  }\n}\n\nexport function getRangeScopedVars(range) {\n  const msRange = range.to.diff(range.from);\n  const sRange = Math.round(msRange / 1000);\n  const regularRange = rangeUtil.secondsToHms(msRange / 1000);\n  return {\n    __range_ms: { text: msRange, value: msRange },\n    __range_s: { text: sRange, value: sRange },\n    __range: { text: regularRange, value: regularRange },\n    __range_series: {text: c.RANGE_VARIABLE_VALUE, value: c.RANGE_VARIABLE_VALUE},\n  };\n}\n\nexport function buildRegex(str) {\n  const matches = str.match(regexPattern);\n  const pattern = matches[1];\n  const flags = matches[2] !== \"\" ? matches[2] : undefined;\n  return new RegExp(pattern, flags);\n}\n\n// Need for template variables replace\n// From Grafana's templateSrv.js\nexport function escapeRegex(value) {\n  return value.replace(/[\\\\^$*+?.()|[\\]{}\\/]/g, '\\\\$&');\n}\n\n/**\n * Parses Zabbix item update interval. Returns 0 in case of custom intervals.\n */\nexport function parseItemInterval(interval: string): number {\n  const normalizedInterval = normalizeZabbixInterval(interval);\n  if (normalizedInterval) {\n    return parseInterval(normalizedInterval);\n  }\n  return 0;\n}\n\nexport function normalizeZabbixInterval(interval: string): string {\n  const intervalPattern = /(^[\\d]+)(y|M|w|d|h|m|s)?/g;\n  const parsedInterval = intervalPattern.exec(interval);\n  if (!parsedInterval || !interval || (parsedInterval.length > 2 && !parsedInterval[2])) {\n    return '';\n  }\n  return parsedInterval[1] + (parsedInterval.length > 2 ? parsedInterval[2] : 's');\n}\n\nexport function parseInterval(interval: string): number {\n  const intervalPattern = /(^[\\d]+)(y|M|w|d|h|m|s)/g;\n  const momentInterval: any[] = intervalPattern.exec(interval);\n  const duration = moment.duration(Number(momentInterval[1]), momentInterval[2]);\n  return (duration.valueOf() as number);\n}\n\nexport function parseTimeShiftInterval(interval) {\n  const intervalPattern = /^([\\+\\-]*)([\\d]+)(y|M|w|d|h|m|s)/g;\n  const momentInterval: any[] = intervalPattern.exec(interval);\n  let duration: any = 0;\n\n  if (momentInterval[1] === '+') {\n    duration = 0 - (moment.duration(Number(momentInterval[2]), momentInterval[3]).valueOf() as any);\n  } else {\n    duration = moment.duration(Number(momentInterval[2]), momentInterval[3]).valueOf();\n  }\n\n  return duration;\n}\n\n/**\n * Format acknowledges.\n *\n * @param  {array} acknowledges array of Zabbix acknowledge objects\n * @return {string} HTML-formatted table\n */\nexport function formatAcknowledges(acknowledges) {\n  if (acknowledges.length) {\n    let formatted_acknowledges = '<br><br>Acknowledges:<br><table><tr><td><b>Time</b></td>'\n      + '<td><b>User</b></td><td><b>Comments</b></td></tr>';\n    _.each(_.map(acknowledges, ack => {\n      const timestamp = moment.unix(ack.clock);\n      return '<tr><td><i>' + timestamp.format(\"DD MMM YYYY HH:mm:ss\") + '</i></td><td>' + ack.alias\n        + ' (' + ack.name + ' ' + ack.surname + ')' + '</td><td>' + ack.message + '</td></tr>';\n    }), ack => {\n      formatted_acknowledges = formatted_acknowledges.concat(ack);\n    });\n    formatted_acknowledges = formatted_acknowledges.concat('</table>');\n    return formatted_acknowledges;\n  } else {\n    return '';\n  }\n}\n\nexport function convertToZabbixAPIUrl(url) {\n  const zabbixAPIUrlPattern = /.*api_jsonrpc.php$/;\n  const trimSlashPattern = /(.*?)[\\/]*$/;\n  if (url.match(zabbixAPIUrlPattern)) {\n    return url;\n  } else {\n    return url.replace(trimSlashPattern, \"$1\");\n  }\n}\n\n/**\n * Wrap function to prevent multiple calls\n * when waiting for result.\n */\nexport function callOnce(func, promiseKeeper) {\n  return function() {\n    if (!promiseKeeper) {\n      promiseKeeper = Promise.resolve(\n        func.apply(this, arguments)\n        .then(result => {\n          promiseKeeper = null;\n          return result;\n        }).catch(err => {\n          promiseKeeper = null;\n          throw err;\n        })\n      );\n    }\n    return promiseKeeper;\n  };\n}\n\n/**\n * Apply function one by one: `sequence([a(), b(), c()]) = c(b(a()))`\n * @param {*} funcsArray functions to apply\n */\nexport function sequence(funcsArray) {\n  return function(result) {\n    for (let i = 0; i < funcsArray.length; i++) {\n      result = funcsArray[i].call(this, result);\n    }\n    return result;\n  };\n}\n\nconst versionPattern = /^(\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))?(?:-([0-9A-Za-z\\.]+))?/;\n\nexport function isValidVersion(version) {\n  return versionPattern.exec(version);\n}\n\nexport function parseVersion(version: string) {\n  const match = versionPattern.exec(version);\n  if (!match) {\n    return null;\n  }\n  const major = Number(match[1]);\n  const minor = Number(match[2] || 0);\n  const patch = Number(match[3] || 0);\n  const meta = match[4];\n  return { major, minor, patch, meta };\n}\n\n/**\n * Replaces any space-like symbols (tabs, new lines, spaces) by single whitespace.\n */\nexport function compactQuery(query) {\n  return query.replace(/\\s+/g, ' ').trim();\n}\n\nexport function getArrayDepth(a, level = 0) {\n  if (a.length === 0) {\n    return 1;\n  }\n  const elem = a[0];\n  if (_.isArray(elem)) {\n    return getArrayDepth(elem, level + 1);\n  }\n  return level + 1;\n}\n\n/**\n * Checks whether its argument represents a numeric value.\n */\nexport function isNumeric(n: any): boolean {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * Parses tags string into array of {tag: value} objects\n */\nexport function parseTags(tagStr: string): any[] {\n  if (!tagStr) {\n    return [];\n  }\n\n  let tags: any[] = _.map(tagStr.split(','), (tag) => tag.trim());\n  tags = _.map(tags, (tag) => {\n    const tagParts = tag.split(':');\n    return {tag: tagParts[0].trim(), value: tagParts[1].trim()};\n  });\n  return tags;\n}\n\nexport function mustArray(result: any): any[] {\n  return result || [];\n}\n\nconst getUnitsMap = () => ({\n  '%': 'percent',\n  'b': 'decbits', // bits(SI)\n  'bps': 'bps', // bits/sec(SI)\n  'B': 'bytes', // bytes(IEC)\n  'Bps': 'binBps', // bytes/sec(IEC)\n  // 'unixtime': 'dateTimeAsSystem',\n  'uptime': 'dtdhms',\n  'qps': 'qps', // requests/sec (rps)\n  'iops': 'iops', // I/O ops/sec (iops)\n  'Hz': 'hertz', // Hertz (1/s)\n  'V': 'volt', // Volt (V)\n  'C': 'celsius', // Celsius (C)\n  'RPM': 'rotrpm', // Revolutions per minute (rpm)\n  'dBm': 'dBm', // Decibel-milliwatt (dBm)\n});\n\nconst getKnownGrafanaUnits = () => {\n  const units = {};\n  const categories = getValueFormats();\n  for (const category of categories) {\n    for (const unitDesc of category.submenu) {\n      const unit = unitDesc.value;\n      units[unit] = unit;\n    }\n  }\n  return units;\n};\n\nconst unitsMap = getUnitsMap();\nconst knownGrafanaUnits = getKnownGrafanaUnits();\n\nexport function convertZabbixUnit(zabbixUnit: string): string {\n  let unit = unitsMap[zabbixUnit];\n  if (!unit) {\n    unit = knownGrafanaUnits[zabbixUnit];\n  }\n  return unit;\n}\n\nexport function getValueMapping(item, valueMappings: any[]): ValueMapping[] | null {\n  const { valuemapid } = item;\n  const mapping = valueMappings?.find(m => m.valuemapid === valuemapid);\n  if (!mapping) {\n    return null;\n  }\n\n  return (mapping.mappings as any[]).map((m, i) => {\n    const valueMapping: ValueMapping = {\n      id: i,\n      type: MappingType.ValueToText,\n      value: m.value,\n      text: m.newvalue,\n    };\n    return valueMapping;\n  });\n}\n\nexport function isProblemsDataFrame(data: DataFrame): boolean {\n  return data.fields.length && data.fields[0].type === FieldType.other && data.fields[0].config.custom['type'] === 'problems';\n}\n","// Plugin IDs\nexport const ZABBIX_PROBLEMS_PANEL_ID = 'alexanderzobnin-zabbix-triggers-panel';\nexport const ZABBIX_DS_ID = 'alexanderzobnin-zabbix-datasource';\n\n// Data point\nexport const DATAPOINT_VALUE = 0;\nexport const DATAPOINT_TS = 1;\n\n// Editor modes\nexport const MODE_METRICS = 0;\nexport const MODE_ITSERVICE = 1;\nexport const MODE_TEXT = 2;\nexport const MODE_ITEMID = 3;\nexport const MODE_TRIGGERS = 4;\nexport const MODE_PROBLEMS = 5;\n\n// Triggers severity\nexport const SEV_NOT_CLASSIFIED = 0;\nexport const SEV_INFORMATION = 1;\nexport const SEV_WARNING = 2;\nexport const SEV_AVERAGE = 3;\nexport const SEV_HIGH = 4;\nexport const SEV_DISASTER = 5;\n\nexport const SHOW_ALL_TRIGGERS = [0, 1];\nexport const SHOW_ALL_EVENTS = [0, 1];\nexport const SHOW_OK_EVENTS = 1;\n\n// Acknowledge\nexport const ZBX_ACK_ACTION_NONE = 0;\nexport const ZBX_ACK_ACTION_CLOSE = 1;\nexport const ZBX_ACK_ACTION_ACK = 2;\nexport const ZBX_ACK_ACTION_ADD_MESSAGE = 4;\nexport const ZBX_ACK_ACTION_CHANGE_SEVERITY = 8;\n\nexport const TRIGGER_SEVERITY = [\n  {val: 0, text: 'Not classified'},\n  {val: 1, text: 'Information'},\n  {val: 2, text: 'Warning'},\n  {val: 3, text: 'Average'},\n  {val: 4, text: 'High'},\n  {val: 5, text: 'Disaster'}\n];\n\n/** Minimum interval for SLA over time (1 hour) */\nexport const MIN_SLA_INTERVAL = 3600;\n\nexport const RANGE_VARIABLE_VALUE = 'range_series';\n\nexport const DEFAULT_ZABBIX_PROBLEMS_LIMIT = 1001;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","import { SelectableValue, DataQuery, DataSourceJsonData } from \"@grafana/data\";\n\nexport interface ZabbixDSOptions extends DataSourceJsonData {\n  username: string;\n  password?: string;\n  trends: boolean;\n  trendsFrom: string;\n  trendsRange: string;\n  cacheTTL: string;\n  timeout?: string;\n  dbConnectionEnable: boolean;\n  dbConnectionDatasourceId?: number;\n  dbConnectionDatasourceName?: string;\n  dbConnectionRetentionPolicy?: string;\n  disableReadOnlyUsersAck: boolean;\n  disableDataAlignment: boolean;\n}\n\nexport interface ZabbixSecureJSONData {\n  password?: string;\n}\n\nexport interface ZabbixConnectionInfo {\n  zabbixVersion: string;\n  dbConnectorStatus: {\n    dsType: string;\n    dsName: string;\n  };\n}\n\nexport interface ZabbixConnectionTestQuery {\n  datasourceId: number;\n  queryType: string;\n}\n\nexport interface ZabbixMetricsQuery extends DataQuery {\n  triggers: { minSeverity: string; acknowledged: boolean; count: number; };\n  queryType: string;\n  datasourceId: number;\n  group: { filter: string; name?: string; };\n  host: { filter: string; name?: string; };\n  application: { filter: string; name?: string; };\n  item: { filter: string; name?: string; };\n  textFilter: string;\n  mode: number;\n  itemids: number[];\n  useCaptureGroups: boolean;\n  proxy?: { filter: string; };\n  trigger?: { filter: string; };\n  itServiceFilter?: string;\n  tags?: { filter: string; };\n  functions: ZabbixMetricFunction[];\n  options: ZabbixQueryOptions;\n  // Problems\n  showProblems?: ShowProblemTypes;\n  // Deprecated\n  hostFilter?: string;\n  itemFilter?: string;\n}\n\nexport interface ZabbixQueryOptions {\n  showDisabledItems?: boolean;\n  skipEmptyValues?: boolean;\n  disableDataAlignment?: boolean;\n  useZabbixValueMapping?: boolean;\n  // Problems options\n  minSeverity?: number;\n  sortProblems?: string;\n  acknowledged?: number;\n  hostsInMaintenance?: boolean;\n  hostProxy?: boolean;\n  limit?: number;\n  useTimeRange?: boolean;\n  severities?: number[];\n}\n\nexport interface ZabbixMetricFunction {\n  name: string;\n  params: any;\n  def: { name: string; params: any; };\n}\n\n// The paths of these files have moved around in Grafana and they don't resolve properly\n// either. Safer not to bother trying to import them just for type hinting.\n\nexport interface TemplateSrv {\n  variables: {\n    name: string;\n  };\n  highlightVariablesAsHtml(str: any): any;\n  replace(target: any, scopedVars?: any, format?: any): any;\n}\n\nexport interface DashboardSrv {\n  dash: any;\n}\n\n// Grafana types from backend code\n\ntype RowValues = object[];\ntype TimePoint = [number?, number?];\ntype TimeSeriesPoints = TimePoint[];\ntype TimeSeriesSlice = TimeSeries[];\n\ninterface TimeSeries {\n  name: string;\n  points: TimeSeriesPoints;\n  tags: { [key: string]: string };\n}\n\ninterface TableColumn {\n  text: string;\n}\n\ninterface Table {\n  columns: TableColumn[];\n  rows: RowValues[];\n}\n\ninterface QueryResult {\n  error: string;\n  refId: string;\n  meta: any;\n  series: TimeSeriesSlice[];\n  tables: Table[];\n}\n\nexport interface TSDBResponse {\n  results: { [key: string]: QueryResult };\n  message: string;\n}\n\nexport interface VariableQueryProps {\n  query: LegacyVariableQuery;\n  onChange: (query: VariableQuery, definition: string) => void;\n  datasource: any;\n  templateSrv: any;\n}\n\nexport interface VariableQueryData extends VariableQuery {\n  selectedQueryType: SelectableValue<VariableQueryTypes>;\n  legacyQuery?: string;\n}\n\nexport interface VariableQuery {\n  queryType: VariableQueryTypes;\n  group?: string;\n  host?: string;\n  application?: string;\n  item?: string;\n}\n\nexport type LegacyVariableQuery = VariableQuery | string;\n\nexport enum VariableQueryTypes {\n  Group = 'group',\n  Host = 'host',\n  Application = 'application',\n  Item = 'item',\n  ItemValues = 'itemValues',\n}\n\nexport enum ShowProblemTypes {\n  Problems = 'problems',\n  Recent = 'recent',\n  History = 'history',\n}\n\nexport interface ProblemDTO {\n  triggerid?: string;\n  eventid?: string;\n  timestamp: number;\n\n  /** Name of the trigger. */\n  name?: string;\n\n  /** Same as a name. */\n  description?: string;\n\n  /** Whether the trigger is in OK or problem state. */\n  value?: string;\n\n  datasource?: string;\n  comments?: string;\n  host?: string;\n  hostTechName?: string;\n  proxy?: string;\n  severity?: string;\n\n  acknowledged?: '1' | '0';\n  acknowledges?: ZBXAcknowledge[];\n\n  groups?: ZBXGroup[];\n  hosts?: ZBXHost[];\n  items?: ZBXItem[];\n  alerts?: ZBXAlert[];\n  tags?: ZBXTag[];\n  url?: string;\n\n  expression?: string;\n  correlation_mode?: string;\n  correlation_tag?: string;\n  suppressed?: string;\n  suppression_data?: any[];\n  state?: string;\n  maintenance?: boolean;\n  manual_close?: string;\n  error?: string;\n\n  showAckButton?: boolean;\n}\n\nexport interface ZBXProblem {\n  acknowledged?: '1' | '0';\n  acknowledges?: ZBXAcknowledge[];\n  clock: string;\n  ns: string;\n  correlationid?: string;\n  datasource?: string;\n  name?: string;\n  eventid?: string;\n  maintenance?: boolean;\n  object?: string;\n  objectid?: string;\n  opdata?: any;\n  r_eventid?: string;\n  r_clock?: string;\n  r_ns?: string;\n  severity?: string;\n  showAckButton?: boolean;\n  source?: string;\n  suppressed?: string;\n  suppression_data?: any[];\n  tags?: ZBXTag[];\n  userid?: string;\n}\n\nexport interface ZBXTrigger {\n  acknowledges?: ZBXAcknowledge[];\n  showAckButton?: boolean;\n  alerts?: ZBXAlert[];\n  age?: string;\n  color?: string;\n  comments?: string;\n  correlation_mode?: string;\n  correlation_tag?: string;\n  datasource?: string;\n  description?: string;\n  error?: string;\n  expression?: string;\n  flags?: string;\n  groups?: ZBXGroup[];\n  host?: string;\n  hostTechName?: string;\n  hosts?: ZBXHost[];\n  items?: ZBXItem[];\n  lastEvent?: ZBXEvent;\n  lastchange?: string;\n  lastchangeUnix?: number;\n  maintenance?: boolean;\n  manual_close?: string;\n  priority?: string;\n  proxy?: string;\n  recovery_expression?: string;\n  recovery_mode?: string;\n  severity?: string;\n  state?: string;\n  status?: string;\n  tags?: ZBXTag[];\n  templateid?: string;\n  triggerid?: string;\n  /** Whether the trigger can generate multiple problem events. */\n  type?: string;\n  url?: string;\n  value?: string;\n}\n\nexport interface ZBXGroup {\n  groupid: string;\n  name: string;\n}\n\nexport interface ZBXHost {\n  hostid: string;\n  name: string;\n  host: string;\n  maintenance_status?: string;\n  proxy_hostid?: string;\n}\n\nexport interface ZBXItem {\n  itemid: string;\n  name: string;\n  key_: string;\n  lastvalue?: string;\n}\n\nexport interface ZBXEvent {\n  eventid: string;\n  clock: string;\n  ns?: string;\n  value?: string;\n  name?: string;\n  source?: string;\n  object?: string;\n  objectid?: string;\n  severity?: string;\n  hosts?: ZBXHost[];\n  acknowledged?: '1' | '0';\n  acknowledges?: ZBXAcknowledge[];\n  tags?: ZBXTag[];\n  suppressed?: string;\n}\n\nexport interface ZBXTag {\n  tag: string;\n  value?: string;\n}\n\nexport interface ZBXAcknowledge {\n  acknowledgeid: string;\n  eventid: string;\n  userid: string;\n  action: string;\n  clock: string;\n  time: string;\n  message?: string;\n  user: string;\n  alias: string;\n  name: string;\n  surname: string;\n}\n\nexport interface ZBXAlert {\n  eventid: string;\n  clock: string;\n  message: string;\n  error: string;\n}\n","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","import _ from 'lodash';\nimport moment from 'moment';\nimport { DataQuery } from '@grafana/data';\nimport * as utils from '../datasource-zabbix/utils';\nimport { ProblemDTO } from 'datasource-zabbix/types';\n\nexport function isNewProblem(problem: ProblemDTO, highlightNewerThan: string): boolean {\n  try {\n    const highlightIntervalMs = utils.parseInterval(highlightNewerThan);\n    const durationSec = (Date.now() - problem.timestamp * 1000);\n    return durationSec < highlightIntervalMs;\n  } catch (e) {\n    return false;\n  }\n}\n\nconst DEFAULT_TIME_FORMAT = \"DD MMM YYYY HH:mm:ss\";\n\nexport function formatLastChange(lastchangeUnix: number, customFormat?: string) {\n  const timestamp = moment.unix(lastchangeUnix);\n  const format = customFormat || DEFAULT_TIME_FORMAT;\n  const lastchange = timestamp.format(format);\n  return lastchange;\n}\n\nexport const getNextRefIdChar = (queries: DataQuery[]): string => {\n  const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n\n  return _.find(letters, refId => {\n    return _.every(queries, other => {\n      return other.refId !== refId;\n    });\n  });\n};\n\nexport type UrlQueryMap = Record<string, any>;\n\nexport function renderUrl(path: string, query: UrlQueryMap | undefined): string {\n  if (query && Object.keys(query).length > 0) {\n    path += '?' + toUrlParams(query);\n  }\n  return path;\n}\n\nfunction encodeURIComponentAsAngularJS(val: string, pctEncodeSpaces?: boolean) {\n  return encodeURIComponent(val)\n    .replace(/%25/gi, '%2525') // Double-encode % symbol to make it properly decoded in Explore\n    .replace(/%40/gi, '@')\n    .replace(/%3A/gi, ':')\n    .replace(/%24/g, '$')\n    .replace(/%2C/gi, ',')\n    .replace(/%3B/gi, ';')\n    .replace(/%20/g, pctEncodeSpaces ? '%20' : '+');\n}\n\nfunction toUrlParams(a: any) {\n  const s: any[] = [];\n  const rbracket = /\\[\\]$/;\n\n  const isArray = (obj: any) => {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  };\n\n  const add = (k: string, v: any) => {\n    v = typeof v === 'function' ? v() : v === null ? '' : v === undefined ? '' : v;\n    if (typeof v !== 'boolean') {\n      s[s.length] = encodeURIComponentAsAngularJS(k, true) + '=' + encodeURIComponentAsAngularJS(v, true);\n    } else {\n      s[s.length] = encodeURIComponentAsAngularJS(k, true);\n    }\n  };\n\n  const buildParams = (prefix: string, obj: any) => {\n    let i, len, key;\n\n    if (prefix) {\n      if (isArray(obj)) {\n        for (i = 0, len = obj.length; i < len; i++) {\n          if (rbracket.test(prefix)) {\n            add(prefix, obj[i]);\n          } else {\n            buildParams(prefix, obj[i]);\n          }\n        }\n      } else if (obj && String(obj) === '[object Object]') {\n        for (key in obj) {\n          buildParams(prefix + '[' + key + ']', obj[key]);\n        }\n      } else {\n        add(prefix, obj);\n      }\n    } else if (isArray(obj)) {\n      for (i = 0, len = obj.length; i < len; i++) {\n        add(obj[i].name, obj[i].value);\n      }\n    } else {\n      for (key in obj) {\n        buildParams(key, obj[key]);\n      }\n    }\n    return s;\n  };\n\n  return buildParams('', a).join('&');\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","module.exports = __WEBPACK_EXTERNAL_MODULE__18__;","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","import _ from 'lodash';\nimport { getNextRefIdChar } from './utils';\nimport { ShowProblemTypes } from '../datasource-zabbix/types';\n\n// Actual schema version\nexport const CURRENT_SCHEMA_VERSION = 8;\n\nexport const getDefaultTarget = (targets?) => {\n  return {\n    group: {filter: \"\"},\n    host: {filter: \"\"},\n    application: {filter: \"\"},\n    trigger: {filter: \"\"},\n    tags: {filter: \"\"},\n    proxy: {filter: \"\"},\n    refId: getNextRefIdChar(targets),\n  };\n};\n\nexport function getDefaultTargetOptions() {\n  return {\n    hostsInMaintenance: true,\n  };\n}\n\nexport function migratePanelSchema(panel) {\n  if (isDefaultPanel(panel)) {\n    return panel;\n  }\n\n  if (isEmptyPanel(panel)) {\n    delete panel.targets;\n    return panel;\n  }\n\n  const schemaVersion = getSchemaVersion(panel);\n  // panel.schemaVersion = CURRENT_SCHEMA_VERSION;\n\n  if (schemaVersion < 2) {\n    panel.datasources = [panel.datasource];\n    panel.targets = {};\n    panel.targets[panel.datasources[0]] = panel.triggers;\n\n    // delete old props\n    delete panel.triggers;\n    delete panel.datasource;\n  }\n\n  if (schemaVersion < 3) {\n    // delete old props\n    delete panel.lastChangeField;\n    delete panel.infoField;\n    delete panel.scroll;\n    delete panel.hideHostsInMaintenance;\n  }\n\n  if (schemaVersion < 5) {\n    if (panel.targets && !_.isEmpty(panel.targets)) {\n      _.each(panel.targets, (target) => {\n        _.defaultsDeep(target, getDefaultTarget());\n      });\n    }\n  }\n\n  if (schemaVersion < 6) {\n    if (panel.showEvents && panel.showEvents.value === '1') {\n      panel.showEvents.value = 1;\n    }\n  }\n\n  if (schemaVersion < 7) {\n    const updatedTargets = [];\n    for (const targetKey in panel.targets) {\n      const target = panel.targets[targetKey];\n      if (!isEmptyTarget(target) && !isInvalidTarget(target, targetKey)) {\n        updatedTargets.push({\n          ...target,\n          datasource: targetKey,\n        });\n      }\n    }\n    for (const target of updatedTargets) {\n      if (!target.refId) {\n        target.refId = getNextRefIdChar(updatedTargets);\n      }\n    }\n    panel.targets = updatedTargets;\n    delete panel.datasources;\n  }\n\n  if (schemaVersion < 8) {\n    if (panel.targets.length === 1) {\n      if (panel.targets[0].datasource) {\n        panel.datasource = panel.targets[0].datasource;\n        delete panel.targets[0].datasource;\n      }\n    } else if (panel.targets.length > 1) {\n      // Mixed data sources\n      panel.datasource = '-- Mixed --';\n    }\n    for (const target of panel.targets) {\n      // set queryType to PROBLEMS\n      target.queryType = 5;\n      target.showProblems = migrateShowEvents(panel);\n      target.options = migrateOptions(panel);\n\n      _.defaults(target.options, getDefaultTargetOptions());\n      _.defaults(target, { tags: { filter: \"\" } });\n    }\n\n    panel.sortProblems = panel.sortTriggersBy?.value === 'priority' ? 'priority' : 'lastchange';\n\n    delete panel.showEvents;\n    delete panel.showTriggers;\n    delete panel.hostsInMaintenance;\n    delete panel.sortTriggersBy;\n  }\n\n  return panel;\n}\n\nfunction migrateOptions(panel) {\n  let acknowledged = 2;\n  if (panel.showTriggers === 'acknowledged') {\n    acknowledged = 1;\n  } else if (panel.showTriggers === 'unacknowledged') {\n    acknowledged = 0;\n  }\n\n  // Default limit in Zabbix\n  let limit = 1001;\n  if (panel.limit && panel.limit !== 100) {\n    limit = panel.limit;\n  }\n\n  return {\n    hostsInMaintenance: panel.hostsInMaintenance,\n    sortProblems: panel.sortTriggersBy?.value === 'priority' ? 'priority' : 'default',\n    minSeverity: 0,\n    acknowledged: acknowledged,\n    limit: limit,\n  };\n}\n\nfunction migrateShowEvents(panel) {\n  if (panel.showEvents?.value === 1) {\n    return ShowProblemTypes.Problems;\n  } else if (panel.showEvents?.value === 0 || panel.showEvents?.value?.length > 1) {\n    return ShowProblemTypes.History;\n  } else {\n    return ShowProblemTypes.Problems;\n  }\n}\n\nfunction getSchemaVersion(panel) {\n  return panel.schemaVersion || 1;\n}\n\nfunction isEmptyPanel(panel) {\n  return !panel.datasource && !panel.datasources && !panel.triggers && isEmptyTargets(panel.targets);\n}\n\nfunction isEmptyTargets(targets) {\n  return !targets || (_.isArray(targets) && (targets.length === 0 || targets.length === 1 && _.isEmpty(targets[0])));\n}\n\nfunction isDefaultPanel(panel) {\n  return panel.targets && panel.targets.length === 1 && isDefaultTarget(panel.targets[0]);\n}\n\nfunction isDefaultTarget(target) {\n  return !target.group?.filter && !target.host?.filter && !target.application?.filter && !target.trigger?.filter && !target.queryType;\n}\n\nfunction isEmptyTarget(target) {\n  return !target || !(target.group && target.host && target.application && target.trigger);\n}\n\nfunction isInvalidTarget(target, targetKey) {\n  return target && target.refId === 'A' && targetKey === '0';\n}\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","/* global Map:readonly, Set:readonly, ArrayBuffer:readonly */\n\nvar hasElementType = typeof Element !== 'undefined';\nvar hasMap = typeof Map === 'function';\nvar hasSet = typeof Set === 'function';\nvar hasArrayBuffer = typeof ArrayBuffer === 'function' && !!ArrayBuffer.isView;\n\n// Note: We **don't** need `envHasBigInt64Array` in fde es6/index.js\n\nfunction equal(a, b) {\n  // START: fast-deep-equal es6/index.js 3.1.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    // START: Modifications:\n    // 1. Extra `has<Type> &&` helpers in initial condition allow es6 code\n    //    to co-exist with es5.\n    // 2. Replace `for of` with es5 compliant iteration using `for`.\n    //    Basically, take:\n    //\n    //    ```js\n    //    for (i of a.entries())\n    //      if (!b.has(i[0])) return false;\n    //    ```\n    //\n    //    ... and convert to:\n    //\n    //    ```js\n    //    it = a.entries();\n    //    while (!(i = it.next()).done)\n    //      if (!b.has(i.value[0])) return false;\n    //    ```\n    //\n    //    **Note**: `i` access switches to `i.value`.\n    var it;\n    if (hasMap && (a instanceof Map) && (b instanceof Map)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!equal(i.value[1], b.get(i.value[0]))) return false;\n      return true;\n    }\n\n    if (hasSet && (a instanceof Set) && (b instanceof Set)) {\n      if (a.size !== b.size) return false;\n      it = a.entries();\n      while (!(i = it.next()).done)\n        if (!b.has(i.value[0])) return false;\n      return true;\n    }\n    // END: Modifications\n\n    if (hasArrayBuffer && ArrayBuffer.isView(a) && ArrayBuffer.isView(b)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (a[i] !== b[i]) return false;\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n    // END: fast-deep-equal\n\n    // START: react-fast-compare\n    // custom handling for DOM elements\n    if (hasElementType && a instanceof Element) return false;\n\n    // custom handling for React/Preact\n    for (i = length; i-- !== 0;) {\n      if ((keys[i] === '_owner' || keys[i] === '__v' || keys[i] === '__o') && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner\n        // Preact-specific: avoid traversing Preact elements' __v and __o\n        //    __v = $_original / $_vnode\n        //    __o = $_owner\n        // These properties contain circular references and are not needed when\n        // comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of elements\n\n        continue;\n      }\n\n      // all other properties should be traversed as usual\n      if (!equal(a[keys[i]], b[keys[i]])) return false;\n    }\n    // END: react-fast-compare\n\n    // START: fast-deep-equal\n    return true;\n  }\n\n  return a !== a && b !== b;\n}\n// end fast-deep-equal\n\nmodule.exports = function isEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (((error.message || '').match(/stack|recursion/i))) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('react-fast-compare cannot handle circular refs');\n      return false;\n    }\n    // some other error. we should definitely know about these\n    throw error;\n  }\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","/**\n * Grafana-Zabbix\n * Zabbix plugin for Grafana.\n * http://github.com/alexanderzobnin/grafana-zabbix\n *\n * Trigger panel.\n * This feature sponsored by CORE IT\n * http://www.coreit.fr\n *\n * Copyright 2015 Alexander Zobnin alexanderzobnin@gmail.com\n * Licensed under the Apache License, Version 2.0\n */\n\nclass TriggerPanelOptionsCtrl {\n\n  /** @ngInject */\n  constructor($scope) {\n    $scope.editor = this;\n    this.panelCtrl = $scope.ctrl;\n    this.panel = this.panelCtrl.panel;\n\n    this.layouts = [\n      { text: 'Table', value: 'table' },\n      { text: 'List',  value: 'list' }\n    ];\n    this.fontSizes = ['80%', '90%', '100%', '110%', '120%', '130%', '150%', '160%', '180%', '200%', '220%', '250%'];\n    this.ackFilters = [\n      'all triggers',\n      'unacknowledged',\n      'acknowledged'\n    ];\n\n    this.sortingOptions = [\n      { text: 'Default', value: 'default' },\n      { text: 'Last change', value: 'lastchange' },\n      { text: 'Severity',    value: 'priority' },\n    ];\n\n    this.showEventsFields = [\n      { text: 'All',      value: [0,1] },\n      { text: 'OK',       value: [0] },\n      { text: 'Problems', value: 1 }\n    ];\n  }\n}\n\nexport function triggerPanelOptionsTab() {\n  return {\n    restrict: 'E',\n    scope: true,\n    templateUrl: 'public/plugins/alexanderzobnin-zabbix-app/panel-triggers/partials/options_tab.html',\n    controller: TriggerPanelOptionsCtrl,\n  };\n}\n","import React from 'react'\nimport classnames from 'classnames'\n//\nexport default {\n  get,\n  set,\n  takeRight,\n  last,\n  orderBy,\n  range,\n  remove,\n  clone,\n  getFirstDefined,\n  sum,\n  makeTemplateComponent,\n  groupBy,\n  isArray,\n  splitProps,\n  compactObject,\n  isSortingDesc,\n  normalizeComponent,\n  asPx,\n}\n\nfunction get (obj, path, def) {\n  if (!path) {\n    return obj\n  }\n  const pathObj = makePathArray(path)\n  let val\n  try {\n    val = pathObj.reduce((current, pathPart) => current[pathPart], obj)\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def\n}\n\nfunction set (obj = {}, path, value) {\n  const keys = makePathArray(path)\n  let keyPart\n  let cursor = obj\n  while ((keyPart = keys.shift()) && keys.length) {\n    if (!cursor[keyPart]) {\n      cursor[keyPart] = {}\n    }\n    cursor = cursor[keyPart]\n  }\n  cursor[keyPart] = value\n  return obj\n}\n\nfunction takeRight (arr, n) {\n  const start = n > arr.length ? 0 : arr.length - n\n  return arr.slice(start)\n}\n\nfunction last (arr) {\n  return arr[arr.length - 1]\n}\n\nfunction range (n) {\n  const arr = []\n  for (let i = 0; i < n; i += 1) {\n    arr.push(n)\n  }\n  return arr\n}\n\nfunction orderBy (arr, funcs, dirs, indexKey) {\n  return arr.sort((rowA, rowB) => {\n    for (let i = 0; i < funcs.length; i += 1) {\n      const comp = funcs[i]\n      const desc = dirs[i] === false || dirs[i] === 'desc'\n      const sortInt = comp(rowA, rowB)\n      if (sortInt) {\n        return desc ? -sortInt : sortInt\n      }\n    }\n    // Use the row index for tie breakers\n    return dirs[0] ? rowA[indexKey] - rowB[indexKey] : rowB[indexKey] - rowA[indexKey]\n  })\n}\n\nfunction remove (a, b) {\n  return a.filter((o, i) => {\n    const r = b(o)\n    if (r) {\n      a.splice(i, 1)\n      return true\n    }\n    return false\n  })\n}\n\nfunction clone (a) {\n  try {\n    return JSON.parse(\n      JSON.stringify(a, (key, value) => {\n        if (typeof value === 'function') {\n          return value.toString()\n        }\n        return value\n      })\n    )\n  } catch (e) {\n    return a\n  }\n}\n\nfunction getFirstDefined (...args) {\n  for (let i = 0; i < args.length; i += 1) {\n    if (typeof args[i] !== 'undefined') {\n      return args[i]\n    }\n  }\n}\n\nfunction sum (arr) {\n  return arr.reduce((a, b) => a + b, 0)\n}\n\nfunction makeTemplateComponent (compClass, displayName) {\n  if (!displayName) {\n    throw new Error('No displayName found for template component:', compClass)\n  }\n  const cmp = ({ children, className, ...rest }) => (\n    <div className={classnames(compClass, className)} {...rest}>\n      {children}\n    </div>\n  )\n  cmp.displayName = displayName\n  return cmp\n}\n\nfunction groupBy (xs, key) {\n  return xs.reduce((rv, x, i) => {\n    const resKey = typeof key === 'function' ? key(x, i) : x[key]\n    rv[resKey] = isArray(rv[resKey]) ? rv[resKey] : []\n    rv[resKey].push(x)\n    return rv\n  }, {})\n}\n\nfunction asPx (value) {\n  value = Number(value)\n  return Number.isNaN(value) ? null : `${value}px`\n}\n\nfunction isArray (a) {\n  return Array.isArray(a)\n}\n\n// ########################################################################\n// Non-exported Helpers\n// ########################################################################\n\nfunction makePathArray (obj) {\n  return flattenDeep(obj)\n    .join('.')\n    .replace(/\\[/g, '.')\n    .replace(/\\]/g, '')\n    .split('.')\n}\n\nfunction flattenDeep (arr, newArr = []) {\n  if (!isArray(arr)) {\n    newArr.push(arr)\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr)\n    }\n  }\n  return newArr\n}\n\nfunction splitProps ({ className, style, ...rest }) {\n  return {\n    className,\n    style,\n    rest: rest || {},\n  }\n}\n\nfunction compactObject (obj) {\n  const newObj = {}\n  if (obj) {\n    Object.keys(obj).map(key => {\n      if (\n        Object.prototype.hasOwnProperty.call(obj, key) &&\n        obj[key] !== undefined &&\n        typeof obj[key] !== 'undefined'\n      ) {\n        newObj[key] = obj[key]\n      }\n      return true\n    })\n  }\n  return newObj\n}\n\nfunction isSortingDesc (d) {\n  return !!(d.sort === 'desc' || d.desc === true || d.asc === false)\n}\n\nfunction normalizeComponent(Comp, props, fallback = Comp) {\n  return isReactComponent(Comp) ? <Comp {...props} /> : typeof Comp === 'function' ? Comp(props) : fallback\n}\n\nfunction isClassComponent(component) {\n  return (\n    typeof component === 'function' &&\n    !!Object.getPrototypeOf(component).isReactComponent\n  )\n}\n\nfunction isFunctionComponent(component) {\n  return (\n    typeof component === 'function' &&\n    String(component).includes('.createElement')\n  )\n}\n\nfunction isReactComponent(component) {\n  return isClassComponent(component) || isFunctionComponent(component)\n}\n\n","import React, { Component } from 'react'\nimport classnames from 'classnames'\n\nconst defaultButton = props => (\n  <button type=\"button\" {...props} className=\"-btn\">\n    {props.children}\n  </button>\n)\n\nexport default class ReactTablePagination extends Component {\n  static defaultProps = {\n    PreviousComponent: defaultButton,\n    NextComponent: defaultButton,\n    renderPageJump: ({\n      onChange, value, onBlur, onKeyPress, inputType, pageJumpText,\n    }) => (\n      <div className=\"-pageJump\">\n        <input\n          aria-label={pageJumpText}\n          type={inputType}\n          onChange={onChange}\n          value={value}\n          onBlur={onBlur}\n          onKeyPress={onKeyPress}\n        />\n      </div>\n    ),\n    renderCurrentPage: page => <span className=\"-currentPage\">{page + 1}</span>,\n    renderTotalPagesCount: pages => <span className=\"-totalPages\">{pages || 1}</span>,\n    renderPageSizeOptions: ({\n      pageSize,\n      pageSizeOptions,\n      rowsSelectorText,\n      onPageSizeChange,\n      rowsText,\n    }) => (\n      <span className=\"select-wrap -pageSizeOptions\">\n        <select\n          aria-label={rowsSelectorText}\n          onChange={e => onPageSizeChange(Number(e.target.value))}\n          value={pageSize}\n        >\n          {pageSizeOptions.map((option, i) => (\n            // eslint-disable-next-line react/no-array-index-key\n            <option key={i} value={option}>\n              {`${option} ${rowsText}`}\n            </option>\n          ))}\n        </select>\n      </span>\n    ),\n  }\n\n  constructor (props) {\n    super(props)\n\n    this.getSafePage = this.getSafePage.bind(this)\n    this.changePage = this.changePage.bind(this)\n    this.applyPage = this.applyPage.bind(this)\n\n    this.state = {\n      page: props.page,\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps (nextProps) {\n    if (this.props.page !== nextProps.page) {\n      this.setState({ page: nextProps.page })\n    }\n  }\n\n  getSafePage (page) {\n    if (Number.isNaN(page)) {\n      page = this.props.page\n    }\n    return Math.min(Math.max(page, 0), this.props.pages - 1)\n  }\n\n  changePage (page) {\n    page = this.getSafePage(page)\n    this.setState({ page })\n    if (this.props.page !== page) {\n      this.props.onPageChange(page)\n    }\n  }\n\n  applyPage (e) {\n    if (e) {\n      e.preventDefault()\n    }\n    const page = this.state.page\n    this.changePage(page === '' ? this.props.page : page)\n  }\n\n  getPageJumpProperties () {\n    return {\n      onKeyPress: e => {\n        if (e.which === 13 || e.keyCode === 13) {\n          this.applyPage()\n        }\n      },\n      onBlur: this.applyPage,\n      value: this.state.page === '' ? '' : this.state.page + 1,\n      onChange: e => {\n        const val = e.target.value\n        const page = val - 1\n        if (val === '') {\n          return this.setState({ page: val })\n        }\n        this.setState({ page: this.getSafePage(page) })\n      },\n      inputType: this.state.page === '' ? 'text' : 'number',\n      pageJumpText: this.props.pageJumpText,\n    }\n  }\n\n  render () {\n    const {\n      // Computed\n      pages,\n      // Props\n      page,\n      showPageSizeOptions,\n      pageSizeOptions,\n      pageSize,\n      showPageJump,\n      canPrevious,\n      canNext,\n      onPageSizeChange,\n      className,\n      PreviousComponent,\n      NextComponent,\n      renderPageJump,\n      renderCurrentPage,\n      renderTotalPagesCount,\n      renderPageSizeOptions,\n    } = this.props\n\n    return (\n      <div className={classnames(className, '-pagination')} style={this.props.style}>\n        <div className=\"-previous\">\n          <PreviousComponent\n            onClick={() => {\n              if (!canPrevious) return\n              this.changePage(page - 1)\n            }}\n            disabled={!canPrevious}\n          >\n            {this.props.previousText}\n          </PreviousComponent>\n        </div>\n        <div className=\"-center\">\n          <span className=\"-pageInfo\">\n            {this.props.pageText}{' '}\n            {showPageJump ? renderPageJump(this.getPageJumpProperties()) : renderCurrentPage(page)}{' '}\n            {this.props.ofText} {renderTotalPagesCount(pages)}\n          </span>\n          {showPageSizeOptions &&\n            renderPageSizeOptions({\n              pageSize,\n              rowsSelectorText: this.props.rowsSelectorText,\n              pageSizeOptions,\n              onPageSizeChange,\n              rowsText: this.props.rowsText,\n            })}\n        </div>\n        <div className=\"-next\">\n          <NextComponent\n            onClick={() => {\n              if (!canNext) return\n              this.changePage(page + 1)\n            }}\n            disabled={!canNext}\n          >\n            {this.props.nextText}\n          </NextComponent>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport classnames from 'classnames'\n//\nimport _ from './utils'\nimport Pagination from './pagination'\n\nconst emptyObj = () => ({})\n\nexport default {\n  // General\n  data: [],\n  resolveData: data => data,\n  loading: false,\n  showPagination: true,\n  showPaginationTop: false,\n  showPaginationBottom: true,\n  showPageSizeOptions: true,\n  pageSizeOptions: [5, 10, 20, 25, 50, 100],\n  defaultPage: 0,\n  defaultPageSize: 20,\n  showPageJump: true,\n  collapseOnSortingChange: true,\n  collapseOnPageChange: true,\n  collapseOnDataChange: true,\n  freezeWhenExpanded: false,\n  sortable: true,\n  multiSort: true,\n  resizable: true,\n  filterable: false,\n  defaultSortDesc: false,\n  defaultSorted: [],\n  defaultFiltered: [],\n  defaultResized: [],\n  defaultExpanded: {},\n  // eslint-disable-next-line no-unused-vars\n  defaultFilterMethod: (filter, row, column) => {\n    const id = filter.pivotId || filter.id\n    return row[id] !== undefined ? String(row[id]).startsWith(filter.value) : true\n  },\n  // eslint-disable-next-line no-unused-vars\n  defaultSortMethod: (a, b, desc) => {\n    // force null and undefined to the bottom\n    a = a === null || a === undefined ? '' : a\n    b = b === null || b === undefined ? '' : b\n    // force any string values to lowercase\n    a = typeof a === 'string' ? a.toLowerCase() : a\n    b = typeof b === 'string' ? b.toLowerCase() : b\n    // Return either 1 or -1 to indicate a sort priority\n    if (a > b) {\n      return 1\n    }\n    if (a < b) {\n      return -1\n    }\n    // returning 0, undefined or any falsey value will use subsequent sorts or\n    // the index as a tiebreaker\n    return 0\n  },\n\n  // Controlled State Props\n  // page: undefined,\n  // pageSize: undefined,\n  // sorted: [],\n  // filtered: [],\n  // resized: [],\n  // expanded: {},\n\n  // Controlled State Callbacks\n  onPageChange: undefined,\n  onPageSizeChange: undefined,\n  onSortedChange: undefined,\n  onFilteredChange: undefined,\n  onResizedChange: undefined,\n  onExpandedChange: undefined,\n\n  // Pivoting\n  pivotBy: undefined,\n\n  // Key Constants\n  pivotValKey: '_pivotVal',\n  pivotIDKey: '_pivotID',\n  subRowsKey: '_subRows',\n  aggregatedKey: '_aggregated',\n  nestingLevelKey: '_nestingLevel',\n  originalKey: '_original',\n  indexKey: '_index',\n  groupedByPivotKey: '_groupedByPivot',\n\n  // Server-side Callbacks\n  onFetchData: () => null,\n\n  // Classes\n  className: '',\n  style: {},\n\n  // Component decorators\n  getProps: emptyObj,\n  getTableProps: emptyObj,\n  getTheadGroupProps: emptyObj,\n  getTheadGroupTrProps: emptyObj,\n  getTheadGroupThProps: emptyObj,\n  getTheadProps: emptyObj,\n  getTheadTrProps: emptyObj,\n  getTheadThProps: emptyObj,\n  getTheadFilterProps: emptyObj,\n  getTheadFilterTrProps: emptyObj,\n  getTheadFilterThProps: emptyObj,\n  getTbodyProps: emptyObj,\n  getTrGroupProps: emptyObj,\n  getTrProps: emptyObj,\n  getTdProps: emptyObj,\n  getTfootProps: emptyObj,\n  getTfootTrProps: emptyObj,\n  getTfootTdProps: emptyObj,\n  getPaginationProps: emptyObj,\n  getLoadingProps: emptyObj,\n  getNoDataProps: emptyObj,\n  getResizerProps: emptyObj,\n\n  // Global Column Defaults\n  column: {\n    // Renderers\n    Cell: undefined,\n    Header: undefined,\n    Footer: undefined,\n    Aggregated: undefined,\n    Pivot: undefined,\n    PivotValue: undefined,\n    Expander: undefined,\n    Filter: undefined,\n    Placeholder: undefined,\n    // All Columns\n    sortable: undefined, // use table default\n    resizable: undefined, // use table default\n    filterable: undefined, // use table default\n    show: true,\n    minWidth: 100,\n    minResizeWidth: 11,\n    // Cells only\n    className: '',\n    style: {},\n    getProps: emptyObj,\n    // Pivot only\n    aggregate: undefined,\n    // Headers only\n    headerClassName: '',\n    headerStyle: {},\n    getHeaderProps: emptyObj,\n    // Footers only\n    footerClassName: '',\n    footerStyle: {},\n    getFooterProps: emptyObj,\n    filterMethod: undefined,\n    filterAll: false,\n    sortMethod: undefined,\n  },\n\n  // Global Expander Column Defaults\n  expanderDefaults: {\n    sortable: false,\n    resizable: false,\n    filterable: false,\n    width: 35,\n  },\n\n  pivotDefaults: {\n    // extend the defaults for pivoted columns here\n  },\n\n  // Text\n  previousText: 'Previous',\n  nextText: 'Next',\n  loadingText: 'Loading...',\n  noDataText: 'No rows found',\n  pageText: 'Page',\n  ofText: 'of',\n  rowsText: 'rows',\n  pageJumpText: 'jump to page',\n  rowsSelectorText: 'rows per page',\n\n  // Components\n  TableComponent: ({ children, className, ...rest }) => (\n    <div\n      className={classnames('rt-table', className)}\n      role=\"grid\"\n      // tabIndex='0'\n      {...rest}\n    >\n      {children}\n    </div>\n  ),\n  TheadComponent: _.makeTemplateComponent('rt-thead', 'Thead'),\n  TbodyComponent: _.makeTemplateComponent('rt-tbody', 'Tbody'),\n  TrGroupComponent: ({ children, className, ...rest }) => (\n    <div className={classnames('rt-tr-group', className)} role=\"rowgroup\" {...rest}>\n      {children}\n    </div>\n  ),\n  TrComponent: ({ children, className, ...rest }) => (\n    <div className={classnames('rt-tr', className)} role=\"row\" {...rest}>\n      {children}\n    </div>\n  ),\n  ThComponent: ({\n    toggleSort, className, children, ...rest\n  }) => (\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events\n    <div\n      className={classnames('rt-th', className)}\n      onClick={e => toggleSort && toggleSort(e)}\n      role=\"columnheader\"\n      tabIndex=\"-1\" // Resolves eslint issues without implementing keyboard navigation incorrectly\n      {...rest}\n    >\n      {children}\n    </div>\n  ),\n  TdComponent: ({\n    toggleSort, className, children, ...rest\n  }) => (\n    <div className={classnames('rt-td', className)} role=\"gridcell\" {...rest}>\n      {children}\n    </div>\n  ),\n  TfootComponent: _.makeTemplateComponent('rt-tfoot', 'Tfoot'),\n  FilterComponent: ({ filter, onChange, column }) => (\n    <input\n      type=\"text\"\n      style={{\n        width: '100%',\n      }}\n      placeholder={column.Placeholder}\n      value={filter ? filter.value : ''}\n      onChange={event => onChange(event.target.value)}\n    />\n  ),\n  ExpanderComponent: ({ isExpanded }) => (\n    <div className={classnames('rt-expander', isExpanded && '-open')}>&bull;</div>\n  ),\n  PivotValueComponent: ({ subRows, value }) => (\n    <span>\n      {value} {subRows && `(${subRows.length})`}\n    </span>\n  ),\n  AggregatedComponent: ({ subRows, column }) => {\n    const previewValues = subRows.filter(d => typeof d[column.id] !== 'undefined').map((row, i) => (\n      // eslint-disable-next-line react/no-array-index-key\n      <span key={i}>\n        {row[column.id]}\n        {i < subRows.length - 1 ? ', ' : ''}\n      </span>\n    ))\n    return <span>{previewValues}</span>\n  },\n  PivotComponent: undefined, // this is a computed default generated using\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: Pagination,\n  PreviousComponent: undefined,\n  NextComponent: undefined,\n  LoadingComponent: ({\n    className, loading, loadingText, ...rest\n  }) => (\n    <div className={classnames('-loading', { '-active': loading }, className)} {...rest}>\n      <div className=\"-loading-inner\">{loadingText}</div>\n    </div>\n  ),\n  NoDataComponent: _.makeTemplateComponent('rt-noData', 'NoData'),\n  ResizerComponent: _.makeTemplateComponent('rt-resizer', 'Resizer'),\n  PadRowComponent: () => <span>&nbsp;</span>,\n}\n","import PropTypes from 'prop-types'\n\nexport default {\n  // General\n  data: PropTypes.any,\n  loading: PropTypes.bool,\n  showPagination: PropTypes.bool,\n  showPaginationTop: PropTypes.bool,\n  showPaginationBottom: PropTypes.bool,\n  showPageSizeOptions: PropTypes.bool,\n  pageSizeOptions: PropTypes.array,\n  defaultPageSize: PropTypes.number,\n  showPageJump: PropTypes.bool,\n  collapseOnSortingChange: PropTypes.bool,\n  collapseOnPageChange: PropTypes.bool,\n  collapseOnDataChange: PropTypes.bool,\n  freezeWhenExpanded: PropTypes.bool,\n  sortable: PropTypes.bool,\n  resizable: PropTypes.bool,\n  filterable: PropTypes.bool,\n  defaultSortDesc: PropTypes.bool,\n  defaultSorted: PropTypes.array,\n  defaultFiltered: PropTypes.array,\n  defaultResized: PropTypes.array,\n  defaultExpanded: PropTypes.object,\n  defaultFilterMethod: PropTypes.func,\n  defaultSortMethod: PropTypes.func,\n\n  // Controlled State Callbacks\n  onPageChange: PropTypes.func,\n  onPageSizeChange: PropTypes.func,\n  onSortedChange: PropTypes.func,\n  onFilteredChange: PropTypes.func,\n  onResizedChange: PropTypes.func,\n  onExpandedChange: PropTypes.func,\n\n  // Pivoting\n  pivotBy: PropTypes.array,\n\n  // Key Constants\n  pivotValKey: PropTypes.string,\n  pivotIDKey: PropTypes.string,\n  subRowsKey: PropTypes.string,\n  aggregatedKey: PropTypes.string,\n  nestingLevelKey: PropTypes.string,\n  originalKey: PropTypes.string,\n  indexKey: PropTypes.string,\n  groupedByPivotKey: PropTypes.string,\n\n  // Server-side Callbacks\n  onFetchData: PropTypes.func,\n\n  // Classes\n  className: PropTypes.string,\n  style: PropTypes.object,\n\n  // Component decorators\n  getProps: PropTypes.func,\n  getTableProps: PropTypes.func,\n  getTheadGroupProps: PropTypes.func,\n  getTheadGroupTrProps: PropTypes.func,\n  getTheadGroupThProps: PropTypes.func,\n  getTheadProps: PropTypes.func,\n  getTheadTrProps: PropTypes.func,\n  getTheadThProps: PropTypes.func,\n  getTheadFilterProps: PropTypes.func,\n  getTheadFilterTrProps: PropTypes.func,\n  getTheadFilterThProps: PropTypes.func,\n  getTbodyProps: PropTypes.func,\n  getTrGroupProps: PropTypes.func,\n  getTrProps: PropTypes.func,\n  getTdProps: PropTypes.func,\n  getTfootProps: PropTypes.func,\n  getTfootTrProps: PropTypes.func,\n  getTfootTdProps: PropTypes.func,\n  getPaginationProps: PropTypes.func,\n  getLoadingProps: PropTypes.func,\n  getNoDataProps: PropTypes.func,\n  getResizerProps: PropTypes.func,\n\n  // Global Column Defaults\n  columns: PropTypes.arrayOf(\n    PropTypes.shape({\n      // Renderers\n      Cell: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Header: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Footer: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Aggregated: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Pivot: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      PivotValue: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Expander: PropTypes.oneOfType([PropTypes.element, PropTypes.string, PropTypes.func]),\n      Filter: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n      // All Columns\n      sortable: PropTypes.bool, // use table default\n      resizable: PropTypes.bool, // use table default\n      filterable: PropTypes.bool, // use table default\n      show: PropTypes.bool,\n      minWidth: PropTypes.number,\n      minResizeWidth: PropTypes.number,\n\n      // Cells only\n      className: PropTypes.string,\n      style: PropTypes.object,\n      getProps: PropTypes.func,\n\n      // Pivot only\n      aggregate: PropTypes.func,\n\n      // Headers only\n      headerClassName: PropTypes.string,\n      headerStyle: PropTypes.object,\n      getHeaderProps: PropTypes.func,\n\n      // Footers only\n      footerClassName: PropTypes.string,\n      footerStyle: PropTypes.object,\n      getFooterProps: PropTypes.func,\n      filterMethod: PropTypes.func,\n      filterAll: PropTypes.bool,\n      sortMethod: PropTypes.func,\n    })\n  ),\n\n  // Global Expander Column Defaults\n  expanderDefaults: PropTypes.shape({\n    sortable: PropTypes.bool,\n    resizable: PropTypes.bool,\n    filterable: PropTypes.bool,\n    width: PropTypes.number,\n  }),\n\n  pivotDefaults: PropTypes.object,\n\n  // Text\n  previousText: PropTypes.node,\n  nextText: PropTypes.node,\n  loadingText: PropTypes.node,\n  noDataText: PropTypes.node,\n  pageText: PropTypes.node,\n  ofText: PropTypes.node,\n  rowsText: PropTypes.node,\n  pageJumpText: PropTypes.node,\n  rowsSelectorText: PropTypes.node,\n\n  // Components\n  TableComponent: PropTypes.elementType,\n  TheadComponent: PropTypes.elementType,\n  TbodyComponent: PropTypes.elementType,\n  TrGroupComponent: PropTypes.elementType,\n  TrComponent: PropTypes.elementType,\n  ThComponent: PropTypes.elementType,\n  TdComponent: PropTypes.elementType,\n  TfootComponent: PropTypes.elementType,\n  FilterComponent: PropTypes.elementType,\n  ExpanderComponent: PropTypes.elementType,\n  PivotValueComponent: PropTypes.elementType,\n  AggregatedComponent: PropTypes.elementType,\n  // this is a computed default generated using\n  PivotComponent: PropTypes.elementType,\n  // the ExpanderComponent and PivotValueComponent at run-time in methods.js\n  PaginationComponent: PropTypes.elementType,\n  PreviousComponent: PropTypes.elementType,\n  NextComponent: PropTypes.elementType,\n  LoadingComponent: PropTypes.elementType,\n  NoDataComponent: PropTypes.elementType,\n  ResizerComponent: PropTypes.elementType,\n  PadRowComponent: PropTypes.elementType,\n}\n","import React, { Component } from 'react'\nimport classnames from 'classnames'\n//\nimport _ from './utils'\nimport Lifecycle from './lifecycle'\nimport Methods from './methods'\nimport defaultProps from './defaultProps'\nimport propTypes from './propTypes'\n\nexport const ReactTableDefaults = defaultProps\n\nexport default class ReactTable extends Methods(Lifecycle(Component)) {\n  static propTypes = propTypes\n  static defaultProps = defaultProps\n\n  constructor (props) {\n    super()\n\n    this.getResolvedState = this.getResolvedState.bind(this)\n    this.getDataModel = this.getDataModel.bind(this)\n    this.getSortedData = this.getSortedData.bind(this)\n    this.fireFetchData = this.fireFetchData.bind(this)\n    this.getPropOrState = this.getPropOrState.bind(this)\n    this.getStateOrProp = this.getStateOrProp.bind(this)\n    this.filterData = this.filterData.bind(this)\n    this.sortData = this.sortData.bind(this)\n    this.getMinRows = this.getMinRows.bind(this)\n    this.onPageChange = this.onPageChange.bind(this)\n    this.onPageSizeChange = this.onPageSizeChange.bind(this)\n    this.sortColumn = this.sortColumn.bind(this)\n    this.filterColumn = this.filterColumn.bind(this)\n    this.resizeColumnStart = this.resizeColumnStart.bind(this)\n    this.resizeColumnEnd = this.resizeColumnEnd.bind(this)\n    this.resizeColumnMoving = this.resizeColumnMoving.bind(this)\n\n    this.state = {\n      page: props.defaultPage,\n      pageSize: props.defaultPageSize,\n      sorted: props.defaultSorted,\n      expanded: props.defaultExpanded,\n      filtered: props.defaultFiltered,\n      resized: props.defaultResized,\n      currentlyResizing: false,\n      skipNextSort: false,\n    }\n  }\n\n  render () {\n    const resolvedState = this.getResolvedState()\n    const {\n      children,\n      className,\n      style,\n      getProps,\n      getTableProps,\n      getTheadGroupProps,\n      getTheadGroupTrProps,\n      getTheadGroupThProps,\n      getTheadProps,\n      getTheadTrProps,\n      getTheadThProps,\n      getTheadFilterProps,\n      getTheadFilterTrProps,\n      getTheadFilterThProps,\n      getTbodyProps,\n      getTrGroupProps,\n      getTrProps,\n      getTdProps,\n      getTfootProps,\n      getTfootTrProps,\n      getTfootTdProps,\n      getPaginationProps,\n      getLoadingProps,\n      getNoDataProps,\n      getResizerProps,\n      showPagination,\n      showPaginationTop,\n      showPaginationBottom,\n      manual,\n      loadingText,\n      noDataText,\n      sortable,\n      multiSort,\n      resizable,\n      filterable,\n      // Pivoting State\n      pivotIDKey,\n      pivotValKey,\n      pivotBy,\n      subRowsKey,\n      aggregatedKey,\n      originalKey,\n      indexKey,\n      groupedByPivotKey,\n      // State\n      loading,\n      pageSize,\n      page,\n      sorted,\n      filtered,\n      resized,\n      expanded,\n      pages,\n      onExpandedChange,\n      // Components\n      TableComponent,\n      TheadComponent,\n      TbodyComponent,\n      TrGroupComponent,\n      TrComponent,\n      ThComponent,\n      TdComponent,\n      TfootComponent,\n      PaginationComponent,\n      LoadingComponent,\n      SubComponent,\n      NoDataComponent,\n      ResizerComponent,\n      ExpanderComponent,\n      PivotValueComponent,\n      PivotComponent,\n      AggregatedComponent,\n      FilterComponent,\n      PadRowComponent,\n      // Data model\n      resolvedData,\n      allVisibleColumns,\n      headerGroups,\n      hasHeaderGroups,\n      // Sorted Data\n      sortedData,\n      currentlyResizing,\n    } = resolvedState\n\n    // Pagination\n    const startRow = pageSize * page\n    const endRow = startRow + pageSize\n    let pageRows = manual ? resolvedData : sortedData.slice(startRow, endRow)\n    const minRows = this.getMinRows()\n    const padRows = _.range(Math.max(minRows - pageRows.length, 0))\n\n    const hasColumnFooter = allVisibleColumns.some(d => d.Footer)\n    const hasFilters = filterable || allVisibleColumns.some(d => d.filterable)\n\n    const recurseRowsViewIndex = (rows, path = [], index = -1) => [\n      rows.map((row, i) => {\n        index += 1\n        const rowWithViewIndex = {\n          ...row,\n          _viewIndex: index,\n        }\n        const newPath = path.concat([i])\n        if (rowWithViewIndex[subRowsKey] && _.get(expanded, newPath)) {\n          [rowWithViewIndex[subRowsKey], index] = recurseRowsViewIndex(\n            rowWithViewIndex[subRowsKey],\n            newPath,\n            index\n          )\n        }\n        return rowWithViewIndex\n      }),\n      index,\n    ];\n    [pageRows] = recurseRowsViewIndex(pageRows)\n\n    const canPrevious = page > 0\n    const canNext = page + 1 < pages\n\n    const rowMinWidth = _.sum(\n      allVisibleColumns.map(d => {\n        const resizedColumn = resized.find(x => x.id === d.id) || {}\n        return _.getFirstDefined(resizedColumn.value, d.width, d.minWidth)\n      })\n    )\n\n    let rowIndex = -1\n\n    const finalState = {\n      ...resolvedState,\n      startRow,\n      endRow,\n      pageRows,\n      minRows,\n      padRows,\n      hasColumnFooter,\n      canPrevious,\n      canNext,\n      rowMinWidth,\n    }\n\n    const rootProps = _.splitProps(getProps(finalState, undefined, undefined, this))\n    const tableProps = _.splitProps(getTableProps(finalState, undefined, undefined, this))\n    const tBodyProps = _.splitProps(getTbodyProps(finalState, undefined, undefined, this))\n    const loadingProps = getLoadingProps(finalState, undefined, undefined, this)\n    const noDataProps = getNoDataProps(finalState, undefined, undefined, this)\n\n    // Visual Components\n\n    const makeHeaderGroup = (column, i) => {\n      const resizedValue = col => (resized.find(x => x.id === col.id) || {}).value\n      const flex = _.sum(\n        column.columns.map(col => (col.width || resizedValue(col) ? 0 : col.minWidth))\n      )\n      const width = _.sum(\n        column.columns.map(col => _.getFirstDefined(resizedValue(col), col.width, col.minWidth))\n      )\n      const maxWidth = _.sum(\n        column.columns.map(col => _.getFirstDefined(resizedValue(col), col.width, col.maxWidth))\n      )\n\n      const theadGroupThProps = _.splitProps(\n        getTheadGroupThProps(finalState, undefined, column, this)\n      )\n      const columnHeaderProps = _.splitProps(\n        column.getHeaderProps(finalState, undefined, column, this)\n      )\n\n      const classes = [\n        column.headerClassName,\n        theadGroupThProps.className,\n        columnHeaderProps.className,\n      ]\n\n      const styles = {\n        ...column.headerStyle,\n        ...theadGroupThProps.style,\n        ...columnHeaderProps.style,\n      }\n\n      const rest = {\n        ...theadGroupThProps.rest,\n        ...columnHeaderProps.rest,\n      }\n\n      const flexStyles = {\n        flex: `${flex} 0 auto`,\n        width: _.asPx(width),\n        maxWidth: _.asPx(maxWidth),\n      }\n\n      return (\n        <ThComponent\n          key={`${i}-${column.id}`}\n          className={classnames(classes)}\n          style={{\n            ...styles,\n            ...flexStyles,\n          }}\n          {...rest}\n        >\n          {_.normalizeComponent(column.Header, {\n            data: sortedData,\n            column,\n          })}\n        </ThComponent>\n      )\n    }\n\n    const makeHeaderGroups = () => {\n      const theadGroupProps = _.splitProps(\n        getTheadGroupProps(finalState, undefined, undefined, this)\n      )\n      const theadGroupTrProps = _.splitProps(\n        getTheadGroupTrProps(finalState, undefined, undefined, this)\n      )\n      return (\n        <TheadComponent\n          className={classnames('-headerGroups', theadGroupProps.className)}\n          style={{\n            ...theadGroupProps.style,\n            minWidth: `${rowMinWidth}px`,\n          }}\n          {...theadGroupProps.rest}\n        >\n          <TrComponent\n            className={theadGroupTrProps.className}\n            style={theadGroupTrProps.style}\n            {...theadGroupTrProps.rest}\n          >\n            {headerGroups.map(makeHeaderGroup)}\n          </TrComponent>\n        </TheadComponent>\n      )\n    }\n\n    const makeHeader = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {}\n      const sort = sorted.find(d => d.id === column.id)\n      const show = typeof column.show === 'function' ? column.show() : column.show\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n      const theadThProps = _.splitProps(getTheadThProps(finalState, undefined, column, this))\n      const columnHeaderProps = _.splitProps(\n        column.getHeaderProps(finalState, undefined, column, this)\n      )\n\n      const classes = [column.headerClassName, theadThProps.className, columnHeaderProps.className]\n\n      const styles = {\n        ...column.headerStyle,\n        ...theadThProps.style,\n        ...columnHeaderProps.style,\n      }\n\n      const rest = {\n        ...theadThProps.rest,\n        ...columnHeaderProps.rest,\n      }\n\n      const isResizable = _.getFirstDefined(column.resizable, resizable, false)\n      const resizer = isResizable ? (\n        <ResizerComponent\n          onMouseDown={e => this.resizeColumnStart(e, column, false)}\n          onTouchStart={e => this.resizeColumnStart(e, column, true)}\n          {...getResizerProps('finalState', undefined, column, this)}\n        />\n      ) : null\n\n      const isSortable = _.getFirstDefined(column.sortable, sortable, false)\n\n      return (\n        <ThComponent\n          key={`${i}-${column.id}`}\n          className={classnames(\n            classes,\n            isResizable && 'rt-resizable-header',\n            sort ? (sort.desc ? '-sort-desc' : '-sort-asc') : '',\n            isSortable && '-cursor-pointer',\n            !show && '-hidden',\n            pivotBy && pivotBy.slice(0, -1).includes(column.id) && 'rt-header-pivot'\n          )}\n          style={{\n            ...styles,\n            flex: `${width} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth),\n          }}\n          toggleSort={e => {\n            if (isSortable) this.sortColumn(column, multiSort ? e.shiftKey : false)\n          }}\n          {...rest}\n        >\n          <div className={classnames(isResizable && 'rt-resizable-header-content')}>\n            {_.normalizeComponent(column.Header, {\n              data: sortedData,\n              column,\n            })}\n          </div>\n          {resizer}\n        </ThComponent>\n      )\n    }\n\n    const makeHeaders = () => {\n      const theadProps = _.splitProps(getTheadProps(finalState, undefined, undefined, this))\n      const theadTrProps = _.splitProps(getTheadTrProps(finalState, undefined, undefined, this))\n      return (\n        <TheadComponent\n          className={classnames('-header', theadProps.className)}\n          style={{\n            ...theadProps.style,\n            minWidth: `${rowMinWidth}px`,\n          }}\n          {...theadProps.rest}\n        >\n          <TrComponent\n            className={theadTrProps.className}\n            style={theadTrProps.style}\n            {...theadTrProps.rest}\n          >\n            {allVisibleColumns.map(makeHeader)}\n          </TrComponent>\n        </TheadComponent>\n      )\n    }\n\n    const makeFilter = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {}\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n      const theadFilterThProps = _.splitProps(\n        getTheadFilterThProps(finalState, undefined, column, this)\n      )\n      const columnHeaderProps = _.splitProps(\n        column.getHeaderProps(finalState, undefined, column, this)\n      )\n\n      const classes = [\n        column.headerClassName,\n        theadFilterThProps.className,\n        columnHeaderProps.className,\n      ]\n\n      const styles = {\n        ...column.headerStyle,\n        ...theadFilterThProps.style,\n        ...columnHeaderProps.style,\n      }\n\n      const rest = {\n        ...theadFilterThProps.rest,\n        ...columnHeaderProps.rest,\n      }\n\n      const filter = filtered.find(filter => filter.id === column.id)\n\n      const ResolvedFilterComponent = column.Filter || FilterComponent\n\n      const isFilterable = _.getFirstDefined(column.filterable, filterable, false)\n\n      return (\n        <ThComponent\n          key={`${i}-${column.id}`}\n          className={classnames(classes)}\n          style={{\n            ...styles,\n            flex: `${width} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth),\n          }}\n          {...rest}\n        >\n          {isFilterable\n            ? _.normalizeComponent(\n                ResolvedFilterComponent,\n                {\n                  column,\n                  filter,\n                  onChange: value => this.filterColumn(column, value),\n                },\n                defaultProps.column.Filter\n              )\n            : null}\n        </ThComponent>\n      )\n    }\n\n    const makeFilters = () => {\n      const theadFilterProps = _.splitProps(\n        getTheadFilterProps(finalState, undefined, undefined, this)\n      )\n      const theadFilterTrProps = _.splitProps(\n        getTheadFilterTrProps(finalState, undefined, undefined, this)\n      )\n      return (\n        <TheadComponent\n          className={classnames('-filters', theadFilterProps.className)}\n          style={{\n            ...theadFilterProps.style,\n            minWidth: `${rowMinWidth}px`,\n          }}\n          {...theadFilterProps.rest}\n        >\n          <TrComponent\n            className={theadFilterTrProps.className}\n            style={theadFilterTrProps.style}\n            {...theadFilterTrProps.rest}\n          >\n            {allVisibleColumns.map(makeFilter)}\n          </TrComponent>\n        </TheadComponent>\n      )\n    }\n\n    const makePageRow = (row, i, path = []) => {\n      const rowInfo = {\n        original: row[originalKey],\n        row,\n        index: row[indexKey],\n        viewIndex: (rowIndex += 1),\n        pageSize,\n        page,\n        level: path.length,\n        nestingPath: path.concat([i]),\n        aggregated: row[aggregatedKey],\n        groupedByPivot: row[groupedByPivotKey],\n        subRows: row[subRowsKey],\n      }\n      const isExpanded = _.get(expanded, rowInfo.nestingPath)\n      const trGroupProps = getTrGroupProps(finalState, rowInfo, undefined, this)\n      const trProps = _.splitProps(getTrProps(finalState, rowInfo, undefined, this))\n      return (\n        <TrGroupComponent key={rowInfo.nestingPath.join('_')} {...trGroupProps}>\n          <TrComponent\n            className={classnames(trProps.className, row._viewIndex % 2 ? '-even' : '-odd')}\n            style={trProps.style}\n            {...trProps.rest}\n          >\n            {allVisibleColumns.map((column, i2) => {\n              const resizedCol = resized.find(x => x.id === column.id) || {}\n              const show = typeof column.show === 'function' ? column.show() : column.show\n              const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n              const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n              const tdProps = _.splitProps(getTdProps(finalState, rowInfo, column, this))\n              const columnProps = _.splitProps(column.getProps(finalState, rowInfo, column, this))\n\n              const classes = [tdProps.className, column.className, columnProps.className]\n\n              const styles = {\n                ...tdProps.style,\n                ...column.style,\n                ...columnProps.style,\n              }\n\n              const cellInfo = {\n                ...rowInfo,\n                isExpanded,\n                column: { ...column },\n                value: rowInfo.row[column.id],\n                pivoted: column.pivoted,\n                expander: column.expander,\n                resized,\n                show,\n                width,\n                maxWidth,\n                tdProps,\n                columnProps,\n                classes,\n                styles,\n              }\n\n              const value = cellInfo.value\n\n              let useOnExpanderClick\n              let isBranch\n              let isPreview\n\n              const onExpanderClick = e => {\n                let newExpanded = _.clone(expanded)\n                if (isExpanded) {\n                  newExpanded = _.set(newExpanded, cellInfo.nestingPath, false)\n                } else {\n                  newExpanded = _.set(newExpanded, cellInfo.nestingPath, {})\n                }\n\n                return this.setStateWithData(\n                  {\n                    expanded: newExpanded,\n                  },\n                  () =>\n                    onExpandedChange &&\n                    onExpandedChange(newExpanded, cellInfo.nestingPath, e, cellInfo)\n                )\n              }\n\n              // Default to a standard cell\n              let resolvedCell = _.normalizeComponent(column.Cell, cellInfo, value)\n\n              // Resolve Renderers\n              const ResolvedAggregatedComponent =\n                column.Aggregated || (!column.aggregate ? AggregatedComponent : column.Cell)\n              const ResolvedExpanderComponent = column.Expander || ExpanderComponent\n              const ResolvedPivotValueComponent = column.PivotValue || PivotValueComponent\n              const DefaultResolvedPivotComponent =\n                PivotComponent ||\n                (props => (\n                  <div>\n                    <ResolvedExpanderComponent {...props} />\n                    <ResolvedPivotValueComponent {...props} />\n                  </div>\n                ))\n              const ResolvedPivotComponent = column.Pivot || DefaultResolvedPivotComponent\n\n              // Is this cell expandable?\n              if (cellInfo.pivoted || cellInfo.expander) {\n                // Make it expandable by defualt\n                cellInfo.expandable = true\n                useOnExpanderClick = true\n                // If pivoted, has no subRows, and does not have a subComponent,\n                // do not make expandable\n                if (cellInfo.pivoted && !cellInfo.subRows && !SubComponent) {\n                  cellInfo.expandable = false\n                }\n              }\n\n              if (cellInfo.pivoted) {\n                // Is this column a branch?\n                isBranch = rowInfo.row[pivotIDKey] === column.id && cellInfo.subRows\n                // Should this column be blank?\n                isPreview =\n                  pivotBy.indexOf(column.id) > pivotBy.indexOf(rowInfo.row[pivotIDKey]) &&\n                  cellInfo.subRows\n                // Pivot Cell Render Override\n                if (isBranch) {\n                  // isPivot\n                  resolvedCell = _.normalizeComponent(\n                    ResolvedPivotComponent,\n                    {\n                      ...cellInfo,\n                      value: row[pivotValKey],\n                    },\n                    row[pivotValKey]\n                  )\n                } else if (isPreview) {\n                  // Show the pivot preview\n                  resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value)\n                } else {\n                  resolvedCell = null\n                }\n              } else if (cellInfo.aggregated) {\n                resolvedCell = _.normalizeComponent(ResolvedAggregatedComponent, cellInfo, value)\n              }\n\n              if (cellInfo.expander) {\n                resolvedCell = _.normalizeComponent(\n                  ResolvedExpanderComponent,\n                  cellInfo,\n                  row[pivotValKey]\n                )\n                if (pivotBy) {\n                  if (cellInfo.groupedByPivot) {\n                    resolvedCell = null\n                  }\n                  if (!cellInfo.subRows && !SubComponent) {\n                    resolvedCell = null\n                  }\n                }\n              }\n\n              const resolvedOnExpanderClick = useOnExpanderClick ? onExpanderClick : () => {}\n\n              // If there are multiple onClick events, make sure they don't\n              // override eachother. This should maybe be expanded to handle all\n              // function attributes\n              const interactionProps = {\n                onClick: resolvedOnExpanderClick,\n              }\n\n              if (tdProps.rest.onClick) {\n                interactionProps.onClick = e => {\n                  tdProps.rest.onClick(e, () => resolvedOnExpanderClick(e))\n                }\n              }\n\n              if (columnProps.rest.onClick) {\n                interactionProps.onClick = e => {\n                  columnProps.rest.onClick(e, () => resolvedOnExpanderClick(e))\n                }\n              }\n\n              // Return the cell\n              return (\n                <TdComponent\n                  // eslint-disable-next-line react/no-array-index-key\n                  key={`${i2}-${column.id}`}\n                  className={classnames(\n                    classes,\n                    !cellInfo.expandable && !show && 'hidden',\n                    cellInfo.expandable && 'rt-expandable',\n                    (isBranch || isPreview) && 'rt-pivot'\n                  )}\n                  style={{\n                    ...styles,\n                    flex: `${width} 0 auto`,\n                    width: _.asPx(width),\n                    maxWidth: _.asPx(maxWidth),\n                  }}\n                  {...tdProps.rest}\n                  {...columnProps.rest}\n                  {...interactionProps}\n                >\n                  {resolvedCell}\n                </TdComponent>\n              )\n            })}\n          </TrComponent>\n          {rowInfo.subRows &&\n            isExpanded &&\n            rowInfo.subRows.map((d, i) => makePageRow(d, i, rowInfo.nestingPath))}\n          {SubComponent &&\n            !rowInfo.subRows &&\n            isExpanded &&\n            SubComponent(rowInfo, () => {\n              const newExpanded = _.clone(expanded)\n\n              _.set(newExpanded, rowInfo.nestingPath, false)\n            })}\n        </TrGroupComponent>\n      )\n    }\n\n    const makePadColumn = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {}\n      const show = typeof column.show === 'function' ? column.show() : column.show\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n      const flex = width\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n      const tdProps = _.splitProps(getTdProps(finalState, undefined, column, this))\n      const columnProps = _.splitProps(column.getProps(finalState, undefined, column, this))\n\n      const classes = [tdProps.className, column.className, columnProps.className]\n\n      const styles = {\n        ...tdProps.style,\n        ...column.style,\n        ...columnProps.style,\n      }\n\n      return (\n        <TdComponent\n          key={`${i}-${column.id}`}\n          className={classnames(classes, !show && 'hidden')}\n          style={{\n            ...styles,\n            flex: `${flex} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth),\n          }}\n          {...tdProps.rest}\n        >\n          {_.normalizeComponent(PadRowComponent)}\n        </TdComponent>\n      )\n    }\n\n    const makePadRow = (row, i) => {\n      const trGroupProps = getTrGroupProps(finalState, undefined, undefined, this)\n      const trProps = _.splitProps(getTrProps(finalState, undefined, undefined, this))\n      return (\n        <TrGroupComponent key={`pad-${i}`} {...trGroupProps}>\n          <TrComponent\n            className={classnames(\n              '-padRow',\n              (pageRows.length + i) % 2 ? '-even' : '-odd',\n              trProps.className\n            )}\n            style={trProps.style || {}}\n          >\n            {allVisibleColumns.map(makePadColumn)}\n          </TrComponent>\n        </TrGroupComponent>\n      )\n    }\n\n    const makeColumnFooter = (column, i) => {\n      const resizedCol = resized.find(x => x.id === column.id) || {}\n      const show = typeof column.show === 'function' ? column.show() : column.show\n      const width = _.getFirstDefined(resizedCol.value, column.width, column.minWidth)\n      const maxWidth = _.getFirstDefined(resizedCol.value, column.width, column.maxWidth)\n      const tFootTdProps = _.splitProps(getTfootTdProps(finalState, undefined, column, this))\n      const columnProps = _.splitProps(column.getProps(finalState, undefined, column, this))\n      const columnFooterProps = _.splitProps(\n        column.getFooterProps(finalState, undefined, column, this)\n      )\n\n      const classes = [\n        tFootTdProps.className,\n        column.className,\n        columnProps.className,\n        columnFooterProps.className,\n      ]\n\n      const styles = {\n        ...tFootTdProps.style,\n        ...column.style,\n        ...columnProps.style,\n        ...columnFooterProps.style,\n      }\n\n      return (\n        <TdComponent\n          key={`${i}-${column.id}`}\n          className={classnames(classes, !show && 'hidden')}\n          style={{\n            ...styles,\n            flex: `${width} 0 auto`,\n            width: _.asPx(width),\n            maxWidth: _.asPx(maxWidth),\n          }}\n          {...columnProps.rest}\n          {...tFootTdProps.rest}\n          {...columnFooterProps.rest}\n        >\n          {_.normalizeComponent(column.Footer, {\n            data: sortedData,\n            column,\n          })}\n        </TdComponent>\n      )\n    }\n\n    const makeColumnFooters = () => {\n      const tFootProps = _.splitProps(getTfootProps(finalState, undefined, undefined, this))\n      const tFootTrProps = _.splitProps(getTfootTrProps(finalState, undefined, undefined, this))\n      return (\n        <TfootComponent\n          className={tFootProps.className}\n          style={{\n            ...tFootProps.style,\n            minWidth: `${rowMinWidth}px`,\n          }}\n          {...tFootProps.rest}\n        >\n          <TrComponent\n            className={classnames(tFootTrProps.className)}\n            style={tFootTrProps.style}\n            {...tFootTrProps.rest}\n          >\n            {allVisibleColumns.map(makeColumnFooter)}\n          </TrComponent>\n        </TfootComponent>\n      )\n    }\n\n    const makePagination = isTop => {\n      const paginationProps = _.splitProps(\n        getPaginationProps(finalState, undefined, undefined, this)\n      )\n      return (\n        <PaginationComponent\n          {...resolvedState}\n          pages={pages}\n          canPrevious={canPrevious}\n          canNext={canNext}\n          onPageChange={this.onPageChange}\n          onPageSizeChange={this.onPageSizeChange}\n          className={paginationProps.className}\n          style={paginationProps.style}\n          isTop={isTop}\n          {...paginationProps.rest}\n        />\n      )\n    }\n\n    const makeTable = () => (\n      <div\n        className={classnames('ReactTable', className, rootProps.className)}\n        style={{\n          ...style,\n          ...rootProps.style,\n        }}\n        {...rootProps.rest}\n      >\n        {showPagination && showPaginationTop ? (\n          <div className=\"pagination-top\">{makePagination(true)}</div>\n        ) : null}\n        <TableComponent\n          className={classnames(tableProps.className, currentlyResizing ? 'rt-resizing' : '')}\n          style={tableProps.style}\n          {...tableProps.rest}\n        >\n          {hasHeaderGroups ? makeHeaderGroups() : null}\n          {makeHeaders()}\n          {hasFilters ? makeFilters() : null}\n          <TbodyComponent\n            className={classnames(tBodyProps.className)}\n            style={{\n              ...tBodyProps.style,\n              minWidth: `${rowMinWidth}px`,\n            }}\n            {...tBodyProps.rest}\n          >\n            {pageRows.map((d, i) => makePageRow(d, i))}\n            {padRows.map(makePadRow)}\n          </TbodyComponent>\n          {hasColumnFooter ? makeColumnFooters() : null}\n        </TableComponent>\n        {showPagination && showPaginationBottom ? (\n          <div className=\"pagination-bottom\">{makePagination(false)}</div>\n        ) : null}\n        {!pageRows.length && (\n          <NoDataComponent {...noDataProps}>{_.normalizeComponent(noDataText)}</NoDataComponent>\n        )}\n        <LoadingComponent loading={loading} loadingText={loadingText} {...loadingProps} />\n      </div>\n    )\n\n    // childProps are optionally passed to a function-as-a-child\n    return children ? children(finalState, makeTable, this) : makeTable()\n  }\n}\n","import React from 'react'\nimport _ from './utils'\n\nexport default Base =>\n  class extends Base {\n    getResolvedState (props, state) {\n      const resolvedState = {\n        ..._.compactObject(this.state),\n        ..._.compactObject(this.props),\n        ..._.compactObject(state),\n        ..._.compactObject(props),\n      }\n      return resolvedState\n    }\n\n    getDataModel (newState, dataChanged) {\n      const {\n        columns,\n        pivotBy = [],\n        data,\n        resolveData,\n        pivotIDKey,\n        pivotValKey,\n        subRowsKey,\n        aggregatedKey,\n        nestingLevelKey,\n        originalKey,\n        indexKey,\n        groupedByPivotKey,\n        SubComponent,\n      } = newState\n\n      // Determine Header Groups\n      let hasHeaderGroups = false\n      columns.forEach(column => {\n        if (column.columns) {\n          hasHeaderGroups = true\n        }\n      })\n\n      let columnsWithExpander = [...columns]\n\n      let expanderColumn = columns.find(\n        col => col.expander || (col.columns && col.columns.some(col2 => col2.expander))\n      )\n      // The actual expander might be in the columns field of a group column\n      if (expanderColumn && !expanderColumn.expander) {\n        expanderColumn = expanderColumn.columns.find(col => col.expander)\n      }\n\n      // If we have SubComponent's we need to make sure we have an expander column\n      if (SubComponent && !expanderColumn) {\n        expanderColumn = { expander: true }\n        columnsWithExpander = [expanderColumn, ...columnsWithExpander]\n      }\n\n      const makeDecoratedColumn = (column, parentColumn) => {\n        let dcol\n        if (column.expander) {\n          dcol = {\n            ...this.props.column,\n            ...this.props.expanderDefaults,\n            ...column,\n          }\n        } else {\n          dcol = {\n            ...this.props.column,\n            ...column,\n          }\n        }\n\n        // Ensure minWidth is not greater than maxWidth if set\n        if (dcol.maxWidth < dcol.minWidth) {\n          dcol.minWidth = dcol.maxWidth\n        }\n\n        if (parentColumn) {\n          dcol.parentColumn = parentColumn\n        }\n\n        // First check for string accessor\n        if (typeof dcol.accessor === 'string') {\n          dcol.id = dcol.id || dcol.accessor\n          const accessorString = dcol.accessor\n          dcol.accessor = row => _.get(row, accessorString)\n          return dcol\n        }\n\n        // Fall back to functional accessor (but require an ID)\n        if (dcol.accessor && !dcol.id) {\n          console.warn(dcol)\n          throw new Error(\n            'A column id is required if using a non-string accessor for column above.'\n          )\n        }\n\n        // Fall back to an undefined accessor\n        if (!dcol.accessor) {\n          dcol.accessor = () => undefined\n        }\n\n        return dcol\n      }\n\n      const allDecoratedColumns = []\n\n      // Decorate the columns\n      const decorateAndAddToAll = (column, parentColumn) => {\n        const decoratedColumn = makeDecoratedColumn(column, parentColumn)\n        allDecoratedColumns.push(decoratedColumn)\n        return decoratedColumn\n      }\n\n      const decoratedColumns = columnsWithExpander.map(column => {\n        if (column.columns) {\n          return {\n            ...column,\n            columns: column.columns.map(d => decorateAndAddToAll(d, column)),\n          }\n        }\n        return decorateAndAddToAll(column)\n      })\n\n      // Build the visible columns, headers and flat column list\n      let visibleColumns = decoratedColumns.slice()\n      let allVisibleColumns = []\n\n      visibleColumns = visibleColumns.map(column => {\n        if (column.columns) {\n          const visibleSubColumns = column.columns.filter(d =>\n            pivotBy.indexOf(d.id) > -1 ? false : _.getFirstDefined(d.show, true)\n          )\n          return {\n            ...column,\n            columns: visibleSubColumns,\n          }\n        }\n        return column\n      })\n\n      visibleColumns = visibleColumns.filter(column =>\n        column.columns\n          ? column.columns.length\n          : pivotBy.indexOf(column.id) > -1\n            ? false\n            : _.getFirstDefined(column.show, true)\n      )\n\n      // Find any custom pivot location\n      const pivotIndex = visibleColumns.findIndex(col => col.pivot)\n\n      // Handle Pivot Columns\n      if (pivotBy.length) {\n        // Retrieve the pivot columns in the correct pivot order\n        const pivotColumns = []\n        pivotBy.forEach(pivotID => {\n          const found = allDecoratedColumns.find(d => d.id === pivotID)\n          if (found) {\n            pivotColumns.push(found)\n          }\n        })\n\n        const PivotParentColumn = pivotColumns.reduce(\n          (prev, current) => prev && prev === current.parentColumn && current.parentColumn,\n          pivotColumns[0].parentColumn\n        )\n\n        let PivotGroupHeader = hasHeaderGroups && PivotParentColumn.Header\n        PivotGroupHeader = PivotGroupHeader || (() => <strong>Pivoted</strong>)\n\n        let pivotColumnGroup = {\n          Header: PivotGroupHeader,\n          columns: pivotColumns.map(col => ({\n            ...this.props.pivotDefaults,\n            ...col,\n            pivoted: true,\n          })),\n        }\n\n        // Place the pivotColumns back into the visibleColumns\n        if (pivotIndex >= 0) {\n          pivotColumnGroup = {\n            ...visibleColumns[pivotIndex],\n            ...pivotColumnGroup,\n          }\n          visibleColumns.splice(pivotIndex, 1, pivotColumnGroup)\n        } else {\n          visibleColumns.unshift(pivotColumnGroup)\n        }\n      }\n\n      // Build Header Groups\n      const headerGroups = []\n      let currentSpan = []\n\n      // A convenience function to add a header and reset the currentSpan\n      const addHeader = (columns, column) => {\n        headerGroups.push({\n          ...this.props.column,\n          ...column,\n          columns,\n        })\n        currentSpan = []\n      }\n\n      // Build flast list of allVisibleColumns and HeaderGroups\n      visibleColumns.forEach(column => {\n        if (column.columns) {\n          allVisibleColumns = allVisibleColumns.concat(column.columns)\n          if (currentSpan.length > 0) {\n            addHeader(currentSpan)\n          }\n          addHeader(column.columns, column)\n          return\n        }\n        allVisibleColumns.push(column)\n        currentSpan.push(column)\n      })\n      if (hasHeaderGroups && currentSpan.length > 0) {\n        addHeader(currentSpan)\n      }\n\n      // Access the data\n      const accessRow = (d, i, level = 0) => {\n        const row = {\n          [originalKey]: d,\n          [indexKey]: i,\n          [subRowsKey]: d[subRowsKey],\n          [nestingLevelKey]: level,\n        }\n        allDecoratedColumns.forEach(column => {\n          if (column.expander) return\n          row[column.id] = column.accessor(d)\n        })\n        if (row[subRowsKey]) {\n          row[subRowsKey] = row[subRowsKey].map((d, i) => accessRow(d, i, level + 1))\n        }\n        return row\n      }\n\n      // // If the data hasn't changed, just use the cached data\n      let resolvedData = this.resolvedData\n      // If the data has changed, run the data resolver and cache the result\n      if (!this.resolvedData || dataChanged) {\n        resolvedData = resolveData(data)\n        this.resolvedData = resolvedData\n      }\n      // Use the resolved data\n      resolvedData = resolvedData.map((d, i) => accessRow(d, i))\n\n      // TODO: Make it possible to fabricate nested rows without pivoting\n      const aggregatingColumns = allVisibleColumns.filter(d => !d.expander && d.aggregate)\n\n      // If pivoting, recursively group the data\n      const aggregate = rows => {\n        const aggregationValues = {}\n        aggregatingColumns.forEach(column => {\n          const values = rows.map(d => d[column.id])\n          aggregationValues[column.id] = column.aggregate(values, rows)\n        })\n        return aggregationValues\n      }\n      if (pivotBy.length) {\n        const groupRecursively = (rows, keys, i = 0) => {\n          // This is the last level, just return the rows\n          if (i === keys.length) {\n            return rows\n          }\n          // Group the rows together for this level\n          let groupedRows = Object.entries(_.groupBy(rows, keys[i])).map(([key, value]) => ({\n            [pivotIDKey]: keys[i],\n            [pivotValKey]: key,\n            [keys[i]]: key,\n            [subRowsKey]: value,\n            [nestingLevelKey]: i,\n            [groupedByPivotKey]: true,\n          }))\n          // Recurse into the subRows\n          groupedRows = groupedRows.map(rowGroup => {\n            const subRows = groupRecursively(rowGroup[subRowsKey], keys, i + 1)\n            return {\n              ...rowGroup,\n              [subRowsKey]: subRows,\n              [aggregatedKey]: true,\n              ...aggregate(subRows),\n            }\n          })\n          return groupedRows\n        }\n        resolvedData = groupRecursively(resolvedData, pivotBy)\n      }\n\n      return {\n        ...newState,\n        resolvedData,\n        allVisibleColumns,\n        headerGroups,\n        allDecoratedColumns,\n        hasHeaderGroups,\n      }\n    }\n\n    getSortedData (resolvedState) {\n      const {\n        manual,\n        sorted,\n        filtered,\n        defaultFilterMethod,\n        resolvedData,\n        allDecoratedColumns,\n      } = resolvedState\n\n      const sortMethodsByColumnID = {}\n\n      allDecoratedColumns\n        .filter(col => col.sortMethod)\n        .forEach(col => {\n          sortMethodsByColumnID[col.id] = col.sortMethod\n        })\n\n      // Resolve the data from either manual data or sorted data\n      return {\n        sortedData: manual\n          ? resolvedData\n          : this.sortData(\n            this.filterData(resolvedData, filtered, defaultFilterMethod, allDecoratedColumns),\n            sorted,\n            sortMethodsByColumnID\n          ),\n      }\n    }\n\n    fireFetchData () {\n      // determine the current state, preferring certain state values over props\n      const currentState = {\n        ...this.getResolvedState(),\n        page: this.getStateOrProp('page'),\n        pageSize: this.getStateOrProp('pageSize'),\n        filtered: this.getStateOrProp('filtered'),\n      }\n\n      this.props.onFetchData(currentState, this)\n    }\n\n    getPropOrState (key) {\n      return _.getFirstDefined(this.props[key], this.state[key])\n    }\n\n    getStateOrProp (key) {\n      return _.getFirstDefined(this.state[key], this.props[key])\n    }\n\n    filterData (data, filtered, defaultFilterMethod, allVisibleColumns) {\n      let filteredData = data\n\n      if (filtered.length) {\n        filteredData = filtered.reduce((filteredSoFar, nextFilter) => {\n          const column = allVisibleColumns.find(x => x.id === nextFilter.id)\n\n          // Don't filter hidden columns or columns that have had their filters disabled\n          if (!column || column.filterable === false) {\n            return filteredSoFar\n          }\n\n          const filterMethod = column.filterMethod || defaultFilterMethod\n\n          // If 'filterAll' is set to true, pass the entire dataset to the filter method\n          if (column.filterAll) {\n            return filterMethod(nextFilter, filteredSoFar, column)\n          }\n          return filteredSoFar.filter(row => filterMethod(nextFilter, row, column))\n        }, filteredData)\n\n        // Apply the filter to the subrows if we are pivoting, and then\n        // filter any rows without subcolumns because it would be strange to show\n        filteredData = filteredData\n          .map(row => {\n            if (!row[this.props.subRowsKey]) {\n              return row\n            }\n            return {\n              ...row,\n              [this.props.subRowsKey]: this.filterData(\n                row[this.props.subRowsKey],\n                filtered,\n                defaultFilterMethod,\n                allVisibleColumns\n              ),\n            }\n          })\n          .filter(row => {\n            if (!row[this.props.subRowsKey]) {\n              return true\n            }\n            return row[this.props.subRowsKey].length > 0\n          })\n      }\n\n      return filteredData\n    }\n\n    sortData (data, sorted, sortMethodsByColumnID = {}) {\n      if (!sorted.length) {\n        return data\n      }\n\n      const sortedData = (this.props.orderByMethod || _.orderBy)(\n        data,\n        sorted.map(sort => {\n          // Support custom sorting methods for each column\n          if (sortMethodsByColumnID[sort.id]) {\n            return (a, b) => sortMethodsByColumnID[sort.id](a[sort.id], b[sort.id], sort.desc)\n          }\n          return (a, b) => this.props.defaultSortMethod(a[sort.id], b[sort.id], sort.desc)\n        }),\n        sorted.map(d => !d.desc),\n        this.props.indexKey\n      )\n\n      sortedData.forEach(row => {\n        if (!row[this.props.subRowsKey]) {\n          return\n        }\n        row[this.props.subRowsKey] = this.sortData(\n          row[this.props.subRowsKey],\n          sorted,\n          sortMethodsByColumnID\n        )\n      })\n\n      return sortedData\n    }\n\n    getMinRows () {\n      return _.getFirstDefined(this.props.minRows, this.getStateOrProp('pageSize'))\n    }\n\n    // User actions\n    onPageChange (page) {\n      const { onPageChange, collapseOnPageChange } = this.props\n\n      const newState = { page }\n      if (collapseOnPageChange) {\n        newState.expanded = {}\n      }\n      this.setStateWithData(newState, () => onPageChange && onPageChange(page))\n    }\n\n    onPageSizeChange (newPageSize) {\n      const { onPageSizeChange } = this.props\n      const { pageSize, page } = this.getResolvedState()\n\n      // Normalize the page to display\n      const currentRow = pageSize * page\n      const newPage = Math.floor(currentRow / newPageSize)\n\n      this.setStateWithData(\n        {\n          pageSize: newPageSize,\n          page: newPage,\n        },\n        () => onPageSizeChange && onPageSizeChange(newPageSize, newPage)\n      )\n    }\n\n    sortColumn (column, additive) {\n      const { sorted, skipNextSort, defaultSortDesc } = this.getResolvedState()\n\n      const firstSortDirection = Object.prototype.hasOwnProperty.call(column, 'defaultSortDesc')\n        ? column.defaultSortDesc\n        : defaultSortDesc\n      const secondSortDirection = !firstSortDirection\n\n      // we can't stop event propagation from the column resize move handlers\n      // attached to the document because of react's synthetic events\n      // so we have to prevent the sort function from actually sorting\n      // if we click on the column resize element within a header.\n      if (skipNextSort) {\n        this.setStateWithData({\n          skipNextSort: false,\n        })\n        return\n      }\n\n      const { onSortedChange } = this.props\n\n      let newSorted = _.clone(sorted || []).map(d => {\n        d.desc = _.isSortingDesc(d)\n        return d\n      })\n      if (!_.isArray(column)) {\n        // Single-Sort\n        const existingIndex = newSorted.findIndex(d => d.id === column.id)\n        if (existingIndex > -1) {\n          const existing = newSorted[existingIndex]\n          if (existing.desc === secondSortDirection) {\n            if (additive) {\n              newSorted.splice(existingIndex, 1)\n            } else {\n              existing.desc = firstSortDirection\n              newSorted = [existing]\n            }\n          } else {\n            existing.desc = secondSortDirection\n            if (!additive) {\n              newSorted = [existing]\n            }\n          }\n        } else if (additive) {\n          newSorted.push({\n            id: column.id,\n            desc: firstSortDirection,\n          })\n        } else {\n          newSorted = [\n            {\n              id: column.id,\n              desc: firstSortDirection,\n            },\n          ]\n        }\n      } else {\n        // Multi-Sort\n        const existingIndex = newSorted.findIndex(d => d.id === column[0].id)\n        // Existing Sorted Column\n        if (existingIndex > -1) {\n          const existing = newSorted[existingIndex]\n          if (existing.desc === secondSortDirection) {\n            if (additive) {\n              newSorted.splice(existingIndex, column.length)\n            } else {\n              column.forEach((d, i) => {\n                newSorted[existingIndex + i].desc = firstSortDirection\n              })\n            }\n          } else {\n            column.forEach((d, i) => {\n              newSorted[existingIndex + i].desc = secondSortDirection\n            })\n          }\n          if (!additive) {\n            newSorted = newSorted.slice(existingIndex, column.length)\n          }\n          // New Sort Column\n        } else if (additive) {\n          newSorted = newSorted.concat(\n            column.map(d => ({\n              id: d.id,\n              desc: firstSortDirection,\n            }))\n          )\n        } else {\n          newSorted = column.map(d => ({\n            id: d.id,\n            desc: firstSortDirection,\n          }))\n        }\n      }\n\n      this.setStateWithData(\n        {\n          page: (!sorted.length && newSorted.length) || !additive ? 0 : this.state.page,\n          sorted: newSorted,\n        },\n        () => onSortedChange && onSortedChange(newSorted, column, additive)\n      )\n    }\n\n    filterColumn (column, value) {\n      const { filtered } = this.getResolvedState()\n      const { onFilteredChange } = this.props\n\n      // Remove old filter first if it exists\n      const newFiltering = (filtered || []).filter(x => x.id !== column.id)\n\n      if (value !== '') {\n        newFiltering.push({\n          id: column.id,\n          value,\n        })\n      }\n\n      this.setStateWithData(\n        {\n          filtered: newFiltering,\n        },\n        () => onFilteredChange && onFilteredChange(newFiltering, column, value)\n      )\n    }\n\n    resizeColumnStart (event, column, isTouch) {\n      event.stopPropagation()\n      const parentWidth = event.target.parentElement.getBoundingClientRect().width\n\n      let pageX\n      if (isTouch) {\n        pageX = event.changedTouches[0].pageX\n      } else {\n        pageX = event.pageX\n      }\n\n      this.trapEvents = true\n      this.setStateWithData(\n        {\n          currentlyResizing: {\n            id: column.id,\n            startX: pageX,\n            parentWidth,\n          },\n        },\n        () => {\n          if (isTouch) {\n            document.addEventListener('touchmove', this.resizeColumnMoving)\n            document.addEventListener('touchcancel', this.resizeColumnEnd)\n            document.addEventListener('touchend', this.resizeColumnEnd)\n          } else {\n            document.addEventListener('mousemove', this.resizeColumnMoving)\n            document.addEventListener('mouseup', this.resizeColumnEnd)\n            document.addEventListener('mouseleave', this.resizeColumnEnd)\n          }\n        }\n      )\n    }\n\n    resizeColumnMoving (event) {\n      event.stopPropagation()\n      const { onResizedChange, column } = this.props\n      const { resized, currentlyResizing, columns } = this.getResolvedState()\n      const currentColumn = columns.find(\n        c => c.accessor === currentlyResizing.id || c.id === currentlyResizing.id\n      )\n      const minResizeWidth =\n        currentColumn && currentColumn.minResizeWidth != null\n          ? currentColumn.minResizeWidth\n          : column.minResizeWidth\n\n      // Delete old value\n      const newResized = resized.filter(x => x.id !== currentlyResizing.id)\n\n      let pageX\n\n      if (event.type === 'touchmove') {\n        pageX = event.changedTouches[0].pageX\n      } else if (event.type === 'mousemove') {\n        pageX = event.pageX\n      }\n\n      const newWidth = Math.max(\n        currentlyResizing.parentWidth + pageX - currentlyResizing.startX,\n        minResizeWidth\n      )\n\n      newResized.push({\n        id: currentlyResizing.id,\n        value: newWidth,\n      })\n\n      this.setStateWithData(\n        {\n          resized: newResized,\n        },\n        () => onResizedChange && onResizedChange(newResized, event)\n      )\n    }\n\n    resizeColumnEnd (event) {\n      event.stopPropagation()\n      const isTouch = event.type === 'touchend' || event.type === 'touchcancel'\n\n      if (isTouch) {\n        document.removeEventListener('touchmove', this.resizeColumnMoving)\n        document.removeEventListener('touchcancel', this.resizeColumnEnd)\n        document.removeEventListener('touchend', this.resizeColumnEnd)\n      }\n\n      // If its a touch event clear the mouse one's as well because sometimes\n      // the mouseDown event gets called as well, but the mouseUp event doesn't\n      document.removeEventListener('mousemove', this.resizeColumnMoving)\n      document.removeEventListener('mouseup', this.resizeColumnEnd)\n      document.removeEventListener('mouseleave', this.resizeColumnEnd)\n\n      // The touch events don't propagate up to the sorting's onMouseDown event so\n      // no need to prevent it from happening or else the first click after a touch\n      // event resize will not sort the column.\n      if (!isTouch) {\n        this.setStateWithData({\n          skipNextSort: true,\n          currentlyResizing: false,\n        })\n      }\n    }\n  }\n","export default Base =>\n  class extends Base {\n    UNSAFE_componentWillMount () {\n      this.setStateWithData(this.getDataModel(this.getResolvedState(), true))\n    }\n\n    componentDidMount () {\n      this.fireFetchData()\n    }\n\n    UNSAFE_componentWillReceiveProps (nextProps, nextState) {\n      const oldState = this.getResolvedState()\n      const newState = this.getResolvedState(nextProps, nextState)\n\n      // Do a deep compare of new and old `defaultOption` and\n      // if they are different reset `option = defaultOption`\n      const defaultableOptions = ['sorted', 'filtered', 'resized', 'expanded']\n      defaultableOptions.forEach(x => {\n        const defaultName = `default${x.charAt(0).toUpperCase() + x.slice(1)}`\n        if (JSON.stringify(oldState[defaultName]) !== JSON.stringify(newState[defaultName])) {\n          newState[x] = newState[defaultName]\n        }\n      })\n\n      // If they change these table options, we need to reset defaults\n      // or else we could get into a state where the user has changed the UI\n      // and then disabled the ability to change it back.\n      // e.g. If `filterable` has changed, set `filtered = defaultFiltered`\n      const resettableOptions = ['sortable', 'filterable', 'resizable']\n      resettableOptions.forEach(x => {\n        if (oldState[x] !== newState[x]) {\n          const baseName = x.replace('able', '')\n          const optionName = `${baseName}ed`\n          const defaultName = `default${optionName.charAt(0).toUpperCase() + optionName.slice(1)}`\n          newState[optionName] = newState[defaultName]\n        }\n      })\n\n      // Props that trigger a data update\n      if (\n        oldState.data !== newState.data ||\n        oldState.columns !== newState.columns ||\n        oldState.pivotBy !== newState.pivotBy ||\n        oldState.sorted !== newState.sorted ||\n        oldState.filtered !== newState.filtered\n      ) {\n        this.setStateWithData(this.getDataModel(newState, oldState.data !== newState.data))\n      }\n    }\n\n    setStateWithData (newState, cb) {\n      const oldState = this.getResolvedState()\n      const newResolvedState = this.getResolvedState({}, newState)\n      const { freezeWhenExpanded } = newResolvedState\n\n      // Default to unfrozen state\n      newResolvedState.frozen = false\n\n      // If freezeWhenExpanded is set, check for frozen conditions\n      if (freezeWhenExpanded) {\n        // if any rows are expanded, freeze the existing data and sorting\n        const keys = Object.keys(newResolvedState.expanded)\n        for (let i = 0; i < keys.length; i += 1) {\n          if (newResolvedState.expanded[keys[i]]) {\n            newResolvedState.frozen = true\n            break\n          }\n        }\n      }\n\n      // If the data isn't frozen and either the data or\n      // sorting model has changed, update the data\n      if (\n        (oldState.frozen && !newResolvedState.frozen) ||\n        oldState.sorted !== newResolvedState.sorted ||\n        oldState.filtered !== newResolvedState.filtered ||\n        oldState.showFilters !== newResolvedState.showFilters ||\n        (!newResolvedState.frozen && oldState.resolvedData !== newResolvedState.resolvedData)\n      ) {\n        // Handle collapseOnsortedChange & collapseOnDataChange\n        if (\n          (oldState.sorted !== newResolvedState.sorted && this.props.collapseOnSortingChange) ||\n          oldState.filtered !== newResolvedState.filtered ||\n          oldState.showFilters !== newResolvedState.showFilters ||\n          (oldState.sortedData &&\n            !newResolvedState.frozen &&\n            oldState.resolvedData !== newResolvedState.resolvedData &&\n            this.props.collapseOnDataChange)\n        ) {\n          newResolvedState.expanded = {}\n        }\n\n        Object.assign(newResolvedState, this.getSortedData(newResolvedState))\n      }\n\n      // Set page to 0 if filters change\n      if (oldState.filtered !== newResolvedState.filtered) {\n        newResolvedState.page = 0\n      }\n\n      // Calculate pageSize all the time\n      if (newResolvedState.sortedData) {\n        newResolvedState.pages = newResolvedState.manual\n          ? newResolvedState.pages\n          : Math.ceil(newResolvedState.sortedData.length / newResolvedState.pageSize)\n        newResolvedState.page = newResolvedState.manual ? newResolvedState.page : Math.max(\n          newResolvedState.page >= newResolvedState.pages\n            ? newResolvedState.pages - 1\n            : newResolvedState.page,\n          0\n        )\n      }\n\n      return this.setState(newResolvedState, () => {\n        if (cb) {\n          cb()\n        }\n        if (\n          oldState.page !== newResolvedState.page ||\n          oldState.pageSize !== newResolvedState.pageSize ||\n          oldState.sorted !== newResolvedState.sorted ||\n          oldState.filtered !== newResolvedState.filtered\n        ) {\n          this.fireFetchData()\n        }\n      })\n    }\n  }\n","import * as React from 'react';\nexport var ManagerReferenceNodeContext = React.createContext();\nexport var ManagerReferenceNodeSetterContext = React.createContext();\nexport function Manager(_ref) {\n  var children = _ref.children;\n\n  var _React$useState = React.useState(null),\n      referenceNode = _React$useState[0],\n      setReferenceNode = _React$useState[1];\n\n  React.useEffect(function () {\n    return function () {\n      setReferenceNode(null);\n    };\n  }, [setReferenceNode]);\n  return /*#__PURE__*/React.createElement(ManagerReferenceNodeContext.Provider, {\n    value: referenceNode\n  }, /*#__PURE__*/React.createElement(ManagerReferenceNodeSetterContext.Provider, {\n    value: setReferenceNode\n  }, children));\n}","import * as React from 'react';\n\n/**\n * Takes an argument and if it's an array, returns the first item in the array,\n * otherwise returns the argument. Used for Preact compatibility.\n */\nexport var unwrapArray = function unwrapArray(arg) {\n  return Array.isArray(arg) ? arg[0] : arg;\n};\n/**\n * Takes a maybe-undefined function and arbitrary args and invokes the function\n * only if it is defined.\n */\n\nexport var safeInvoke = function safeInvoke(fn) {\n  if (typeof fn === 'function') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return fn.apply(void 0, args);\n  }\n};\n/**\n * Sets a ref using either a ref callback or a ref object\n */\n\nexport var setRef = function setRef(ref, node) {\n  // if its a function call it\n  if (typeof ref === 'function') {\n    return safeInvoke(ref, node);\n  } // otherwise we should treat it as a ref object\n  else if (ref != null) {\n      ref.current = node;\n    }\n};\n/**\n * Simple ponyfill for Object.fromEntries\n */\n\nexport var fromEntries = function fromEntries(entries) {\n  return entries.reduce(function (acc, _ref) {\n    var key = _ref[0],\n        value = _ref[1];\n    acc[key] = value;\n    return acc;\n  }, {});\n};\n/**\n * Small wrapper around `useLayoutEffect` to get rid of the warning on SSR envs\n */\n\nexport var useIsomorphicLayoutEffect = typeof window !== 'undefined' && window.document && window.document.createElement ? React.useLayoutEffect : React.useEffect;","import * as React from 'react';\nimport warning from 'warning';\nimport { ManagerReferenceNodeSetterContext } from './Manager';\nimport { safeInvoke, unwrapArray, setRef } from './utils';\nexport function Reference(_ref) {\n  var children = _ref.children,\n      innerRef = _ref.innerRef;\n  var setReferenceNode = React.useContext(ManagerReferenceNodeSetterContext);\n  var refHandler = React.useCallback(function (node) {\n    setRef(innerRef, node);\n    safeInvoke(setReferenceNode, node);\n  }, [innerRef, setReferenceNode]); // ran on unmount\n\n  React.useEffect(function () {\n    return function () {\n      return setRef(innerRef, null);\n    };\n  });\n  React.useEffect(function () {\n    warning(Boolean(setReferenceNode), '`Reference` should not be used outside of a `Manager` component.');\n  }, [setReferenceNode]);\n  return unwrapArray(children)({\n    ref: refHandler\n  });\n}","export default function getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}","/*:: import type { Window } from '../types'; */\n\n/*:: declare function getWindow(node: Node | Window): Window; */\nexport default function getWindow(node) {\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getWindow from \"./getWindow.js\";\n/*:: declare function isElement(node: mixed): boolean %checks(node instanceof\n  Element); */\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n/*:: declare function isHTMLElement(node: mixed): boolean %checks(node instanceof\n  HTMLElement); */\n\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nexport { isElement, isHTMLElement };","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe: assume body is always available\n  return (isElement(element) ? element.ownerDocument : element.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\"; // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (!isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","// Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\nexport default function getLayoutRect(element) {\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// $FlowFixMe: this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || // DOM Element detected\n    // $FlowFixMe: need a better way to handle this...\n    element.host || // ShadowRoot detected\n    // $FlowFixMe: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nexport default function listScrollParents(element, list) {\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = getNodeName(scrollParent) === 'body';\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element); // Find the nearest non-table offsetParent\n\n  while (offsetParent && isTableElement(offsetParent)) {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static') {\n    return window;\n  }\n\n  return offsetParent || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nexport * from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, {}, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, {}, state.options, {}, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator();","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, {}, current, {\n      options: Object.assign({}, existing.options, {}, current.options),\n      data: Object.assign({}, existing.data, {}, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) - Math.floor(reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = Math.floor(offsets[mainAxis]) + Math.ceil(reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsets(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: Math.round(x * dpr) / dpr || 0,\n    y: Math.round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive;\n\n  var _roundOffsets = roundOffsets(offsets),\n      x = _roundOffsets.x,\n      y = _roundOffsets.y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n    } // $FlowFixMe: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n    /*:: offsetParent = (offsetParent: Element); */\n\n\n    if (placement === top) {\n      sideY = bottom;\n      y -= offsetParent.clientHeight - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right;\n      x -= offsetParent.clientWidth - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref3) {\n  var state = _ref3.state,\n      options = _ref3.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, {}, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, {}, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\";\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\n\nfunction toNumber(cssValue) {\n  return parseFloat(cssValue) || 0;\n}\n\nexport default function getBorders(element) {\n  var computedStyle = isHTMLElement(element) ? getComputedStyle(element) : {};\n  return {\n    top: toNumber(computedStyle.borderTopWidth),\n    right: toNumber(computedStyle.borderRightWidth),\n    bottom: toNumber(computedStyle.borderBottomWidth),\n    left: toNumber(computedStyle.borderLeftWidth)\n  };\n}","import getBorders from \"./getBorders.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getWindow from \"./getWindow.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\"; // Borders + scrollbars\n\nexport default function getDecorations(element) {\n  var win = getWindow(element);\n  var borders = getBorders(element);\n  var isHTML = getNodeName(element) === 'html';\n  var winScrollBarX = getWindowScrollBarX(element);\n  var x = element.clientWidth + borders.right;\n  var y = element.clientHeight + borders.bottom; // HACK:\n  // document.documentElement.clientHeight on iOS reports the height of the\n  // viewport including the bottom bar, even if the bottom bar isn't visible.\n  // If the difference between window innerHeight and html clientHeight is more\n  // than 50, we assume it's a mobile bottom bar and ignore scrollbars.\n  // * A 50px thick scrollbar is likely non-existent (macOS is 15px and Windows\n  //   is about 17px)\n  // * The mobile bar is 114px tall\n\n  if (isHTML && win.innerHeight - element.clientHeight > 50) {\n    y = win.innerHeight - borders.bottom;\n  }\n\n  return {\n    top: isHTML ? 0 : element.clientTop,\n    right: // RTL scrollbar (scrolling containers only)\n    element.clientLeft > borders.left ? borders.right : // LTR scrollbar\n    isHTML ? win.innerWidth - x - winScrollBarX : element.offsetWidth - x,\n    bottom: isHTML ? win.innerHeight - y : element.offsetHeight - y,\n    left: isHTML ? winScrollBarX : element.clientLeft\n  };\n}","export default function contains(parent, child) {\n  // $FlowFixMe: hasOwnProperty doesn't seem to work in tests\n  var isShadow = Boolean(child.getRootNode && child.getRootNode().host); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (isShadow) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDecorations from \"./getDecorations.js\";\nimport contains from \"./contains.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(element);\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement);\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    var decorations = getDecorations(isHTMLElement(clippingParent) ? clippingParent : getDocumentElement(element));\n    accRect.top = Math.max(rect.top + decorations.top, accRect.top);\n    accRect.right = Math.min(rect.right - decorations.right, accRect.right);\n    accRect.bottom = Math.min(rect.bottom - decorations.bottom, accRect.bottom);\n    accRect.left = Math.max(rect.left + decorations.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var visualViewport = win.visualViewport;\n  var width = win.innerWidth;\n  var height = win.innerHeight; // We don't know which browsers have buggy or odd implementations of this, so\n  // for now we're only applying it to iOS to fix the keyboard issue.\n  // Investigation required\n\n  if (visualViewport && /iPhone|iPod|iPad/.test(navigator.platform)) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: 0,\n    y: 0\n  };\n}","import getCompositeRect from \"./getCompositeRect.js\";\nimport getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getDocumentRect(element) {\n  var win = getWindow(element);\n  var winScroll = getWindowScroll(element);\n  var documentRect = getCompositeRect(getDocumentElement(element), win);\n  documentRect.height = Math.max(documentRect.height, win.innerHeight);\n  documentRect.width = Math.max(documentRect.width, win.innerWidth);\n  documentRect.x = -winScroll.scrollLeft;\n  documentRect.y = -winScroll.scrollTop;\n  return documentRect;\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), {}, paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, {}, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","export default function within(min, value, max) {\n  return Math.max(min, Math.min(value, max));\n}","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator } from \"./index.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      } // Flow doesn't support to extend this property, but it's the most\n      // effective way to apply styles to an HTMLElement\n      // $FlowFixMe\n\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\n\n/*:: type OverflowsMap = { [ComputedPlacement]: number }; */\n\n/*;; type OverflowsMap = { [key in ComputedPlacement]: number }; */\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = (variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements).filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  }); // $FlowFixMe: Flow seems to have problems with two array unions...\n\n  var overflows = placements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport within from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? Math.min(min, tetherMin) : min, offset, tether ? Math.max(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var _preventedOffset = within(_min, _offset, _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport within from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = state.modifiersData[name + \"#persistent\"].padding;\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element,\n      _options$padding = options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n  state.modifiersData[name + \"#persistent\"] = {\n    padding: mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements))\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import * as React from 'react';\nimport { createPopper as defaultCreatePopper } from '@popperjs/core';\nimport isEqual from 'react-fast-compare';\nimport { fromEntries, useIsomorphicLayoutEffect } from './utils';\nvar EMPTY_MODIFIERS = [];\nexport var usePopper = function usePopper(referenceElement, popperElement, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var prevOptions = React.useRef(null);\n  var optionsWithDefaults = {\n    onFirstUpdate: options.onFirstUpdate,\n    placement: options.placement || 'bottom',\n    strategy: options.strategy || 'absolute',\n    modifiers: options.modifiers || EMPTY_MODIFIERS\n  };\n\n  var _React$useState = React.useState({\n    styles: {\n      popper: {\n        position: optionsWithDefaults.strategy,\n        left: '0',\n        top: '0'\n      }\n    },\n    attributes: {}\n  }),\n      state = _React$useState[0],\n      setState = _React$useState[1];\n\n  var updateStateModifier = React.useMemo(function () {\n    return {\n      name: 'updateState',\n      enabled: true,\n      phase: 'write',\n      fn: function fn(_ref) {\n        var state = _ref.state;\n        var elements = Object.keys(state.elements);\n        setState({\n          styles: fromEntries(elements.map(function (element) {\n            return [element, state.styles[element] || {}];\n          })),\n          attributes: fromEntries(elements.map(function (element) {\n            return [element, state.attributes[element]];\n          }))\n        });\n      },\n      requires: ['computeStyles']\n    };\n  }, []);\n  var popperOptions = React.useMemo(function () {\n    var newOptions = {\n      onFirstUpdate: optionsWithDefaults.onFirstUpdate,\n      placement: optionsWithDefaults.placement,\n      strategy: optionsWithDefaults.strategy,\n      modifiers: [].concat(optionsWithDefaults.modifiers, [updateStateModifier, {\n        name: 'applyStyles',\n        enabled: false\n      }])\n    };\n\n    if (isEqual(prevOptions.current, newOptions)) {\n      return prevOptions.current || newOptions;\n    } else {\n      prevOptions.current = newOptions;\n      return newOptions;\n    }\n  }, [optionsWithDefaults.onFirstUpdate, optionsWithDefaults.placement, optionsWithDefaults.strategy, optionsWithDefaults.modifiers, updateStateModifier]);\n  var popperInstanceRef = React.useRef();\n  useIsomorphicLayoutEffect(function () {\n    if (popperInstanceRef.current) {\n      popperInstanceRef.current.setOptions(popperOptions);\n    }\n  }, [popperOptions]);\n  useIsomorphicLayoutEffect(function () {\n    if (referenceElement == null || popperElement == null) {\n      return;\n    }\n\n    var createPopper = options.createPopper || defaultCreatePopper;\n    var popperInstance = createPopper(referenceElement, popperElement, popperOptions);\n    popperInstanceRef.current = popperInstance;\n    return function () {\n      popperInstance.destroy();\n      popperInstanceRef.current = null;\n    };\n  }, [referenceElement, popperElement, options.createPopper]);\n  return {\n    state: popperInstanceRef.current ? popperInstanceRef.current.state : null,\n    styles: state.styles,\n    attributes: state.attributes,\n    update: popperInstanceRef.current ? popperInstanceRef.current.update : null,\n    forceUpdate: popperInstanceRef.current ? popperInstanceRef.current.forceUpdate : null\n  };\n};","import * as React from 'react';\nimport { ManagerReferenceNodeContext } from './Manager';\nimport { unwrapArray, setRef } from './utils';\nimport { usePopper } from './usePopper';\n\nvar NOOP = function NOOP() {\n  return void 0;\n};\n\nvar NOOP_PROMISE = function NOOP_PROMISE() {\n  return Promise.resolve(null);\n};\n\nvar EMPTY_MODIFIERS = [];\nexport function Popper(_ref) {\n  var _ref$placement = _ref.placement,\n      placement = _ref$placement === void 0 ? 'bottom' : _ref$placement,\n      _ref$strategy = _ref.strategy,\n      strategy = _ref$strategy === void 0 ? 'absolute' : _ref$strategy,\n      _ref$modifiers = _ref.modifiers,\n      modifiers = _ref$modifiers === void 0 ? EMPTY_MODIFIERS : _ref$modifiers,\n      referenceElement = _ref.referenceElement,\n      onFirstUpdate = _ref.onFirstUpdate,\n      innerRef = _ref.innerRef,\n      children = _ref.children;\n  var referenceNode = React.useContext(ManagerReferenceNodeContext);\n\n  var _React$useState = React.useState(null),\n      popperElement = _React$useState[0],\n      setPopperElement = _React$useState[1];\n\n  var _React$useState2 = React.useState(null),\n      arrowElement = _React$useState2[0],\n      setArrowElement = _React$useState2[1];\n\n  React.useEffect(function () {\n    return setRef(innerRef, popperElement);\n  }, [innerRef, popperElement]);\n  var options = React.useMemo(function () {\n    return {\n      placement: placement,\n      strategy: strategy,\n      onFirstUpdate: onFirstUpdate,\n      modifiers: [].concat(modifiers, [{\n        name: 'arrow',\n        enabled: arrowElement != null,\n        options: {\n          element: arrowElement\n        }\n      }])\n    };\n  }, [placement, strategy, onFirstUpdate, modifiers, arrowElement]);\n\n  var _usePopper = usePopper(referenceElement || referenceNode, popperElement, options),\n      state = _usePopper.state,\n      styles = _usePopper.styles,\n      forceUpdate = _usePopper.forceUpdate,\n      update = _usePopper.update;\n\n  var childrenProps = React.useMemo(function () {\n    return {\n      ref: setPopperElement,\n      style: styles.popper,\n      placement: state ? state.placement : placement,\n      hasPopperEscaped: state && state.modifiersData.hide ? state.modifiersData.hide.hasPopperEscaped : null,\n      isReferenceHidden: state && state.modifiersData.hide ? state.modifiersData.hide.isReferenceHidden : null,\n      arrowProps: {\n        style: styles.arrow,\n        ref: setArrowElement\n      },\n      forceUpdate: forceUpdate || NOOP,\n      update: update || NOOP_PROMISE\n    };\n  }, [setPopperElement, setArrowElement, placement, state, styles, update, forceUpdate]);\n  return unwrapArray(children)(childrenProps);\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  }; // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n      var node = ReactDOM.findDOMNode(this);\n\n      if (nextStatus === ENTERING) {\n        this.performEnter(node, mounting);\n      } else {\n        this.performExit(node);\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(node, mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(node);\n      });\n      return;\n    }\n\n    this.props.onEnter(node, appearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(node, appearing);\n\n      _this2.onTransitionEnd(node, enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(node, appearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit(node) {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts(); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(node);\n      });\n      return;\n    }\n\n    this.props.onExit(node);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(node);\n\n      _this3.onTransitionEnd(node, timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(node);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(node, timeout, handler) {\n    this.setNextCallback(handler);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      this.props.addEndListener(node, this.nextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\"]); // filter props for Transtition\n\n\n    delete childProps.in;\n    delete childProps.mountOnEnter;\n    delete childProps.unmountOnExit;\n    delete childProps.appear;\n    delete childProps.enter;\n    delete childProps.exit;\n    delete childProps.timeout;\n    delete childProps.addEndListener;\n    delete childProps.onEnter;\n    delete childProps.onEntering;\n    delete childProps.onEntered;\n    delete childProps.onExit;\n    delete childProps.onExiting;\n    delete childProps.onExited;\n\n    if (typeof children === 'function') {\n      // allows for nested Transitions\n      return React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, children(status, childProps));\n    }\n\n    var child = React.Children.only(children);\n    return (// allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, React.cloneElement(child, childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * Normally a component is not transitioned if it is shown when the\n   * `<Transition>` component mounts. If you want to transition on the first\n   * mount set `appear` to `true`, and the component will transition in as soon\n   * as the `<Transition>` mounts.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. **Note:** Timeouts are still used as a fallback if provided.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func // Name the function so it is clearer in the documentation\n\n} : {};\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = 0;\nTransition.EXITED = 1;\nTransition.ENTERING = 2;\nTransition.ENTERED = 3;\nTransition.EXITING = 4;\nexport default Transition;","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\n\ninterface Props {\n  className?: string;\n  root?: HTMLElement;\n}\n\nexport default class BodyPortal extends PureComponent<Props> {\n  node: HTMLElement;\n  portalRoot: HTMLElement;\n\n  constructor(props) {\n    super(props);\n    const {\n      className,\n      root = document.body\n    } = this.props;\n\n    this.node = document.createElement('div');\n    if (className) {\n      this.node.classList.add(className);\n    }\n\n    this.portalRoot = root;\n    this.portalRoot.appendChild(this.node);\n  }\n\n  componentWillUnmount() {\n    this.portalRoot.removeChild(this.node);\n  }\n\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.node);\n  }\n}\n","import React, { FC } from 'react';\nimport { cx, css } from 'emotion';\nimport { Manager, Popper as ReactPopper, Reference } from 'react-popper';\nimport Transition from 'react-transition-group/Transition';\nimport { stylesFactory } from '@grafana/ui';\nimport BodyPortal from './Portal';\n\nconst getStyles = stylesFactory(() => ({\n  defaultTransitionStyles: css`\n    transition: opacity 200ms linear;\n    opacity: 0;\n  `,\n  tooltipContent: css`\n    overflow-wrap: break-word;\n  `,\n}));\n\nconst transitionStyles = {\n  exited: { opacity: 0 },\n  entering: { opacity: 0 },\n  entered: { opacity: 1 },\n  exiting: { opacity: 0 },\n};\n\ninterface Props {\n  renderContent: (content: any) => any;\n  show: boolean;\n  placement?: any;\n  content: string | ((props: any) => JSX.Element);\n  refClassName?: string;\n  popperClassName?: string;\n}\n\nconst Popper: FC<Props> = ({ show, placement, popperClassName, refClassName, content, children, renderContent }) => {\n  const refClass = cx('popper_ref', refClassName);\n  const styles = getStyles();\n  const popperClass = cx('popper', popperClassName, styles.defaultTransitionStyles);\n\n  return (\n    <Manager>\n      <Reference>\n        {({ ref }) => (\n          <div className={refClass} ref={ref}>\n            {children}\n          </div>\n        )}\n      </Reference>\n      <Transition in={show} timeout={100} mountOnEnter={true} unmountOnExit={true}>\n        {transitionState => (\n          <BodyPortal>\n            <ReactPopper placement={placement}>\n              {({ ref, style, placement, arrowProps }) => {\n                return (\n                  <div\n                    ref={ref}\n                    style={{\n                      ...style,\n                      ...transitionStyles[transitionState],\n                    }}\n                    data-placement={placement}\n                    className={popperClass}\n                  >\n                    <div className=\"popper__background\">\n                      <div className={styles.tooltipContent}>\n                        {renderContent(content)}\n                      </div>\n                      <div ref={arrowProps.ref} data-placement={placement} className=\"popper__arrow\" />\n                    </div>\n                  </div>\n                );\n              }}\n            </ReactPopper>\n          </BodyPortal>\n        )}\n      </Transition>\n    </Manager>\n  );\n};\n\nexport default Popper;\n","import React, { FC } from 'react';\nimport Popper from './Popper';\nimport withPopper, { UsingPopperProps } from './withPopper';\n\nconst TooltipWrapper: FC<UsingPopperProps> = ({ hidePopper, showPopper, className, children, ...restProps }) => {\n  return (\n    <div className={`popper__manager ${className}`} onMouseEnter={showPopper} onMouseLeave={hidePopper}>\n      <Popper {...restProps}>{children}</Popper>\n    </div>\n  );\n};\n\nexport const Tooltip = withPopper(TooltipWrapper);\n\nexport default Tooltip;\n","import React from 'react';\n\nexport interface UsingPopperProps {\n  showPopper: (prevState: object) => void;\n  hidePopper: (prevState: object) => void;\n  renderContent: (content: any) => any;\n  show: boolean;\n  placement?: string;\n  content: string | ((props: any) => JSX.Element);\n  className?: string;\n  refClassName?: string;\n  popperClassName?: string;\n}\n\ninterface Props {\n  placement?: string;\n  className?: string;\n  refClassName?: string;\n  popperClassName?: string;\n  content: string | ((props: any) => JSX.Element);\n}\n\ninterface State {\n  show: boolean;\n}\n\nexport const withPopper = (WrappedComponent) => {\n  return class extends React.Component<Props, State> {\n    static defaultProps: Partial<Props> = {\n      placement: 'auto',\n    };\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        show: false,\n      };\n    }\n\n    showPopper = () => {\n      this.setState({ show: true });\n    };\n\n    hidePopper = () => {\n      this.setState({ show: false });\n    };\n\n    renderContent(content) {\n      if (typeof content === 'function') {\n        // If it's a function we assume it's a React component\n        const ReactComponent = content;\n        return <ReactComponent />;\n      }\n      return content;\n    }\n\n    render() {\n      const { show } = this.state;\n      const { placement, className } = this.props;\n\n      return (\n        <WrappedComponent\n          {...this.props}\n          showPopper={this.showPopper}\n          hidePopper={this.hidePopper}\n          renderContent={this.renderContent}\n          placement={placement}\n          className={className}\n          show={show}\n        />\n      );\n    }\n  };\n};\n\nexport default withPopper;\n","import React, { PureComponent } from 'react';\nimport { ZBXTag } from '../types';\nimport Tooltip from '../../components/Tooltip/Tooltip';\n\nconst TAG_COLORS = [\n  '#E24D42',\n  '#1F78C1',\n  '#BA43A9',\n  '#705DA0',\n  '#466803',\n  '#508642',\n  '#447EBC',\n  '#C15C17',\n  '#890F02',\n  '#757575',\n  '#0A437C',\n  '#6D1F62',\n  '#584477',\n  '#629E51',\n  '#2F4F4F',\n  '#BF1B00',\n  '#806EB7',\n  '#8a2eb8',\n  '#699e00',\n  '#000000',\n  '#3F6833',\n  '#2F575E',\n  '#99440A',\n  '#E0752D',\n  '#0E4AB4',\n  '#58140C',\n  '#052B51',\n  '#511749',\n  '#3F2B5B',\n];\n\nconst TAG_BORDER_COLORS = [\n  '#FF7368',\n  '#459EE7',\n  '#E069CF',\n  '#9683C6',\n  '#6C8E29',\n  '#76AC68',\n  '#6AA4E2',\n  '#E7823D',\n  '#AF3528',\n  '#9B9B9B',\n  '#3069A2',\n  '#934588',\n  '#7E6A9D',\n  '#88C477',\n  '#557575',\n  '#E54126',\n  '#A694DD',\n  '#B054DE',\n  '#8FC426',\n  '#262626',\n  '#658E59',\n  '#557D84',\n  '#BF6A30',\n  '#FF9B53',\n  '#3470DA',\n  '#7E3A32',\n  '#2B5177',\n  '#773D6F',\n  '#655181',\n];\n\n/**\n * Returns tag badge background and border colors based on hashed tag name.\n * @param name tag name\n */\nexport function getTagColorsFromName(name: string): { color: string; borderColor: string } {\n  const hash = djb2(name.toLowerCase());\n  const color = TAG_COLORS[Math.abs(hash % TAG_COLORS.length)];\n  const borderColor = TAG_BORDER_COLORS[Math.abs(hash % TAG_BORDER_COLORS.length)];\n  return { color, borderColor };\n}\n\nfunction djb2(str) {\n  let hash = 5381;\n  for (let i = 0; i < str.length; i++) {\n    hash = (hash << 5) + hash + str.charCodeAt(i); /* hash * 33 + c */\n  }\n  return hash;\n}\n\ninterface EventTagProps {\n  tag: ZBXTag;\n  highlight?: boolean;\n  onClick?: (tag: ZBXTag, ctrlKey?: boolean, shiftKey?: boolean) => void;\n}\n\nexport default class EventTag extends PureComponent<EventTagProps> {\n  handleClick = (event) => {\n    if (this.props.onClick) {\n      this.props.onClick(this.props.tag, event.ctrlKey, event.shiftKey);\n    }\n  }\n\n  render() {\n    const { tag, highlight } = this.props;\n    const tagColor = getTagColorsFromName(tag.tag);\n    const style: React.CSSProperties = {\n      background: tagColor.color,\n      borderColor: tagColor.borderColor,\n    };\n    return (\n      <Tooltip placement=\"bottom\" content=\"Click to add tag filter or Ctrl/Shift+click to remove\">\n        <span className={`label label-tag zbx-tag ${highlight ? 'highlighted' : ''}`}\n          style={style}\n          onClick={this.handleClick}>\n          {tag.value ?\n            `${tag.tag}: ${tag.value}` :\n            `${tag.tag}`\n          }\n        </span>\n      </Tooltip>\n    );\n  }\n}\n","import React, { FC } from 'react';\nimport { cx } from 'emotion';\n\ninterface Props {\n  status: 'critical' | 'warning' | 'online' | 'ok' | 'problem';\n  className?: string;\n}\n\nexport const GFHeartIcon: FC<Props> = ({ status, className }) => {\n  const iconClass = cx(\n    className,\n    'icon-gf',\n    { \"icon-gf-critical\": status === 'critical' || status === 'problem' || status === 'warning'},\n    { \"icon-gf-online\": status === 'online' || status === 'ok' },\n  );\n\n  return (\n    <i className={iconClass}></i>\n  );\n};\n\nexport default GFHeartIcon;\n","import React, { FC } from 'react';\nimport { cx } from 'emotion';\n\ninterface Props {\n  icon: string;\n  customClass?: string;\n}\n\nexport const FAIcon: FC<Props> = ({ icon, customClass }) => {\n  const wrapperClass = cx(customClass, 'fa-icon-container');\n\n  return (\n    <span className={wrapperClass}>\n      <i className={`fa fa-${icon}`}></i>\n    </span>\n  );\n};\n\nexport default FAIcon;\n","import React, { FC } from 'react';\nimport { cx, css } from 'emotion';\nimport { stylesFactory, useTheme } from '@grafana/ui';\nimport { GrafanaTheme, GrafanaThemeType } from '@grafana/data';\nimport { FAIcon } from '../FAIcon/FAIcon';\nimport { Tooltip } from '../Tooltip/Tooltip';\n\ninterface Props {\n  icon?: string;\n  width?: number;\n  tooltip?: string;\n  className?: string;\n  onClick(event: React.MouseEvent<HTMLButtonElement>): void;\n}\n\nexport const ActionButton: FC<Props> = ({ icon, width, tooltip, className, children, onClick }) => {\n  const theme = useTheme();\n  const styles = getStyles(theme);\n  const buttonClass = cx(\n    'btn',\n    styles.button,\n    css`width: ${width || 3}rem`,\n    className,\n  );\n\n  let button = (\n    <button className={buttonClass} onClick={onClick}>\n      {icon && <FAIcon icon={icon} customClass={styles.icon} />}\n      {children}\n    </button>\n  );\n\n  if (tooltip) {\n    button = (\n      <Tooltip placement=\"bottom\" content={tooltip}>\n        {button}\n      </Tooltip>\n    );\n  }\n\n  return button;\n};\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  const actionBlue = theme.type === GrafanaThemeType.Light ? '#497dc0' : '#005f81';\n  const hoverBlue = theme.type === GrafanaThemeType.Light ? '#456ba4' : '#354f77';\n\n  return {\n    button: css`\n      height: 2rem;\n      background-image: none;\n      background-color: ${actionBlue};\n      border: 1px solid ${theme.palette.gray1};\n      border-radius: 1px;\n      color: ${theme.colors.text};\n\n      i {\n        vertical-align: middle;\n      }\n\n      &:hover {\n        background-color: ${hoverBlue};\n      }\n    `,\n    icon: css`\n      i {\n        color: ${theme.colors.text};\n      }\n    `,\n  };\n});\n","import React, { FC } from 'react';\nimport { ActionButton } from '../ActionButton/ActionButton';\n\ninterface Props {\n  className?: string;\n  onClick(): void;\n}\n\nexport const AckButton: FC<Props> = ({ className, onClick }) => {\n  return (\n    <ActionButton className={className} icon=\"reply-all\" tooltip=\"Acknowledge problem\" onClick={onClick} />\n  );\n};\n","import React, { FC } from 'react';\nimport { getLocationSrv } from '@grafana/runtime';\nimport { MODE_METRICS, MODE_ITEMID } from '../../datasource-zabbix/constants';\nimport { renderUrl } from '../../panel-triggers/utils';\nimport { expandItemName } from '../../datasource-zabbix/utils';\nimport { ProblemDTO } from '../../datasource-zabbix/types';\nimport { ActionButton } from '../ActionButton/ActionButton';\n\ninterface Props {\n  problem: ProblemDTO;\n  panelId: number;\n}\n\nexport const ExploreButton: FC<Props> = ({ problem, panelId }) => {\n  return (\n    <ActionButton icon=\"compass\" width={6} onClick={() => openInExplore(problem, panelId)}>\n      Explore\n    </ActionButton>\n  );\n};\n\nconst openInExplore = (problem: ProblemDTO, panelId: number) => {\n  let query: any = {};\n\n  if (problem.items?.length === 1 && problem.hosts?.length === 1) {\n    const item = problem.items[0];\n    const host = problem.hosts[0];\n    const itemName = expandItemName(item.name, item.key_);\n    query = {\n      queryType: MODE_METRICS,\n      group: { filter: '/.*/' },\n      application: { filter: '' },\n      host: { filter: host.name },\n      item: { filter: itemName },\n    };\n  } else {\n    const itemids = problem.items?.map(p => p.itemid).join(',');\n    query = {\n      queryType: MODE_ITEMID,\n      itemids: itemids,\n    };\n  }\n\n  const state: any = {\n    datasource: problem.datasource,\n    context: 'explore',\n    originPanelId: panelId,\n    queries: [query],\n  };\n\n  const exploreState = JSON.stringify(state);\n  const url = renderUrl('/explore', { left: exploreState });\n  getLocationSrv().update({ path: url, query: {} });\n};\n","import React, { FC } from 'react';\nimport { ActionButton } from '../ActionButton/ActionButton';\n\ninterface Props {\n  className?: string;\n  onClick(): void;\n}\n\nexport const ExecScriptButton: FC<Props> = ({ className, onClick }) => {\n  return (\n    <ActionButton className={className} icon=\"terminal\" tooltip=\"Execute script\" onClick={onClick} />\n  );\n};\n","import React from 'react';\nimport { config, GrafanaBootConfig } from '@grafana/runtime';\nimport { ThemeContext, getTheme } from '@grafana/ui';\nimport { GrafanaThemeType } from '@grafana/data';\n\nexport const ConfigContext = React.createContext<GrafanaBootConfig>(config);\nexport const ConfigConsumer = ConfigContext.Consumer;\n\nexport const provideConfig = (component: React.ComponentType<any>) => {\n  const ConfigProvider = (props: any) => (\n    <ConfigContext.Provider value={config}>{React.createElement(component, { ...props })}</ConfigContext.Provider>\n  );\n\n  return ConfigProvider;\n};\n\nexport const getCurrentThemeName = () =>\n  config.bootData.user.lightTheme ? GrafanaThemeType.Light : GrafanaThemeType.Dark;\n\nexport const getCurrentTheme = () => getTheme(getCurrentThemeName());\n\nexport const ThemeProvider = ({ children }: { children: React.ReactNode }) => {\n  return (\n    <ConfigConsumer>\n      {config => {\n        return <ThemeContext.Provider value={getCurrentTheme()}>{children}</ThemeContext.Provider>;\n      }}\n    </ConfigConsumer>\n  );\n};\n\nexport const provideTheme = (component: React.ComponentType<any>) => {\n  return provideConfig((props: any) => <ThemeProvider>{React.createElement(component, { ...props })}</ThemeProvider>);\n};\n","import React, { FC } from 'react';\nimport ReactDOM from 'react-dom';\nimport { provideTheme } from '../ConfigProvider/ConfigProvider';\n\ninterface ModalWrapperProps {\n  showModal: <T>(component: React.ComponentType<T>, props: T) => void;\n  hideModal: () => void;\n}\n\ntype ModalWrapper<T> = FC<ModalWrapperProps>;\n\ninterface Props {\n  children: ModalWrapper<any>;\n}\n\ninterface State {\n  component: React.ComponentType<any> | null;\n  props: any;\n}\n\nexport class ModalController extends React.Component<Props, State> {\n  modalRoot = document.body;\n  modalNode = document.createElement('div');\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      component: null,\n      props: {},\n    };\n  }\n\n  showModal = (component: React.ComponentType<any>, props: any) => {\n    this.setState({\n      component,\n      props\n    });\n  };\n\n  hideModal = () => {\n    this.modalRoot.removeChild(this.modalNode);\n    this.setState({\n      component: null,\n      props: {},\n    });\n  };\n\n  renderModal() {\n    const { component, props } = this.state;\n    if (!component) {\n      return null;\n    }\n\n    this.modalRoot.appendChild(this.modalNode);\n    const modal = React.createElement(provideTheme(component), props);\n    return ReactDOM.createPortal(modal, this.modalNode);\n  }\n\n  render() {\n    const { children } = this.props;\n    const ChildrenComponent = children;\n\n    return (\n      <>\n        <ChildrenComponent showModal={this.showModal} hideModal={this.hideModal} />\n        {this.renderModal()}\n      </>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { cx, css } from 'emotion';\nimport { ZBX_ACK_ACTION_ADD_MESSAGE, ZBX_ACK_ACTION_ACK, ZBX_ACK_ACTION_CHANGE_SEVERITY, ZBX_ACK_ACTION_CLOSE } from '../../datasource-zabbix/constants';\nimport { Button, VerticalGroup, Spinner, Modal, Input, Checkbox, RadioButtonGroup, stylesFactory, withTheme, Themeable, TextArea } from '@grafana/ui';\nimport { FAIcon } from '../../components';\nimport { GrafanaTheme } from '@grafana/data';\n\nconst KEYBOARD_ENTER_KEY = 13;\nconst KEYBOARD_ESCAPE_KEY = 27;\n\ninterface Props extends Themeable {\n  canAck?: boolean;\n  canClose?: boolean;\n  severity?: number;\n  withBackdrop?: boolean;\n  onSubmit: (data?: AckProblemData) => Promise<any> | any;\n  onDismiss?: () => void;\n}\n\ninterface State {\n  value: string;\n  error: boolean;\n  errorMessage: string;\n  ackError: string;\n  acknowledge: boolean;\n  closeProblem: boolean;\n  changeSeverity: boolean;\n  selectedSeverity: number;\n  loading: boolean;\n}\n\nexport interface AckProblemData {\n  message: string;\n  closeProblem?: boolean;\n  action?: number;\n  severity?: number;\n}\n\nconst severityOptions = [\n  {value: 0, label: 'Not classified'},\n  {value: 1, label: 'Information'},\n  {value: 2, label: 'Warning'},\n  {value: 3, label: 'Average'},\n  {value: 4, label: 'High'},\n  {value: 5, label: 'Disaster'}\n];\n\nexport class AckModalUnthemed extends PureComponent<Props, State> {\n  static defaultProps: Partial<Props> = {\n    withBackdrop: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      error: false,\n      errorMessage: '',\n      ackError: '',\n      acknowledge: false,\n      closeProblem: false,\n      changeSeverity: false,\n      selectedSeverity: props.severity || 0,\n      loading: false,\n    };\n  }\n\n  handleChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n    this.setState({ value: event.target.value, error: false });\n  }\n\n  handleKeyPress = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (event.which === KEYBOARD_ENTER_KEY || event.key === 'Enter') {\n      // this.submit();\n    } else if (event.which === KEYBOARD_ESCAPE_KEY || event.key === 'Escape') {\n      this.dismiss();\n    }\n  }\n\n  handleBackdropClick = () => {\n    this.dismiss();\n  }\n\n  onAcknowledgeToggle = () => {\n    this.setState({ acknowledge: !this.state.acknowledge, error: false });\n  }\n\n  onChangeSeverityToggle = () => {\n    this.setState({ changeSeverity: !this.state.changeSeverity, error: false });\n  }\n\n  onCloseProblemToggle = () => {\n    this.setState({ closeProblem: !this.state.closeProblem, error: false });\n  }\n\n  onChangeSelectedSeverity = v => {\n    this.setState({ selectedSeverity: v });\n  };\n\n  dismiss = () => {\n    this.setState({ value: '', error: false, errorMessage: '', ackError: '', loading: false });\n    this.props.onDismiss();\n  }\n\n  submit = () => {\n    const { acknowledge, changeSeverity, closeProblem } = this.state;\n\n    const actionSelected = acknowledge || changeSeverity || closeProblem;\n    if (!this.state.value && !actionSelected) {\n      return this.setState({\n        error: true,\n        errorMessage: 'Enter message text or select an action'\n      });\n    }\n\n    this.setState({ ackError: '', loading: true });\n\n    const ackData: AckProblemData = {\n      message: this.state.value,\n    };\n\n    let action = ZBX_ACK_ACTION_ADD_MESSAGE;\n    if (this.state.acknowledge) {\n      action += ZBX_ACK_ACTION_ACK;\n    }\n    if (this.state.changeSeverity) {\n      action += ZBX_ACK_ACTION_CHANGE_SEVERITY;\n      ackData.severity = this.state.selectedSeverity;\n    }\n    if (this.state.closeProblem) {\n      action += ZBX_ACK_ACTION_CLOSE;\n    }\n    ackData.action = action;\n\n    this.props.onSubmit(ackData).then(() => {\n      this.dismiss();\n    }).catch(err => {\n      const errorMessage = err.data?.message || err.data?.error || err.data || err.statusText || '';\n      this.setState({\n        ackError: errorMessage,\n        loading: false,\n      });\n    });\n  }\n\n  renderActions() {\n    const { canClose } = this.props;\n\n    const actions = [\n      <Checkbox key=\"ack\" label=\"Acknowledge\" value={this.state.acknowledge} onChange={this.onAcknowledgeToggle} />,\n      <Checkbox\n        key=\"change-severity\"\n        label=\"Change severity\"\n        description=\"\"\n        value={this.state.changeSeverity}\n        onChange={this.onChangeSeverityToggle}\n      />,\n      this.state.changeSeverity &&\n        <RadioButtonGroup\n          key=\"severity\"\n          size=\"sm\"\n          options={severityOptions}\n          value={this.state.selectedSeverity}\n          onChange={this.onChangeSelectedSeverity}\n        />,\n      canClose &&\n        <Checkbox key=\"close\" label=\"Close problem\" disabled={!canClose} value={this.state.closeProblem} onChange={this.onCloseProblemToggle} />,\n    ];\n\n    // <VerticalGroup /> doesn't handle empty elements properly, so don't return it\n    return actions.filter(e => e);\n  }\n\n  render() {\n    const { theme } = this.props;\n\n    const styles = getStyles(theme);\n    const modalClass = cx(styles.modal);\n    const modalTitleClass = cx(styles.modalHeaderTitle);\n    const inputGroupClass = cx('gf-form', styles.inputGroup);\n    const inputClass = cx(this.state.error && styles.input);\n    const inputHintClass = cx('gf-form-hint-text', styles.inputHint);\n    const inputErrorClass = cx('gf-form-hint-text', styles.inputError);\n\n    return (\n      <Modal\n        isOpen={true}\n        onDismiss={this.dismiss}\n        className={modalClass}\n        title={\n          <div className={modalTitleClass}>\n            {this.state.loading ? <Spinner size={18} /> : <FAIcon icon=\"reply-all\" />}\n            <span className=\"p-l-1\">Acknowledge Problem</span>\n          </div>\n        }\n      >\n        <div className={inputGroupClass}>\n          <label className=\"gf-form-hint\">\n            <TextArea className={inputClass}\n              type=\"text\"\n              name=\"message\"\n              placeholder=\"Message\"\n              autoComplete=\"off\"\n              autoFocus={true}\n              value={this.state.value}\n              onChange={this.handleChange}\n              onKeyDown={this.handleKeyPress}>\n            </TextArea>\n            <small className={inputHintClass}>Press Enter to submit</small>\n            {this.state.error &&\n              <small className={inputErrorClass}>{this.state.errorMessage}</small>\n            }\n          </label>\n        </div>\n\n        <div className=\"gf-form\">\n          <VerticalGroup>\n            {this.renderActions()}\n          </VerticalGroup>\n        </div>\n\n        {this.state.ackError &&\n          <div className=\"gf-form ack-request-error\">\n            <span className={styles.ackError}>{this.state.ackError}</span>\n          </div>\n        }\n\n        <div className=\"gf-form-button-row text-center\">\n          <Button variant=\"primary\" onClick={this.submit}>Update</Button>\n          <Button variant=\"secondary\" onClick={this.dismiss}>Cancel</Button>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  const red = theme.palette.red;\n  return {\n    modal: css`\n      width: 500px;\n    `,\n    modalHeaderTitle: css`\n      font-size: ${theme.typography.heading.h3};\n      padding-top: ${theme.spacing.sm};\n      margin: 0 ${theme.spacing.md};\n      display: flex;\n    `,\n    inputGroup: css`\n      margin-bottom: 16px;\n    `,\n    input: css`\n      border-color: ${red};\n      border-radius: 2px;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px ${theme.colors.bg1}, 0 0 0px 4px ${red};\n    `,\n    inputHint: css`\n      display: inherit;\n      float: right;\n      color: ${theme.colors.textWeak};\n    `,\n    inputError: css`\n      float: left;\n      color: ${red};\n    `,\n    ackError: css`\n      color: ${red};\n    `,\n  };\n});\n\nexport const AckModal = withTheme(AckModalUnthemed);\n","import React from 'react';\nimport FAIcon from '../../../components/FAIcon/FAIcon';\nimport Tooltip from '../../../components/Tooltip/Tooltip';\nimport { ZBXTrigger, ZBXAlert } from '../../types';\n\nexport interface ProblemStatusBarProps {\n  problem: ZBXTrigger;\n  alerts?: ZBXAlert[];\n  className?: string;\n}\n\nexport default function ProblemStatusBar(props: ProblemStatusBarProps) {\n  const { problem, alerts, className } = props;\n  const multiEvent = problem.type === '1';\n  const link = problem.url && problem.url !== '';\n  const maintenance = problem.maintenance;\n  const manualClose = problem.manual_close === '1';\n  const error = problem.error && problem.error !== '';\n  const stateUnknown = problem.state === '1';\n  const closeByTag = problem.correlation_mode === '1';\n  const actions = alerts && alerts.length !== 0;\n  const actionMessage = actions ? alerts[0].message : '';\n\n  return (\n    <div className={`problem-statusbar ${className || ''}`}>\n      <ProblemStatusBarItem icon=\"wrench\" fired={maintenance} tooltip=\"Host maintenance\" />\n      <ProblemStatusBarItem icon=\"globe\" fired={link} link={link && problem.url} tooltip=\"External link\" />\n      <ProblemStatusBarItem icon=\"bullhorn\" fired={multiEvent} tooltip=\"Trigger generates multiple problem events\" />\n      <ProblemStatusBarItem icon=\"tag\" fired={closeByTag} tooltip={`OK event closes problems matched to tag: ${problem.correlation_tag}`} />\n      <ProblemStatusBarItem icon=\"circle-o-notch\" fired={actions} tooltip={actionMessage} />\n      <ProblemStatusBarItem icon=\"question-circle\" fired={stateUnknown} tooltip=\"Current trigger state is unknown\" />\n      <ProblemStatusBarItem icon=\"warning\" fired={error} tooltip={problem.error} />\n      <ProblemStatusBarItem icon=\"window-close-o\" fired={manualClose} tooltip=\"Manual close problem\" />\n    </div>\n  );\n}\n\ninterface ProblemStatusBarItemProps {\n  icon: string;\n  fired?: boolean;\n  link?: string;\n  tooltip?: string;\n}\n\nfunction ProblemStatusBarItem(props: ProblemStatusBarItemProps) {\n  const { fired, icon, link, tooltip } = props;\n  let item = (\n    <div className={`problem-statusbar-item ${fired ? 'fired' : 'muted'}`}>\n      <FAIcon icon={icon} />\n    </div>\n  );\n  if (tooltip && fired) {\n    item = (\n      <Tooltip placement=\"bottom\" content={tooltip}>\n        {item}\n      </Tooltip>\n    );\n  }\n  return link ? <a href={link} target=\"_blank\">{item}</a> : item;\n}\n","import React from 'react';\nimport { ZBXAcknowledge } from '../../types';\n\ninterface AcknowledgesListProps {\n  acknowledges: ZBXAcknowledge[];\n}\n\nexport default function AcknowledgesList(props: AcknowledgesListProps) {\n  const { acknowledges } = props;\n  return (\n    <div className=\"problem-ack-list\">\n      <div className=\"problem-ack-col problem-ack-time\">\n        {acknowledges.map(ack => <span key={ack.acknowledgeid} className=\"problem-ack-time\">{ack.time}</span>)}\n      </div>\n      <div className=\"problem-ack-col problem-ack-user\">\n        {acknowledges.map(ack => <span key={ack.acknowledgeid} className=\"problem-ack-user\">{ack.user}</span>)}\n      </div>\n      <div className=\"problem-ack-col problem-ack-message\">\n        {acknowledges.map(ack => <span key={ack.acknowledgeid} className=\"problem-ack-message\">{ack.message}</span>)}\n      </div>\n    </div>\n  );\n}\n","import React, { PureComponent } from 'react';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { GFTimeRange, ZBXEvent, ZBXAcknowledge } from '../../types';\n\nconst DEFAULT_OK_COLOR = 'rgb(56, 189, 113)';\nconst DEFAULT_PROBLEM_COLOR = 'rgb(215, 0, 0)';\nconst EVENT_POINT_SIZE = 16;\nconst INNER_POINT_SIZE = 0.6;\nconst HIGHLIGHTED_POINT_SIZE = 1.1;\nconst EVENT_REGION_HEIGHT = Math.round(EVENT_POINT_SIZE * 0.6);\n\nexport interface ProblemTimelineProps {\n  events: ZBXEvent[];\n  timeRange: GFTimeRange;\n  okColor?: string;\n  problemColor?: string;\n  eventRegionHeight?: number;\n  eventPointSize?: number;\n}\n\ninterface ProblemTimelineState {\n  width: number;\n  highlightedEvent?: ZBXEvent | null;\n  highlightedRegion?: number | null;\n  showEventInfo?: boolean;\n  eventInfo?: EventInfo;\n}\n\ninterface EventInfo {\n  timestamp?: number;\n  duration?: number;\n  message?: string;\n}\n\nexport default class ProblemTimeline extends PureComponent<ProblemTimelineProps, ProblemTimelineState> {\n  rootRef: any;\n  sortedEvents: ZBXEvent[];\n\n  static defaultProps = {\n    okColor: DEFAULT_OK_COLOR,\n    problemColor: DEFAULT_PROBLEM_COLOR,\n    eventRegionHeight: EVENT_REGION_HEIGHT,\n    eventPointSize: EVENT_POINT_SIZE,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      width: 0,\n      highlightedEvent: null,\n      highlightedRegion: null,\n      showEventInfo: false,\n      eventInfo: {}\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.rootRef && prevState.width !== this.rootRef.clientWidth) {\n      const width = this.rootRef.clientWidth;\n      this.setState({ width });\n    }\n  }\n\n  setRootRef = ref => {\n    this.rootRef = ref;\n    const width = ref && ref.clientWidth || 0;\n    this.setState({ width });\n  }\n\n  handlePointHighlight = (index: number, secondIndex?: number) => {\n    const event: ZBXEvent = this.sortedEvents[index];\n    const regionToHighlight = this.getRegionToHighlight(index);\n    let duration: number;\n    if (secondIndex !== undefined) {\n      duration = this.getEventDuration(index, secondIndex);\n    }\n    this.setState({\n      highlightedEvent: event,\n      showEventInfo: true,\n      highlightedRegion: regionToHighlight,\n      eventInfo: {\n        duration\n      }\n    });\n    // this.showEventInfo(event);\n  }\n\n  handlePointUnHighlight = () => {\n    this.setState({ showEventInfo: false, highlightedRegion: null });\n  }\n\n  handleAckHighlight = (ack: ZBXAcknowledge, index: number) => {\n    this.setState({\n      showEventInfo: true,\n      eventInfo: {\n        timestamp: Number(ack.clock),\n        message: ack.message,\n      }\n    });\n  }\n\n  handleAckUnHighlight = () => {\n    this.setState({ showEventInfo: false });\n  }\n\n  showEventInfo = (event: ZBXEvent) => {\n    this.setState({ highlightedEvent: event, showEventInfo: true });\n  }\n\n  hideEventInfo = () => {\n    this.setState({ showEventInfo: false });\n  }\n\n  getRegionToHighlight = (index: number): number => {\n    const event = this.sortedEvents[index];\n    const regionToHighlight = event.value === '1' ? index + 1 : index;\n    return regionToHighlight;\n  }\n\n  getEventDuration(firstIndex: number, secondIndex: number): number {\n    return Math.abs(Number(this.sortedEvents[firstIndex].clock) - Number(this.sortedEvents[secondIndex].clock)) * 1000;\n  }\n\n  sortEvents() {\n    const events = _.sortBy(this.props.events, e => Number(e.clock));\n    this.sortedEvents = events;\n    return events;\n  }\n\n  getEventAcks(events: ZBXEvent[]): ZBXAcknowledge[] {\n    const acks: ZBXAcknowledge[] = [];\n    for (const event of events) {\n      if (event.acknowledges) {\n        for (const ack of event.acknowledges) {\n          acks.push(ack);\n        }\n      }\n    }\n    return _.sortBy(acks, ack => Number(ack.clock));\n  }\n\n  render() {\n    if (!this.rootRef) {\n      return <div className=\"event-timeline\" ref={this.setRootRef} />;\n    }\n\n    const { timeRange, eventPointSize, eventRegionHeight } = this.props;\n    const events = this.sortEvents();\n    const acknowledges = this.getEventAcks(events);\n    const boxWidth = this.state.width + eventPointSize;\n    const boxHeight = Math.round(eventPointSize * 2.5);\n    const width = boxWidth - eventPointSize;\n    const padding = Math.round(eventPointSize / 2);\n    const pointsYpos = eventRegionHeight / 2;\n    const timelineYpos = Math.round(boxHeight / 2 - eventPointSize / 2);\n\n    return (\n      <div className=\"event-timeline\" ref={this.setRootRef} style={{ transform: `translate(${-padding}px, 0)`}}>\n        <TimelineInfoContainer className=\"timeline-info-container\"\n          event={this.state.highlightedEvent}\n          eventInfo={this.state.eventInfo}\n          show={this.state.showEventInfo}\n          left={padding}\n      />\n        <svg className=\"event-timeline-canvas\" viewBox={`0 0 ${boxWidth} ${boxHeight}`}>\n          <defs>\n            <TimelineSVGFilters />\n          </defs>\n          <g className=\"event-timeline-group\" transform={`translate(${padding}, ${timelineYpos})`}>\n            <g className=\"event-timeline-regions\" filter=\"url(#boxShadow)\">\n              <TimelineRegions\n                events={events}\n                timeRange={timeRange}\n                width={width}\n                height={eventRegionHeight}\n                highlightedRegion={this.state.highlightedRegion}\n              />\n            </g>\n            <g className=\"timeline-acknowledges\" transform={`translate(0, ${pointsYpos})`}>\n              <TimelineAcks\n                acknowledges={acknowledges}\n                timeRange={timeRange}\n                width={width}\n                size={eventPointSize}\n                onHighlight={this.handleAckHighlight}\n                onUnHighlight={this.handleAckUnHighlight}\n              />\n            </g>\n            <g className=\"timeline-points\" transform={`translate(0, ${pointsYpos})`}>\n              <TimelinePoints\n                events={events}\n                timeRange={timeRange}\n                width={width}\n                pointSize={eventPointSize}\n                onPointHighlight={this.handlePointHighlight}\n                onPointUnHighlight={this.handlePointUnHighlight}\n              />\n            </g>\n          </g>\n        </svg>\n      </div>\n    );\n  }\n}\n\nfunction TimelineSVGFilters() {\n  return (\n    <React.Fragment>\n      <filter id=\"dropShadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"2\" />\n        <feOffset dx=\"1\" dy=\"1\" />\n        <feMerge>\n          <feMergeNode />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n      <filter id=\"boxShadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"1\" />\n        <feComponentTransfer>\n          <feFuncA type=\"linear\" slope=\"0.7\" />\n        </feComponentTransfer>\n        <feOffset dx=\"1\" dy=\"1\" />\n        <feMerge>\n          <feMergeNode />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n      <filter id=\"glowShadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"2\" />\n        <feMerge>\n          <feMergeNode />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      </filter>\n      <filter id=\"timelinePointBlur\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"2\" result=\"blurOut\" />\n      </filter>\n    </React.Fragment>\n  );\n}\n\ninterface TimelineInfoContainerProps {\n  event?: ZBXEvent | null;\n  eventInfo?: EventInfo | null;\n  show?: boolean;\n  left?: number;\n  className?: string;\n}\n\nclass TimelineInfoContainer extends PureComponent<TimelineInfoContainerProps> {\n  static defaultProps = {\n    left: 0,\n    className: '',\n    show: false,\n  };\n\n  render() {\n    const { event, eventInfo, show, className, left } = this.props;\n    let infoItems, durationItem;\n    if (event) {\n      const ts = moment(Number(event.clock) * 1000);\n      const tsFormatted = ts.format('HH:mm:ss');\n      infoItems = [\n        <span key=\"ts\" className=\"event-timestamp\">\n          <span className=\"event-timestamp-label\">Time:&nbsp;</span>\n          <span className=\"event-timestamp-value\">{tsFormatted}</span>\n        </span>\n      ];\n    }\n    if (eventInfo && eventInfo.duration) {\n      const duration = eventInfo.duration;\n      const durationFormatted = moment.utc(duration).format('HH:mm:ss');\n      durationItem = (\n        <span key=\"duration\" className=\"event-timestamp\">\n          <span className=\"event-timestamp-label\">Duration:&nbsp;</span>\n          <span className=\"event-timestamp-value\">{durationFormatted}</span>\n        </span>\n      );\n    }\n    if (eventInfo && eventInfo.timestamp) {\n      const ts = moment(eventInfo.timestamp * 1000);\n      const tsFormatted = ts.format('HH:mm:ss');\n      infoItems = [\n        <span key=\"ts\" className=\"event-timestamp\">\n          <span className=\"event-timestamp-label\">Time:&nbsp;</span>\n          <span className=\"event-timestamp-value\">{tsFormatted}</span>\n        </span>\n      ];\n    }\n\n    const containerStyle: React.CSSProperties = { left };\n    if (!show) {\n      containerStyle.opacity = 0;\n    }\n\n    return (\n      <div className={className} style={containerStyle}>\n        <div>\n          {infoItems}\n        </div>\n        <div>\n          {durationItem}\n        </div>\n        {eventInfo && eventInfo.message &&\n          <div>\n            <span key=\"duration\" className=\"event-timestamp\">\n              <span className=\"event-timestamp-label\">Message:&nbsp;</span>\n              <span className=\"event-timestamp-value\">{eventInfo.message}</span>\n            </span>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\ninterface TimelineRegionsProps {\n  events: ZBXEvent[];\n  timeRange: GFTimeRange;\n  width: number;\n  height: number;\n  okColor?: string;\n  problemColor?: string;\n  highlightedRegion?: number | null;\n}\n\nclass TimelineRegions extends PureComponent<TimelineRegionsProps> {\n  static defaultProps = {\n    highlightedRegion: null,\n  };\n\n  render() {\n    const { events, timeRange, width, height, highlightedRegion } = this.props;\n    const { timeFrom, timeTo } = timeRange;\n    const range = timeTo - timeFrom;\n\n    let firstItem: React.ReactNode;\n    if (events.length) {\n      const firstTs = events.length ? Number(events[0].clock) : timeTo;\n      const duration = (firstTs - timeFrom) / range;\n      const regionWidth = Math.round(duration * width);\n      const highlighted = highlightedRegion === 0;\n      const valueClass = `problem-event--${events[0].value !== '1' ? 'problem' : 'ok'}`;\n      const className = `problem-event-region ${valueClass} ${highlighted ? 'highlighted' : ''}`;\n      const firstEventAttributes = {\n        x: 0,\n        y: 0,\n        width: regionWidth,\n        height: height,\n      };\n      firstItem = (\n        <rect key='0' className={className} {...firstEventAttributes}></rect>\n      );\n    }\n\n    const eventsIntervalItems = events.map((event, index) => {\n      const ts = Number(event.clock);\n      const nextTs = index < events.length - 1 ? Number(events[index + 1].clock) : timeTo;\n      const duration = (nextTs - ts) / range;\n      const regionWidth = Math.round(duration * width);\n      const posLeft = Math.round((ts - timeFrom) / range * width);\n      const highlighted = highlightedRegion && highlightedRegion - 1 === index;\n      const valueClass = `problem-event--${event.value === '1' ? 'problem' : 'ok'}`;\n      const className = `problem-event-region ${valueClass} ${highlighted ? 'highlighted' : ''}`;\n      const attributes = {\n        x: posLeft,\n        y: 0,\n        width: regionWidth,\n        height: height,\n      };\n\n      return (\n        <rect key={`${event.eventid}-${index}`} className={className} {...attributes} />\n      );\n    });\n\n    return [\n      firstItem,\n      eventsIntervalItems\n    ];\n  }\n}\n\ninterface TimelinePointsProps {\n  events: ZBXEvent[];\n  timeRange: GFTimeRange;\n  width: number;\n  pointSize: number;\n  okColor?: string;\n  problemColor?: string;\n  highlightRegion?: boolean;\n  onPointHighlight?: (index: number, secondIndex?: number) => void;\n  onPointUnHighlight?: () => void;\n}\n\ninterface TimelinePointsState {\n  order: number[];\n  highlighted: number[];\n}\n\nclass TimelinePoints extends PureComponent<TimelinePointsProps, TimelinePointsState> {\n  static defaultProps = {\n    highlightRegion: true,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = { order: [], highlighted: [] };\n  }\n\n  bringToFront = (indexes: number[], highlight = false) => {\n    const { events } = this.props;\n    let order = events.map((v, i) => i);\n    order = moveToEnd(order, indexes);\n    const highlighted = highlight ? indexes : null;\n    this.setState({ order, highlighted });\n  }\n\n  highlightPoint = (index: number) => () => {\n    let pointsToHighlight = [index];\n    if (this.props.onPointHighlight) {\n      if (this.props.highlightRegion) {\n        pointsToHighlight = this.getRegionEvents(index);\n        const secondIndex = pointsToHighlight.length === 2 ? pointsToHighlight[1] : undefined;\n        this.props.onPointHighlight(index, secondIndex);\n      } else {\n        this.props.onPointHighlight(index);\n      }\n    }\n    this.bringToFront(pointsToHighlight, true);\n  }\n\n  getRegionEvents(index: number) {\n    const events = this.props.events;\n    const event = events[index];\n    if (event.value === '1' && index < events.length ) {\n      // Problem event\n      for (let i = index; i < events.length; i++) {\n        if (events[i].value === '0') {\n          const okEventIndex = i;\n          return [index, okEventIndex];\n        }\n      }\n    } else if (event.value === '0' && index > 0) {\n      // OK event\n      let lastProblemIndex = null;\n      for (let i = index - 1; i >= 0; i--) {\n        if (events[i].value === '1') {\n          lastProblemIndex = i;\n        } else {\n          break;\n        }\n      }\n      if (lastProblemIndex !== null) {\n        return [index, lastProblemIndex];\n      }\n    }\n    return [index];\n  }\n\n  unHighlightPoint = index => () => {\n    if (this.props.onPointUnHighlight) {\n      this.props.onPointUnHighlight();\n    }\n    const order = this.props.events.map((v, i) => i);\n    this.setState({ order, highlighted: [] });\n  }\n\n  render() {\n    const { events, timeRange, width, pointSize } = this.props;\n    const { timeFrom, timeTo } = timeRange;\n    const range = timeTo - timeFrom;\n    const pointR = pointSize / 2;\n    const eventsItems = events.map((event, i) => {\n      const ts = Number(event.clock);\n      const posLeft = Math.round((ts - timeFrom) / range * width - pointR);\n      const className = `problem-event-item problem-event--${event.value === '1' ? 'problem' : 'ok'}`;\n      const highlighted = this.state.highlighted.indexOf(i) !== -1;\n\n      return (\n        <TimelinePoint\n          key={`${event.eventid}-${i}`}\n          className={className}\n          x={posLeft}\n          r={pointR}\n          highlighted={highlighted}\n          onPointHighlight={this.highlightPoint(i)}\n          onPointUnHighlight={this.unHighlightPoint(i)}\n        />\n      );\n    });\n    if (this.state.order.length) {\n      return this.state.order.map(i => eventsItems[i]);\n    }\n    return eventsItems;\n  }\n}\n\ninterface TimelinePointProps {\n  x: number;\n  r: number;\n  color?: string;\n  highlighted?: boolean;\n  className?: string;\n  onPointHighlight?: () => void;\n  onPointUnHighlight?: () => void;\n}\n\ninterface TimelinePointState {\n  highlighted?: boolean;\n}\n\nclass TimelinePoint extends PureComponent<TimelinePointProps, TimelinePointState> {\n  constructor(props) {\n    super(props);\n    this.state = { highlighted: false };\n  }\n\n  componentDidUpdate(prevProps: TimelinePointProps) {\n    // Update component after reordering to make animation working\n    if (prevProps.highlighted !== this.props.highlighted) {\n      this.setState({ highlighted: this.props.highlighted });\n    }\n  }\n\n  handleMouseOver = () => {\n    if (this.props.onPointHighlight) {\n      this.props.onPointHighlight();\n    }\n  }\n\n  handleMouseLeave = () => {\n    if (this.props.onPointUnHighlight) {\n      this.props.onPointUnHighlight();\n    }\n  }\n\n  render() {\n    const { x } = this.props;\n    const r = this.state.highlighted ? Math.round(this.props.r * HIGHLIGHTED_POINT_SIZE) : this.props.r;\n    const cx = x + this.props.r;\n    const rInner = Math.round(r * INNER_POINT_SIZE);\n    const className = `${this.props.className || ''} ${this.state.highlighted ? 'highlighted' : ''}`;\n    return (\n      <g className={className}\n        transform={`translate(${cx}, 0)`}\n        filter=\"url(#dropShadow)\"\n        onMouseOver={this.handleMouseOver}\n        onMouseLeave={this.handleMouseLeave}>\n        <circle cx={0} cy={0} r={r} className=\"point-border\" />\n        <circle cx={0} cy={0} r={rInner} className=\"point-core\" />\n      </g>\n    );\n  }\n}\n\ninterface TimelineAcksProps {\n  acknowledges: ZBXAcknowledge[];\n  timeRange: GFTimeRange;\n  width: number;\n  size: number;\n  onHighlight?: (ack: ZBXAcknowledge, index: number) => void;\n  onUnHighlight?: () => void;\n}\n\ninterface TimelineAcksState {\n  order: number[];\n  highlighted: number;\n}\n\nclass TimelineAcks extends PureComponent<TimelineAcksProps, TimelineAcksState> {\n  constructor(props) {\n    super(props);\n    this.state = { order: [], highlighted: null };\n  }\n\n  handleHighlight = (index: number) => () => {\n    if (this.props.onHighlight) {\n      const ack = this.props.acknowledges[index];\n      this.props.onHighlight(ack, index);\n    }\n    this.bringToFront(index, true);\n  }\n\n  handleUnHighlight = () => {\n    if (this.props.onUnHighlight) {\n      this.props.onUnHighlight();\n    }\n    const order = this.props.acknowledges.map((v, i) => i);\n    this.setState({ order, highlighted: null });\n  }\n\n  bringToFront = (index: number, highlight = false) => {\n    const { acknowledges } = this.props;\n    let order = acknowledges.map((v, i) => i);\n    order = moveToEnd(order, [index]);\n    const highlighted = highlight ? index : null;\n    this.setState({ order, highlighted });\n  }\n\n  render() {\n    const { acknowledges, timeRange, width, size } = this.props;\n    const { timeFrom, timeTo } = timeRange;\n    const range = timeTo - timeFrom;\n    const pointR = size / 2;\n    const eventsItems = acknowledges.map((ack, i) => {\n      const ts = Number(ack.clock);\n      const posLeft = Math.round((ts - timeFrom) / range * width - pointR);\n      const highlighted = this.state.highlighted === i;\n\n      return (\n        <TimelineAck\n          key={`${ack.eventid}-${i}`}\n          x={posLeft}\n          r={pointR}\n          highlighted={highlighted}\n          onHighlight={this.handleHighlight(i)}\n          onUnHighlight={this.handleUnHighlight}\n        />\n      );\n    });\n    if (this.state.order.length) {\n      return this.state.order.map(i => eventsItems[i]);\n    }\n    return eventsItems;\n  }\n}\n\ninterface TimelineAckProps {\n  x: number;\n  r: number;\n  highlighted?: boolean;\n  onHighlight?: () => void;\n  onUnHighlight?: () => void;\n}\n\ninterface TimelineAckState {\n  highlighted?: boolean;\n}\n\nclass TimelineAck extends PureComponent<TimelineAckProps, TimelineAckState> {\n  constructor(props) {\n    super(props);\n    this.state = { highlighted: false };\n  }\n\n  componentDidUpdate(prevProps: TimelineAckProps) {\n    // Update component after reordering to make animation working\n    if (prevProps.highlighted !== this.props.highlighted) {\n      this.setState({ highlighted: this.props.highlighted });\n    }\n  }\n\n  handleHighlight = () => {\n    if (this.props.onHighlight) {\n      this.props.onHighlight();\n    }\n  }\n\n  handleUnHighlight = () => {\n    if (this.props.onUnHighlight) {\n      this.props.onUnHighlight();\n    }\n  }\n\n  render() {\n    const { x } = this.props;\n    const r = this.state.highlighted ? Math.round(this.props.r * HIGHLIGHTED_POINT_SIZE) : this.props.r;\n    const cx = x + this.props.r;\n    const rInner = Math.round(r * INNER_POINT_SIZE);\n    const className = `problem-event-ack ${this.state.highlighted ? 'highlighted' : ''}`;\n    return (\n      <g className={className}\n        transform={`translate(${cx}, 0)`}\n        filter=\"url(#dropShadow)\"\n        onMouseOver={this.handleHighlight}\n        onMouseLeave={this.handleUnHighlight}>\n        <circle cx={0} cy={0} r={r} className=\"point-border\" />\n        <circle cx={0} cy={0} r={rInner} className=\"point-core\" />\n      </g>\n    );\n  }\n}\n\nfunction moveToEnd<T>(array: T[], itemsToMove: number[]): T[] {\n  const removed = _.pullAt(array, itemsToMove);\n  removed.reverse();\n  array.push(...removed);\n  return array;\n}\n","import React, { PureComponent } from 'react';\nimport { cx, css } from 'emotion';\nimport { GrafanaTheme, SelectableValue } from '@grafana/data';\nimport { Button, Spinner, Modal, Select, stylesFactory, withTheme, Themeable } from '@grafana/ui';\nimport { ZBXScript, APIExecuteScriptResponse } from '../../datasource-zabbix/zabbix/connectors/zabbix_api/types';\nimport { FAIcon } from '../../components';\n\ninterface Props extends Themeable {\n  getScripts(): Promise<ZBXScript[]>;\n  onSubmit(data?: ExecScriptData): Promise<any> | any;\n  onDismiss?(): void;\n}\n\ninterface State {\n  selectedScript: SelectableValue<string>;\n  scriptOptions: Array<SelectableValue<string>>;\n  script: ZBXScript;\n  error: boolean;\n  errorMessage: string | JSX.Element;\n  result: string | JSX.Element;\n  selectError: string;\n  loading: boolean;\n}\n\nexport interface ExecScriptData {\n  scriptid: string;\n}\n\nexport class ExecScriptModalUnthemed extends PureComponent<Props, State> {\n  scripts: ZBXScript[];\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false,\n      errorMessage: '',\n      selectError: '',\n      selectedScript: null,\n      result: '',\n      loading: false,\n      scriptOptions: [],\n      script: null,\n    };\n  }\n\n  async componentDidMount() {\n    const scripts = await this.props.getScripts();\n    this.scripts = scripts;\n    const scriptOptions: Array<SelectableValue<string>> = scripts.map(s => {\n      return {\n        value: s.scriptid,\n        label: s.name,\n        description: s.description || s.command,\n      };\n    });\n\n    const selectedScript = scriptOptions?.length ? scriptOptions[0] : null;\n    const script = scripts.find(s => selectedScript.value === s.scriptid);\n\n    this.setState({ scriptOptions, selectedScript, script });\n  }\n\n  onChangeSelectedScript = (v: SelectableValue<string>) => {\n    const script = this.scripts.find(s => v.value === s.scriptid);\n    this.setState({ selectedScript: v, script, errorMessage: '', loading: false, result: '' });\n  };\n\n  dismiss = () => {\n    this.setState({ selectedScript: null, error: false, errorMessage: '', selectError: '', loading: false });\n    this.props.onDismiss();\n  }\n\n  submit = () => {\n    const { selectedScript } = this.state;\n\n    if (!selectedScript) {\n      return this.setState({\n        selectError: 'Select a script to execute.'\n      });\n    }\n\n    this.setState({ errorMessage: '', loading: true, result: '' });\n\n    const data: ExecScriptData = {\n      scriptid: selectedScript.value,\n    };\n\n    this.props.onSubmit(data).then((result: APIExecuteScriptResponse) => {\n      const message = this.formatResult(result?.value || '');\n      if (result?.response === 'success') {\n        this.setState({ result: message, loading: false });\n      } else {\n        this.setState({ error: true, errorMessage: message, loading: false });\n      }\n    }).catch(err => {\n      let errorMessage = err.data?.message || err.data?.error || err.data || err.statusText || '';\n      errorMessage = this.formatResult(errorMessage);\n      this.setState({\n        error: true,\n        loading: false,\n        errorMessage,\n      });\n    });\n  }\n\n  formatResult = (result: string) => {\n    const formatted = result.split('\\n').map((p, i) => {\n      return <p key={i}>{p}</p>;\n    });\n    return <>{formatted}</>;\n  }\n\n  render() {\n    const { theme } = this.props;\n    const { scriptOptions, selectedScript, script, result, selectError, errorMessage, error } = this.state;\n\n    const styles = getStyles(theme);\n    const modalClass = cx(styles.modal);\n    const modalTitleClass = cx(styles.modalHeaderTitle);\n    const selectErrorClass = cx('gf-form-hint-text', styles.inputError);\n    const scriptCommandContainerClass = cx('gf-form', styles.scriptCommandContainer);\n    const scriptCommandClass = cx('gf-form-hint-text', styles.scriptCommand);\n\n    return (\n      <Modal\n        isOpen={true}\n        onDismiss={this.dismiss}\n        className={modalClass}\n        title={\n          <div className={modalTitleClass}>\n            {this.state.loading ? <Spinner size={18} /> : <FAIcon icon=\"terminal\" />}\n            <span className=\"p-l-1\">Execute script</span>\n          </div>\n        }\n      >\n        <div className=\"gf-form\">\n          <label className=\"gf-form-hint\">\n            <Select\n              options={scriptOptions}\n              value={selectedScript}\n              onChange={this.onChangeSelectedScript}\n            />\n            {selectError &&\n              <small className={selectErrorClass}>{selectError}</small>\n            }\n          </label>\n        </div>\n        <div className={scriptCommandContainerClass}>\n          {script && <small className={scriptCommandClass}>{script.command}</small>}\n        </div>\n\n        <div className={styles.resultContainer}>\n        {result &&\n          <span className={styles.execResult}>{result}</span>\n        }\n        {error &&\n          <span className={styles.execError}>{errorMessage}</span>\n        }\n        </div>\n\n        <div className=\"gf-form-button-row text-center\">\n          <Button variant=\"primary\" onClick={this.submit}>Execute</Button>\n          <Button variant=\"secondary\" onClick={this.dismiss}>Cancel</Button>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  const red = theme.palette.red;\n  return {\n    modal: css`\n      width: 600px;\n    `,\n    modalHeaderTitle: css`\n      font-size: ${theme.typography.heading.h3};\n      padding-top: ${theme.spacing.sm};\n      margin: 0 ${theme.spacing.md};\n      display: flex;\n    `,\n    input: css`\n      border-color: ${red};\n      border-radius: 2px;\n      outline-offset: 2px;\n      box-shadow: 0 0 0 2px ${theme.colors.bg1}, 0 0 0px 4px ${red};\n    `,\n    scriptCommandContainer: css`\n      margin-bottom: ${theme.spacing.md};\n    `,\n    scriptCommand: css`\n      color: ${theme.colors.textWeak};\n      text-align: left;\n      font-family: ${theme.typography.fontFamily.monospace};\n    `,\n    inputHint: css`\n      display: inherit;\n      float: right;\n      color: ${theme.colors.textWeak};\n    `,\n    inputError: css`\n      float: left;\n      color: ${red};\n    `,\n    resultContainer: css`\n      min-height: 50px;\n      font-family: ${theme.typography.fontFamily.monospace};\n      font-size: ${theme.typography.size.sm};\n      p {\n        font-size: ${theme.typography.size.sm};\n        margin-bottom: 0px;\n      }\n    `,\n    execResult: css`\n    `,\n    execError: css`\n      color: ${red};\n    `,\n  };\n});\n\nexport const ExecScriptModal = withTheme(ExecScriptModalUnthemed);\n","import React, { FC, PureComponent } from 'react';\nimport moment from 'moment';\nimport * as utils from '../../../datasource-zabbix/utils';\nimport { ProblemDTO, ZBXHost, ZBXGroup, ZBXEvent, ZBXTag, ZBXAlert } from '../../../datasource-zabbix/types';\nimport { ZBXScript, APIExecuteScriptResponse } from '../../../datasource-zabbix/zabbix/connectors/zabbix_api/types';\nimport { ZBXItem, GFTimeRange, RTRow } from '../../types';\nimport { AckModal, AckProblemData } from '../AckModal';\nimport EventTag from '../EventTag';\nimport ProblemStatusBar from './ProblemStatusBar';\nimport AcknowledgesList from './AcknowledgesList';\nimport ProblemTimeline from './ProblemTimeline';\nimport { FAIcon, ExploreButton, AckButton, Tooltip, ModalController, ExecScriptButton } from '../../../components';\nimport { ExecScriptModal, ExecScriptData } from '../ExecScriptModal';\nimport { Icon } from '@grafana/ui';\n\ninterface ProblemDetailsProps extends RTRow<ProblemDTO> {\n  rootWidth: number;\n  timeRange: GFTimeRange;\n  showTimeline?: boolean;\n  panelId?: number;\n  getProblemEvents: (problem: ProblemDTO) => Promise<ZBXEvent[]>;\n  getProblemAlerts: (problem: ProblemDTO) => Promise<ZBXAlert[]>;\n  getScripts: (problem: ProblemDTO) => Promise<ZBXScript[]>;\n  onExecuteScript(problem: ProblemDTO, scriptid: string): Promise<APIExecuteScriptResponse>;\n  onProblemAck?: (problem: ProblemDTO, data: AckProblemData) => Promise<any> | any;\n  onTagClick?: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n}\n\ninterface ProblemDetailsState {\n  events: ZBXEvent[];\n  alerts: ZBXAlert[];\n  show: boolean;\n}\n\nexport class ProblemDetails extends PureComponent<ProblemDetailsProps, ProblemDetailsState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      events: [],\n      alerts: [],\n      show: false,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.showTimeline) {\n      this.fetchProblemEvents();\n    }\n    this.fetchProblemAlerts();\n    requestAnimationFrame(() => {\n      this.setState({ show: true });\n    });\n  }\n\n  handleTagClick = (tag: ZBXTag, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, this.props.original.datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  fetchProblemEvents() {\n    const problem = this.props.original;\n    this.props.getProblemEvents(problem)\n    .then(events => {\n      this.setState({ events });\n    });\n  }\n\n  fetchProblemAlerts() {\n    const problem = this.props.original;\n    this.props.getProblemAlerts(problem)\n    .then(alerts => {\n      this.setState({ alerts });\n    });\n  }\n\n  ackProblem = (data: AckProblemData) => {\n    const problem = this.props.original as ProblemDTO;\n    return this.props.onProblemAck(problem, data);\n  }\n\n  getScripts = () => {\n    const problem = this.props.original as ProblemDTO;\n    return this.props.getScripts(problem);\n  }\n\n  onExecuteScript = (data: ExecScriptData) => {\n    const problem = this.props.original as ProblemDTO;\n    return this.props.onExecuteScript(problem, data.scriptid);\n  }\n\n  render() {\n    const problem = this.props.original as ProblemDTO;\n    const alerts = this.state.alerts;\n    const rootWidth = this.props.rootWidth;\n    const displayClass = this.state.show ? 'show' : '';\n    const wideLayout = rootWidth > 1200;\n    const compactStatusBar = rootWidth < 800 || problem.acknowledges && wideLayout && rootWidth < 1400;\n    const age = moment.unix(problem.timestamp).fromNow(true);\n    const showAcknowledges = problem.acknowledges && problem.acknowledges.length !== 0;\n    const problemSeverity = Number(problem.severity);\n\n    return (\n      <div className={`problem-details-container ${displayClass}`}>\n        <div className=\"problem-details\">\n          <div className=\"problem-details-row\">\n            <div className=\"problem-value-container\">\n              <div className=\"problem-age\">\n                <FAIcon icon=\"clock-o\" />\n                <span>{age}</span>\n              </div>\n              {problem.items && <ProblemItems items={problem.items} />}\n            </div>\n            <div className=\"problem-actions-left\">\n              <ExploreButton problem={problem} panelId={this.props.panelId} />\n            </div>\n            <ProblemStatusBar problem={problem} alerts={alerts} className={compactStatusBar && 'compact'} />\n            {problem.showAckButton &&\n              <div className=\"problem-actions\">\n                <ModalController>\n                  {({ showModal, hideModal }) => (\n                    <ExecScriptButton\n                      className=\"navbar-button navbar-button--settings\"\n                      onClick={() => {\n                        showModal(ExecScriptModal, {\n                          getScripts: this.getScripts,\n                          onSubmit: this.onExecuteScript,\n                          onDismiss: hideModal,\n                        });\n                      }}\n                    />\n                  )}\n                </ModalController>\n                <ModalController>\n                  {({ showModal, hideModal }) => (\n                    <AckButton\n                      className=\"navbar-button navbar-button--settings\"\n                      onClick={() => {\n                        showModal(AckModal, {\n                          canClose: problem.manual_close === '1',\n                          severity: problemSeverity,\n                          onSubmit: this.ackProblem,\n                          onDismiss: hideModal,\n                        });\n                      }}\n                    />\n                  )}\n                </ModalController>\n              </div>\n            }\n          </div>\n          {problem.comments &&\n            <div className=\"problem-description-row\">\n              <div className=\"problem-description\">\n                <Tooltip placement=\"right\" content={problem.comments}>\n                  <span className=\"description-label\">Description:&nbsp;</span>\n                </Tooltip>\n                <span>{problem.comments}</span>\n              </div>\n            </div>\n          }\n          {problem.tags && problem.tags.length > 0 &&\n            <div className=\"problem-tags\">\n              {problem.tags && problem.tags.map(tag =>\n                <EventTag\n                  key={tag.tag + tag.value}\n                  tag={tag}\n                  highlight={tag.tag === problem.correlation_tag}\n                  onClick={this.handleTagClick}\n                />)\n              }\n            </div>\n          }\n          {this.props.showTimeline && this.state.events.length > 0 &&\n            <ProblemTimeline events={this.state.events} timeRange={this.props.timeRange} />\n          }\n          {showAcknowledges && !wideLayout &&\n            <div className=\"problem-ack-container\">\n              <h6><FAIcon icon=\"reply-all\" /> Acknowledges</h6>\n              <AcknowledgesList acknowledges={problem.acknowledges} />\n            </div>\n          }\n        </div>\n        {showAcknowledges && wideLayout &&\n          <div className=\"problem-details-middle\">\n            <div className=\"problem-ack-container\">\n              <h6><FAIcon icon=\"reply-all\" /> Acknowledges</h6>\n              <AcknowledgesList acknowledges={problem.acknowledges} />\n            </div>\n          </div>\n        }\n        <div className=\"problem-details-right\">\n          <div className=\"problem-details-right-item\">\n            <FAIcon icon=\"database\" />\n            <span>{problem.datasource}</span>\n          </div>\n          {problem.proxy &&\n            <div className=\"problem-details-right-item\">\n              <FAIcon icon=\"cloud\" />\n              <span>{problem.proxy}</span>\n            </div>\n          }\n          {problem.groups && <ProblemGroups groups={problem.groups} className=\"problem-details-right-item\" />}\n          {problem.hosts && <ProblemHosts hosts={problem.hosts} className=\"problem-details-right-item\" />}\n        </div>\n      </div>\n    );\n  }\n}\n\ninterface ProblemItemProps {\n  item: ZBXItem;\n  showName?: boolean;\n}\n\nfunction ProblemItem(props: ProblemItemProps) {\n  const { item, showName } = props;\n  const itemName = utils.expandItemName(item.name, item.key_);\n  const tooltipContent = () => <>{itemName}<br/>{item.lastvalue}</>;\n\n  return (\n    <div className=\"problem-item\">\n      <FAIcon icon=\"thermometer-three-quarters\" />\n      {showName && <span className=\"problem-item-name\">{item.name}: </span>}\n      <Tooltip placement=\"top-start\" content={tooltipContent}>\n        <span className=\"problem-item-value\">{item.lastvalue}</span>\n      </Tooltip>\n    </div>\n  );\n}\n\ninterface ProblemItemsProps {\n  items: ZBXItem[];\n}\n\nconst ProblemItems: FC<ProblemItemsProps> = ({ items }) => {\n  return (\n    <div className=\"problem-items-row\">\n      {items.length > 1 ?\n        items.map(item => <ProblemItem item={item} key={item.itemid} showName={true} />) :\n        <ProblemItem item={items[0]} />\n      }\n    </div>\n  );\n};\n\ninterface ProblemGroupsProps {\n  groups: ZBXGroup[];\n  className?: string;\n}\n\nclass ProblemGroups extends PureComponent<ProblemGroupsProps> {\n  render() {\n    return this.props.groups.map(g => (\n      <div className={this.props.className || ''} key={g.groupid}>\n        <FAIcon icon=\"folder\" />\n        <span>{g.name}</span>\n      </div>\n    ));\n  }\n}\n\ninterface ProblemHostsProps {\n  hosts: ZBXHost[];\n  className?: string;\n}\n\nclass ProblemHosts extends PureComponent<ProblemHostsProps> {\n  render() {\n    return this.props.hosts.map(h => (\n      <div className={this.props.className || ''} key={h.hostid}>\n        <FAIcon icon=\"server\" />\n        <span>{h.name}</span>\n      </div>\n    ));\n  }\n}\n","import React from 'react';\nimport { css } from 'emotion';\nimport { RTCell } from '../../types';\nimport { ProblemDTO } from '../../../datasource-zabbix/types';\nimport { FAIcon } from '../../../components';\nimport { useTheme, stylesFactory } from '@grafana/ui';\nimport { GrafanaTheme } from '@grafana/data';\n\nconst getStyles = stylesFactory((theme: GrafanaTheme) => {\n  return {\n    countLabel: css`\n      font-size: ${theme.typography.size.sm};\n    `,\n  };\n});\n\nexport const AckCell: React.FC<RTCell<ProblemDTO>> = (props: RTCell<ProblemDTO>) => {\n  const problem = props.original;\n  const theme = useTheme();\n  const styles = getStyles(theme);\n\n  return (\n    <div>\n      {problem.acknowledges?.length > 0 &&\n        <>\n          <FAIcon icon=\"comments\" />\n          <span className={styles.countLabel}> ({problem.acknowledges?.length})</span>\n        </>\n      }\n    </div>\n  );\n};\n\nexport default AckCell;\n","import React, { PureComponent } from 'react';\nimport ReactTable from 'react-table-6';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { isNewProblem } from '../../utils';\nimport EventTag from '../EventTag';\nimport { ProblemDetails } from './ProblemDetails';\nimport { AckProblemData } from '../AckModal';\nimport { GFHeartIcon, FAIcon } from '../../../components';\nimport { ProblemsPanelOptions, GFTimeRange, RTCell, TriggerSeverity, RTResized } from '../../types';\nimport { ProblemDTO, ZBXEvent, ZBXTag, ZBXAlert } from '../../../datasource-zabbix/types';\nimport { ZBXScript, APIExecuteScriptResponse } from '../../../datasource-zabbix/zabbix/connectors/zabbix_api/types';\nimport { AckCell } from './AckCell';\n\nexport interface ProblemListProps {\n  problems: ProblemDTO[];\n  panelOptions: ProblemsPanelOptions;\n  loading?: boolean;\n  timeRange?: GFTimeRange;\n  pageSize?: number;\n  fontSize?: number;\n  panelId?: number;\n  getProblemEvents: (problem: ProblemDTO) => Promise<ZBXEvent[]>;\n  getProblemAlerts: (problem: ProblemDTO) => Promise<ZBXAlert[]>;\n  getScripts: (problem: ProblemDTO) => Promise<ZBXScript[]>;\n  onExecuteScript: (problem: ProblemDTO, scriptid: string) => Promise<APIExecuteScriptResponse>;\n  onProblemAck?: (problem: ProblemDTO, data: AckProblemData) => void;\n  onTagClick?: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n  onPageSizeChange?: (pageSize: number, pageIndex: number) => void;\n  onColumnResize?: (newResized: RTResized) => void;\n}\n\ninterface ProblemListState {\n  expanded: any;\n  expandedProblems: any;\n  page: number;\n}\n\nexport default class ProblemList extends PureComponent<ProblemListProps, ProblemListState> {\n  rootWidth: number;\n  rootRef: any;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: {},\n      expandedProblems: {},\n      page: 0,\n    };\n  }\n\n  setRootRef = ref => {\n    this.rootRef = ref;\n  }\n\n  handleProblemAck = (problem: ProblemDTO, data: AckProblemData) => {\n    return this.props.onProblemAck(problem, data);\n  }\n\n  onExecuteScript = (problem: ProblemDTO, data: AckProblemData) => {\n  }\n\n  handlePageSizeChange = (pageSize, pageIndex) => {\n    if (this.props.onPageSizeChange) {\n      this.props.onPageSizeChange(pageSize, pageIndex);\n    }\n  }\n\n  handleResizedChange = (newResized, event) => {\n    if (this.props.onColumnResize) {\n      this.props.onColumnResize(newResized);\n    }\n  }\n\n  handleExpandedChange = (expanded: any, event: any) => {\n    const { problems, pageSize } = this.props;\n    const { page } = this.state;\n    const expandedProblems = {};\n\n    for (const row in expanded) {\n      const rowId = Number(row);\n      const problemIndex = pageSize * page + rowId;\n      if (expanded[row] && problemIndex < problems.length) {\n        const expandedProblem = problems[problemIndex].eventid;\n        if (expandedProblem) {\n          expandedProblems[expandedProblem] = true;\n        }\n      }\n    }\n\n    const nextExpanded = { ...this.state.expanded };\n    nextExpanded[page] = expanded;\n\n    const nextExpandedProblems = { ...this.state.expandedProblems };\n    nextExpandedProblems[page] = expandedProblems;\n\n    this.setState({\n      expanded: nextExpanded,\n      expandedProblems: nextExpandedProblems,\n    });\n  }\n\n  handleTagClick = (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  getExpandedPage = (page: number) => {\n    const { problems, pageSize } = this.props;\n    const { expandedProblems } = this.state;\n    const expandedProblemsPage = expandedProblems[page] || {};\n    const expandedPage = {};\n\n    // Go through the page and search for expanded problems\n    const startIndex = pageSize * page;\n    const endIndex = Math.min(startIndex + pageSize, problems.length);\n    for (let i = startIndex; i < endIndex; i++) {\n      const problem = problems[i];\n      if (expandedProblemsPage[problem.eventid]) {\n        expandedPage[i - startIndex] = {};\n      }\n    }\n\n    return expandedPage;\n  }\n\n  buildColumns() {\n    const result = [];\n    const options = this.props.panelOptions;\n    const highlightNewerThan = options.highlightNewEvents && options.highlightNewerThan;\n    const statusCell = props => StatusCell(props, highlightNewerThan);\n    const statusIconCell = props => StatusIconCell(props, highlightNewerThan);\n    const hostNameCell = props => <HostCell name={props.original.host} maintenance={props.original.maintenance} />;\n    const hostTechNameCell = props => <HostCell name={props.original.hostTechName} maintenance={props.original.maintenance} />;\n\n    const columns = [\n      { Header: 'Host', id: 'host', show: options.hostField, Cell: hostNameCell },\n      { Header: 'Host (Technical Name)', id: 'hostTechName', show: options.hostTechNameField, Cell: hostTechNameCell },\n      { Header: 'Host Groups', accessor: 'groups', show: options.hostGroups, Cell: GroupCell },\n      { Header: 'Proxy', accessor: 'proxy', show: options.hostProxy },\n      {\n        Header: 'Severity', show: options.severityField, className: 'problem-severity', width: 120,\n        accessor: problem => problem.priority,\n        id: 'severity',\n        Cell: props => SeverityCell(props, options.triggerSeverity, options.markAckEvents, options.ackEventColor, options.okEventColor),\n      },\n      {\n        Header: '', id: 'statusIcon', show: options.statusIcon, className: 'problem-status-icon', width: 50,\n        accessor: 'value',\n        Cell: statusIconCell,\n      },\n      { Header: 'Status', accessor: 'value', show: options.statusField, width: 100, Cell: statusCell },\n      { Header: 'Problem', accessor: 'description', minWidth: 200, Cell: ProblemCell},\n      {\n        Header: 'Ack', id: 'ack', show: options.ackField, width: 70,\n        Cell: props => <AckCell {...props} />\n      },\n      {\n        Header: 'Tags', accessor: 'tags', show: options.showTags, className: 'problem-tags',\n        Cell: props => <TagCell {...props} onTagClick={this.handleTagClick} />\n      },\n      {\n        Header: 'Age', className: 'problem-age', width: 100, show: options.ageField, accessor: 'timestamp',\n        id: 'age',\n        Cell: AgeCell,\n      },\n      {\n        Header: 'Time', className: 'last-change', width: 150, accessor: 'timestamp',\n        id: 'lastchange',\n        Cell: props => LastChangeCell(props, options.customLastChangeFormat && options.lastChangeFormat),\n      },\n      { Header: '', className: 'custom-expander', width: 60, expander: true, Expander: CustomExpander },\n    ];\n    for (const column of columns) {\n      if (column.show || column.show === undefined) {\n        delete column.show;\n        result.push(column);\n      }\n    }\n    return result;\n  }\n\n  render() {\n    const columns = this.buildColumns();\n    this.rootWidth = this.rootRef && this.rootRef.clientWidth;\n    const { pageSize, fontSize, panelOptions } = this.props;\n    const panelClass = classNames('panel-problems', { [`font-size--${fontSize}`]: fontSize });\n    let pageSizeOptions = [5, 10, 20, 25, 50, 100];\n    if (pageSize) {\n      pageSizeOptions.push(pageSize);\n      pageSizeOptions = _.uniq(_.sortBy(pageSizeOptions));\n    }\n\n    return (\n      <div className={panelClass} ref={this.setRootRef}>\n        <ReactTable\n          data={this.props.problems}\n          columns={columns}\n          defaultPageSize={10}\n          pageSize={pageSize}\n          pageSizeOptions={pageSizeOptions}\n          resized={panelOptions.resizedColumns}\n          minRows={0}\n          loading={this.props.loading}\n          noDataText=\"No problems found\"\n          SubComponent={props =>\n            <ProblemDetails {...props}\n              rootWidth={this.rootWidth}\n              timeRange={this.props.timeRange}\n              showTimeline={panelOptions.problemTimeline}\n              panelId={this.props.panelId}\n              getProblemEvents={this.props.getProblemEvents}\n              getProblemAlerts={this.props.getProblemAlerts}\n              getScripts={this.props.getScripts}\n              onProblemAck={this.handleProblemAck}\n              onExecuteScript={this.props.onExecuteScript}\n              onTagClick={this.handleTagClick}\n              subRows={false}\n            />\n          }\n          expanded={this.getExpandedPage(this.state.page)}\n          onExpandedChange={this.handleExpandedChange}\n          onPageChange={page => this.setState({ page })}\n          onPageSizeChange={this.handlePageSizeChange}\n          onResizedChange={this.handleResizedChange}\n        />\n      </div>\n    );\n  }\n}\n\ninterface HostCellProps {\n  name: string;\n  maintenance: boolean;\n}\n\nconst HostCell: React.FC<HostCellProps> = ({ name, maintenance }) => {\n  return (\n    <div>\n      <span style={{ paddingRight: '0.4rem' }}>{name}</span>\n      {maintenance && <FAIcon customClass=\"fired\" icon=\"wrench\" />}\n    </div>\n  );\n};\n\nfunction SeverityCell(\n  props: RTCell<ProblemDTO>,\n  problemSeverityDesc: TriggerSeverity[],\n  markAckEvents?: boolean,\n  ackEventColor?: string,\n  okColor = DEFAULT_OK_COLOR\n  ) {\n  const problem = props.original;\n  let color: string;\n\n  let severityDesc: TriggerSeverity;\n  const severity = Number(problem.severity);\n  severityDesc = _.find(problemSeverityDesc, s => s.priority === severity);\n  if (problem.severity && problem.value === '1') {\n    severityDesc = _.find(problemSeverityDesc, s => s.priority === severity);\n  }\n\n  color = problem.value === '0' ? okColor : severityDesc.color;\n\n  // Mark acknowledged triggers with different color\n  if (markAckEvents && problem.acknowledged === \"1\") {\n    color = ackEventColor;\n  }\n\n  return (\n    <div className='severity-cell' style={{ background: color }}>\n      {severityDesc.severity}\n    </div>\n  );\n}\n\nconst DEFAULT_OK_COLOR = 'rgb(56, 189, 113)';\nconst DEFAULT_PROBLEM_COLOR = 'rgb(215, 0, 0)';\n\nfunction StatusCell(props: RTCell<ProblemDTO>, highlightNewerThan?: string) {\n  const status = props.value === '0' ? 'RESOLVED' : 'PROBLEM';\n  const color = props.value === '0' ? DEFAULT_OK_COLOR : DEFAULT_PROBLEM_COLOR;\n  let newProblem = false;\n  if (highlightNewerThan) {\n    newProblem = isNewProblem(props.original, highlightNewerThan);\n  }\n  return (\n    <span className={newProblem ? 'problem-status--new' : ''} style={{ color }}>{status}</span>\n  );\n}\n\nfunction StatusIconCell(props: RTCell<ProblemDTO>, highlightNewerThan?: string) {\n  const status = props.value === '0' ? 'ok' : 'problem';\n  let newProblem = false;\n  if (highlightNewerThan) {\n    newProblem = isNewProblem(props.original, highlightNewerThan);\n  }\n  const className = classNames('zbx-problem-status-icon',\n    { 'problem-status--new': newProblem },\n    { 'zbx-problem': props.value === '1' },\n    { 'zbx-ok': props.value === '0' },\n  );\n  return <GFHeartIcon status={status} className={className} />;\n}\n\nfunction GroupCell(props: RTCell<ProblemDTO>) {\n  let groups = \"\";\n  if (props.value && props.value.length) {\n    groups = props.value.map(g => g.name).join(', ');\n  }\n  return (\n    <span>{groups}</span>\n  );\n}\n\nfunction ProblemCell(props: RTCell<ProblemDTO>) {\n  const comments = props.original.comments;\n  return (\n    <div>\n      <span className=\"problem-description\">{props.value}</span>\n      {/* {comments && <FAIcon icon=\"file-text-o\" customClass=\"comments-icon\" />} */}\n    </div>\n  );\n}\n\nfunction AgeCell(props: RTCell<ProblemDTO>) {\n  const problem = props.original;\n  const timestamp = moment.unix(problem.timestamp);\n  const age = timestamp.fromNow(true);\n  return <span>{age}</span>;\n}\n\nfunction LastChangeCell(props: RTCell<ProblemDTO>, customFormat?: string) {\n  const DEFAULT_TIME_FORMAT = \"DD MMM YYYY HH:mm:ss\";\n  const problem = props.original;\n  const timestamp = moment.unix(problem.timestamp);\n  const format = customFormat || DEFAULT_TIME_FORMAT;\n  const lastchange = timestamp.format(format);\n  return <span>{lastchange}</span>;\n}\n\ninterface TagCellProps extends RTCell<ProblemDTO> {\n  onTagClick: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n}\n\nclass TagCell extends PureComponent<TagCellProps> {\n  handleTagClick = (tag: ZBXTag, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, this.props.original.datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  render() {\n    const tags = this.props.value || [];\n    return [\n      tags.map(tag => <EventTag key={tag.tag + tag.value} tag={tag} onClick={this.handleTagClick} /> )\n    ];\n  }\n}\n\nfunction CustomExpander(props: RTCell<any>) {\n  return (\n    <span className={props.isExpanded ? \"expanded\" : \"\"}>\n      <i className=\"fa fa-info-circle\"></i>\n    </span>\n  );\n}\n","import React, { PureComponent } from 'react';\nimport { ZBXTrigger } from '../../types';\n\ninterface AlertAcknowledgesProps {\n  problem: ZBXTrigger;\n  onClick: (event?) => void;\n}\n\nexport default class AlertAcknowledges extends PureComponent<AlertAcknowledgesProps> {\n  handleClick = (event) => {\n    this.props.onClick(event);\n  }\n\n  render() {\n    const { problem } = this.props;\n    const ackRows = problem.acknowledges && problem.acknowledges.map(ack => {\n      return (\n        <tr key={ack.acknowledgeid}>\n          <td>{ack.time}</td>\n          <td>{ack.user}</td>\n          <td>{ack.message}</td>\n        </tr>\n      );\n    });\n    return (\n      <div className=\"ack-tooltip\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th className=\"ack-time\">Time</th>\n              <th className=\"ack-user\">User</th>\n              <th className=\"ack-comments\">Comments</th>\n            </tr>\n          </thead>\n          <tbody>\n            {ackRows}\n          </tbody>\n        </table>\n        {problem.showAckButton &&\n          <div className=\"ack-add-button\">\n            <button id=\"add-acknowledge-btn\" className=\"btn btn-mini btn-inverse gf-form-button\" onClick={this.handleClick}>\n              <i className=\"fa fa-plus\"></i>\n            </button>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n","import React, { FC } from 'react';\nimport { cx, css } from 'emotion';\nimport { GFHeartIcon } from '../../../components';\nimport { ProblemDTO } from '../../../datasource-zabbix/types';\n\ninterface Props {\n  problem: ProblemDTO;\n  color: string;\n  blink?: boolean;\n  highlightBackground?: boolean;\n}\n\nexport const AlertIcon: FC<Props> = ({ problem, color, blink, highlightBackground }) => {\n  const severity = Number(problem.severity);\n  const status = problem.value === '1' && severity >= 2 ? 'critical' : 'online';\n\n  const iconClass = cx(\n    'icon-gf',\n    blink && 'zabbix-trigger--blinked',\n  );\n\n  const wrapperClass = cx(\n    'alert-rule-item__icon',\n    !highlightBackground && css`color: ${color}`\n  );\n\n  return (\n    <div className={wrapperClass}>\n      <GFHeartIcon status={status} className={iconClass} />\n    </div>\n  );\n};\n\nexport default AlertIcon;\n","import React, { PureComponent, CSSProperties } from 'react';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport moment from 'moment';\nimport { isNewProblem, formatLastChange } from '../../utils';\nimport { ProblemsPanelOptions, TriggerSeverity } from '../../types';\nimport { AckProblemData, AckModal } from '../AckModal';\nimport EventTag from '../EventTag';\nimport AlertAcknowledges from './AlertAcknowledges';\nimport AlertIcon from './AlertIcon';\nimport { ProblemDTO, ZBXTag } from '../../../datasource-zabbix/types';\nimport { ModalController, Tooltip } from '../../../components';\n\ninterface AlertCardProps {\n  problem: ProblemDTO;\n  panelOptions: ProblemsPanelOptions;\n  onTagClick?: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n  onProblemAck?: (problem: ProblemDTO, data: AckProblemData) => Promise<any> | any;\n}\n\nexport default class AlertCard extends PureComponent<AlertCardProps> {\n\n  handleTagClick = (tag: ZBXTag, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, this.props.problem.datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  ackProblem = (data: AckProblemData) => {\n    const problem = this.props.problem;\n    return this.props.onProblemAck(problem, data);\n  }\n\n  render() {\n    const { problem, panelOptions } = this.props;\n    const showDatasourceName = panelOptions.targets && panelOptions.targets.length > 1;\n    const cardClass = classNames('alert-rule-item', 'zbx-trigger-card', { 'zbx-trigger-highlighted': panelOptions.highlightBackground });\n    const descriptionClass = classNames('alert-rule-item__text', { 'zbx-description--newline': panelOptions.descriptionAtNewLine });\n\n    const problemSeverity = Number(problem.severity);\n    let severityDesc: TriggerSeverity;\n    severityDesc = _.find(panelOptions.triggerSeverity, s => s.priority === problemSeverity);\n    if (problem.severity) {\n      severityDesc = _.find(panelOptions.triggerSeverity, s => s.priority === problemSeverity);\n    }\n\n    const lastchange = formatLastChange(problem.timestamp, panelOptions.customLastChangeFormat && panelOptions.lastChangeFormat);\n    const age = moment.unix(problem.timestamp).fromNow(true);\n\n    let newProblem = false;\n    if (panelOptions.highlightNewerThan) {\n      newProblem = isNewProblem(problem, panelOptions.highlightNewerThan);\n    }\n    const blink = panelOptions.highlightNewEvents && newProblem;\n\n    let problemColor: string;\n    if (problem.value === '0') {\n      problemColor = panelOptions.okEventColor;\n    } else if (panelOptions.markAckEvents && problem.acknowledged === \"1\") {\n      problemColor = panelOptions.ackEventColor;\n    } else {\n      problemColor = severityDesc.color;\n    }\n\n    const cardStyle: CSSProperties = {};\n    if (panelOptions.highlightBackground) {\n      cardStyle.backgroundColor = problemColor;\n    }\n\n    return (\n      <li className={cardClass} style={cardStyle}>\n        <AlertIcon problem={problem} color={problemColor} highlightBackground={panelOptions.highlightBackground} blink={blink} />\n\n        <div className=\"alert-rule-item__body\">\n          <div className=\"alert-rule-item__header\">\n            <div className=\"alert-rule-item__name\">\n              <span className=\"zabbix-trigger-name\">{problem.description}</span>\n              {(panelOptions.hostField || panelOptions.hostTechNameField) && (\n                <AlertHost problem={problem} panelOptions={panelOptions} />\n              )}\n              {panelOptions.hostGroups && <AlertGroup problem={problem} panelOptions={panelOptions} />}\n\n              {panelOptions.showTags && (\n                <span className=\"zbx-trigger-tags\">\n                  {problem.tags && problem.tags.map(tag =>\n                    <EventTag\n                      key={tag.tag + tag.value}\n                      tag={tag}\n                      highlight={tag.tag === problem.correlation_tag}\n                      onClick={this.handleTagClick}\n                    />\n                  )}\n                </span>\n              )}\n            </div>\n\n            <div className={descriptionClass}>\n              {panelOptions.statusField && <AlertStatus problem={problem} blink={blink} />}\n              {panelOptions.severityField && (\n                <AlertSeverity severityDesc={severityDesc} blink={blink} highlightBackground={panelOptions.highlightBackground} />\n              )}\n              <span className=\"alert-rule-item__time\">\n                {panelOptions.ageField && \"for \" + age}\n              </span>\n              {panelOptions.descriptionField && !panelOptions.descriptionAtNewLine && (\n                <span className=\"zbx-description\" dangerouslySetInnerHTML={{ __html: problem.comments }} />\n              )}\n            </div>\n\n            {panelOptions.descriptionField && panelOptions.descriptionAtNewLine && (\n              <div className=\"alert-rule-item__text zbx-description--newline\" >\n                <span\n                  className=\"alert-rule-item__info zbx-description\"\n                  dangerouslySetInnerHTML={{ __html: problem.comments }}\n                />\n              </div>\n            )}\n\n          </div>\n        </div>\n\n        {showDatasourceName && (\n          <div className=\"alert-rule-item__time zabbix-trigger-source\">\n            <span>\n              <i className=\"fa fa-database\"></i>\n              {problem.datasource}\n            </span>\n          </div>\n        )}\n\n        <div className=\"alert-rule-item__time zbx-trigger-lastchange\">\n          <span>{lastchange || \"last change unknown\"}</span>\n          <div className=\"trigger-info-block zbx-status-icons\">\n            {problem.url && <a href={problem.url} target=\"_blank\"><i className=\"fa fa-external-link\"></i></a>}\n            {problem.state === '1' && (\n              <Tooltip placement=\"bottom\" content={problem.error}>\n                <span><i className=\"fa fa-question-circle\"></i></span>\n              </Tooltip>\n            )}\n            {problem.eventid && (\n              <ModalController>\n              {({ showModal, hideModal }) => (\n                <AlertAcknowledgesButton\n                  problem={problem}\n                  onClick={() => {\n                    showModal(AckModal, {\n                      canClose: problem.manual_close === '1',\n                      severity: problemSeverity,\n                      onSubmit: this.ackProblem,\n                      onDismiss: hideModal,\n                    });\n                  }}\n                />\n              )}\n            </ModalController>\n            )}\n          </div>\n        </div>\n      </li>\n    );\n  }\n}\n\ninterface AlertHostProps {\n  problem: ProblemDTO;\n  panelOptions: ProblemsPanelOptions;\n}\n\nfunction AlertHost(props: AlertHostProps) {\n  const problem = props.problem;\n  const panel = props.panelOptions;\n  let host = \"\";\n  if (panel.hostField && panel.hostTechNameField) {\n    host = `${problem.host} (${problem.hostTechName})`;\n  } else if (panel.hostField || panel.hostTechNameField) {\n    host = panel.hostField ? problem.host : problem.hostTechName;\n  }\n  if (panel.hostProxy && problem.proxy) {\n    host = `${problem.proxy}: ${host}`;\n  }\n\n  return (\n    <span className=\"zabbix-hostname\">\n      {problem.maintenance && <i className=\"fa fa-wrench zbx-maintenance-icon\"></i>}\n      {host}\n    </span>\n  );\n}\n\ninterface AlertGroupProps {\n  problem: ProblemDTO;\n  panelOptions: ProblemsPanelOptions;\n}\n\nfunction AlertGroup(props: AlertGroupProps) {\n  const problem = props.problem;\n  const panel = props.panelOptions;\n  let groupNames = \"\";\n  if (panel.hostGroups) {\n    const groups = _.map(problem.groups, 'name').join(', ');\n    groupNames += `[ ${groups} ]`;\n  }\n\n  return (\n    <span className=\"zabbix-hostname\">{groupNames}</span>\n  );\n}\n\nconst DEFAULT_OK_COLOR = 'rgb(56, 189, 113)';\nconst DEFAULT_PROBLEM_COLOR = 'rgb(215, 0, 0)';\n\nfunction AlertStatus(props) {\n  const { problem, okColor, problemColor, blink } = props;\n  const status = problem.value === '0' ? 'RESOLVED' : 'PROBLEM';\n  const color = problem.value === '0' ? okColor || DEFAULT_OK_COLOR : problemColor || DEFAULT_PROBLEM_COLOR;\n  const className = classNames(\n    'zbx-trigger-state',\n    { 'alert-state-critical': problem.value === '1' },\n    { 'alert-state-ok': problem.value === '0' },\n    { 'zabbix-trigger--blinked': blink }\n  );\n  return (\n    <span className={className}>\n      {status}\n    </span>\n  );\n}\n\nfunction AlertSeverity(props) {\n  const { severityDesc, highlightBackground, blink } = props;\n  const className = classNames('zbx-trigger-severity', { 'zabbix-trigger--blinked': blink });\n  const style: CSSProperties = {};\n  if (!highlightBackground) {\n    style.color = severityDesc.color;\n  }\n  return (\n    <span className={className} style={style}>\n      {severityDesc.severity}\n    </span>\n  );\n}\n\ninterface AlertAcknowledgesButtonProps {\n  problem: ProblemDTO;\n  onClick: (event?) => void;\n}\n\nclass AlertAcknowledgesButton extends PureComponent<AlertAcknowledgesButtonProps> {\n  handleClick = (event) => {\n    this.props.onClick(event);\n  }\n\n  renderTooltipContent = () => {\n    return <AlertAcknowledges problem={this.props.problem} onClick={this.handleClick} />;\n  }\n\n  render() {\n    const { problem } = this.props;\n    let content = null;\n    if (problem.acknowledges && problem.acknowledges.length) {\n      content = (\n        <Tooltip placement=\"bottom\" popperClassName=\"ack-tooltip\" content={this.renderTooltipContent}>\n          <span><i className=\"fa fa-comments\"></i></span>\n        </Tooltip>\n      );\n    } else if (problem.showAckButton) {\n      content = (\n        <Tooltip placement=\"bottom\" content=\"Acknowledge problem\">\n          <span role=\"button\" onClick={this.handleClick}><i className=\"fa fa-comments-o\"></i></span>\n        </Tooltip>\n      );\n    }\n    return content;\n  }\n}\n","import React, { PureComponent, CSSProperties } from 'react';\nimport classNames from 'classnames';\nimport { ProblemsPanelOptions, GFTimeRange } from '../../types';\nimport { AckProblemData } from '../AckModal';\nimport AlertCard from './AlertCard';\nimport { ProblemDTO, ZBXTag } from '../../../datasource-zabbix/types';\n\nexport interface AlertListProps {\n  problems: ProblemDTO[];\n  panelOptions: ProblemsPanelOptions;\n  loading?: boolean;\n  timeRange?: GFTimeRange;\n  pageSize?: number;\n  fontSize?: number;\n  onProblemAck?: (problem: ProblemDTO, data: AckProblemData) => void;\n  onTagClick?: (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => void;\n}\n\ninterface AlertListState {\n  page: number;\n  currentProblems: ProblemDTO[];\n}\n\nexport default class AlertList extends PureComponent<AlertListProps, AlertListState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      page: 0,\n      currentProblems: this.getCurrentProblems(0),\n    };\n  }\n\n  getCurrentProblems(page: number) {\n    const { pageSize, problems } = this.props;\n    const start = pageSize * page;\n    const end = Math.min(pageSize * (page + 1), problems.length);\n    return this.props.problems.slice(start, end);\n  }\n\n  handlePageChange = (newPage: number) => {\n    const items = this.getCurrentProblems(newPage);\n    this.setState({\n      page: newPage,\n      currentProblems: items,\n    });\n  }\n\n\n  handleTagClick = (tag: ZBXTag, datasource: string, ctrlKey?: boolean, shiftKey?: boolean) => {\n    if (this.props.onTagClick) {\n      this.props.onTagClick(tag, datasource, ctrlKey, shiftKey);\n    }\n  }\n\n  handleProblemAck = (problem: ProblemDTO, data: AckProblemData) => {\n    return this.props.onProblemAck(problem, data);\n  }\n\n  render() {\n    const { problems, panelOptions } = this.props;\n    const currentProblems = this.getCurrentProblems(this.state.page);\n    let fontSize = parseInt(panelOptions.fontSize.slice(0, panelOptions.fontSize.length - 1), 10);\n    fontSize = fontSize && fontSize !== 100 ? fontSize : null;\n    const alertListClass = classNames('alert-rule-list', { [`font-size--${fontSize}`]: fontSize });\n\n    return (\n      <div className=\"triggers-panel-container\" key=\"alertListContainer\">\n        <section className=\"card-section card-list-layout-list\">\n          <ol className={alertListClass}>\n            {currentProblems.map(problem =>\n              <AlertCard\n                key={`${problem.triggerid}-${problem.eventid}-${problem.datasource}`}\n                problem={problem}\n                panelOptions={panelOptions}\n                onTagClick={this.handleTagClick}\n                onProblemAck={this.handleProblemAck}\n              />\n            )}\n          </ol>\n        </section>\n\n        <div className=\"triggers-panel-footer\" key=\"alertListFooter\">\n          <PaginationControl\n            itemsLength={problems.length}\n            pageSize={this.props.pageSize}\n            pageIndex={this.state.page}\n            onPageChange={this.handlePageChange}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\ninterface PaginationControlProps {\n  itemsLength: number;\n  pageIndex: number;\n  pageSize: number;\n  onPageChange: (index: number) => void;\n}\n\nclass PaginationControl extends PureComponent<PaginationControlProps> {\n\n  handlePageChange = (index: number) => () => {\n    this.props.onPageChange(index);\n  }\n\n  render() {\n    const { itemsLength, pageIndex, pageSize } = this.props;\n    const pageCount = Math.ceil(itemsLength / pageSize);\n    if (pageCount === 1) {\n      return <ul></ul>;\n    }\n\n    const startPage = Math.max(pageIndex - 3, 0);\n    const endPage = Math.min(pageCount, startPage + 9);\n\n\n    const pageLinks = [];\n    for (let i = startPage; i < endPage; i++) {\n      const pageLinkClass = classNames('triggers-panel-page-link', 'pointer', { 'active': i === pageIndex });\n      const value = i + 1;\n      const pageLinkElem = (\n        <li key={value.toString()}>\n          <a className={pageLinkClass} onClick={this.handlePageChange(i)}>{value}</a>\n        </li>\n      );\n      pageLinks.push(pageLinkElem);\n    }\n\n    return (\n      <ul>\n        {pageLinks}\n      </ul>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport _ from 'lodash';\nimport { getDataSourceSrv } from '@grafana/runtime';\nimport { PanelEvents } from '@grafana/data';\nimport * as dateMath from 'grafana/app/core/utils/datemath';\nimport * as utils from '../datasource-zabbix/utils';\nimport { MetricsPanelCtrl } from 'grafana/app/plugins/sdk';\nimport { triggerPanelOptionsTab } from './options_tab';\nimport { migratePanelSchema, CURRENT_SCHEMA_VERSION } from './migrations';\nimport ProblemList from './components/Problems/Problems';\nimport AlertList from './components/AlertList/AlertList';\nimport { ProblemDTO } from 'datasource-zabbix/types';\n\nconst PROBLEM_EVENTS_LIMIT = 100;\n\nexport const DEFAULT_TARGET = {\n  group: {filter: \"\"},\n  host: {filter: \"\"},\n  application: {filter: \"\"},\n  trigger: {filter: \"\"},\n  tags: {filter: \"\"},\n  proxy: {filter: \"\"},\n  showProblems: 'problems',\n};\n\nexport const DEFAULT_SEVERITY = [\n  { priority: 0, severity: 'Not classified',  color: 'rgb(108, 108, 108)', show: true},\n  { priority: 1, severity: 'Information',     color: 'rgb(120, 158, 183)', show: true},\n  { priority: 2, severity: 'Warning',         color: 'rgb(175, 180, 36)', show: true},\n  { priority: 3, severity: 'Average',         color: 'rgb(255, 137, 30)', show: true},\n  { priority: 4, severity: 'High',            color: 'rgb(255, 101, 72)', show: true},\n  { priority: 5, severity: 'Disaster',        color: 'rgb(215, 0, 0)', show: true},\n];\n\nexport const getDefaultSeverity = () => DEFAULT_SEVERITY;\n\nconst DEFAULT_TIME_FORMAT = \"DD MMM YYYY HH:mm:ss\";\n\nexport const PANEL_DEFAULTS = {\n  schemaVersion: CURRENT_SCHEMA_VERSION,\n  targets: [{}],\n  // Fields\n  hostField: true,\n  hostTechNameField: false,\n  hostProxy: false,\n  hostGroups: false,\n  showTags: true,\n  statusField: true,\n  statusIcon: false,\n  severityField: true,\n  ackField: true,\n  ageField: false,\n  descriptionField: true,\n  descriptionAtNewLine: false,\n  // Options\n  sortProblems: 'lastchange',\n  limit: null,\n  // View options\n  layout: 'table',\n  fontSize: '100%',\n  pageSize: 10,\n  problemTimeline: true,\n  highlightBackground: false,\n  highlightNewEvents: false,\n  highlightNewerThan: '1h',\n  customLastChangeFormat: false,\n  lastChangeFormat: \"\",\n  resizedColumns: [],\n  // Triggers severity and colors\n  triggerSeverity: getDefaultSeverity(),\n  okEventColor: 'rgb(56, 189, 113)',\n  ackEventColor: 'rgb(56, 219, 156)',\n  markAckEvents: false,\n};\n\nconst triggerStatusMap = {\n  '0': 'OK',\n  '1': 'PROBLEM'\n};\n\nexport class TriggerPanelCtrl extends MetricsPanelCtrl {\n  scope: any;\n  useDataFrames: boolean;\n  triggerStatusMap: any;\n  defaultTimeFormat: string;\n  pageIndex: number;\n  renderData: any[];\n  problems: any[];\n  contextSrv: any;\n  static templateUrl: string;\n\n  /** @ngInject */\n  constructor($scope, $injector, $timeout) {\n    super($scope, $injector);\n    this.scope = $scope;\n    this.$timeout = $timeout;\n\n    // Tell Grafana do not convert data frames to table or series\n    this.useDataFrames = true;\n\n    this.triggerStatusMap = triggerStatusMap;\n    this.defaultTimeFormat = DEFAULT_TIME_FORMAT;\n    this.pageIndex = 0;\n    this.range = {};\n    this.renderData = [];\n\n    this.panel = migratePanelSchema(this.panel);\n    _.defaultsDeep(this.panel, _.cloneDeep(PANEL_DEFAULTS));\n\n    // this.events.on(PanelEvents.render, this.onRender.bind(this));\n    this.events.on('data-frames-received', this.onDataFramesReceived.bind(this));\n    this.events.on(PanelEvents.dataSnapshotLoad, this.onDataSnapshotLoad.bind(this));\n    this.events.on(PanelEvents.editModeInitialized, this.onInitEditMode.bind(this));\n  }\n\n  onInitEditMode() {\n    // Update schema version to prevent migration on up-to-date targets\n    this.panel.schemaVersion = CURRENT_SCHEMA_VERSION;\n    this.addEditorTab('Options', triggerPanelOptionsTab);\n  }\n\n  onDataFramesReceived(data: any): Promise<any> {\n    this.range = this.timeSrv.timeRange();\n    let problems = [];\n\n    if (data && data.length) {\n      for (const dataFrame of data) {\n        try {\n          const values = dataFrame.fields[0].values;\n          if (values.toArray) {\n            problems.push(values.toArray());\n          } else if (values.length > 0) {\n            // On snapshot mode values is a plain Array, not ArrayVector\n            problems.push(values);\n          }\n        } catch (error) {\n          console.log(error);\n          return Promise.reject(error);\n        }\n      }\n    }\n\n    this.loading = false;\n    problems = _.flatten(problems);\n    this.problems = problems;\n    return this.renderProblems(problems);\n  }\n\n  onDataSnapshotLoad(snapshotData) {\n    return this.onDataFramesReceived(snapshotData);\n  }\n\n  reRenderProblems() {\n    if (this.problems) {\n      this.renderProblems(this.problems);\n    }\n  }\n\n  setPanelError(err, defaultError = \"Request Error\") {\n    this.inspector = { error: err };\n    this.error = err.message || defaultError;\n    if (err.data) {\n      if (err.data.message) {\n        this.error = err.data.message;\n      }\n      if (err.data.error) {\n        this.error = err.data.error;\n      }\n    }\n\n    // this.events.emit(PanelEvents.dataError, err);\n    console.log('Panel data error:', err);\n  }\n\n  renderProblems(problems) {\n    let triggers = _.cloneDeep(problems);\n\n    triggers = _.map(triggers, this.formatTrigger.bind(this));\n    triggers = this.filterProblems(triggers);\n    triggers = this.sortTriggers(triggers);\n\n    this.renderData = triggers;\n\n    return this.$timeout(() => {\n      return super.render(triggers);\n    });\n  }\n\n  filterProblems(problems) {\n    let problemsList = _.cloneDeep(problems);\n\n    // Filter acknowledged triggers\n    if (this.panel.showTriggers === 'unacknowledged') {\n      problemsList = _.filter(problemsList, trigger => {\n        return !(trigger.acknowledges && trigger.acknowledges.length);\n      });\n    } else if (this.panel.showTriggers === 'acknowledged') {\n      problemsList = _.filter(problemsList, trigger => {\n        return trigger.acknowledges && trigger.acknowledges.length;\n      });\n    }\n\n    // Filter triggers by severity\n    problemsList = _.filter(problemsList, problem => {\n      if (problem.severity) {\n        return this.panel.triggerSeverity[problem.severity].show;\n      } else {\n        return this.panel.triggerSeverity[problem.priority].show;\n      }\n    });\n\n    return problemsList;\n  }\n\n  sortTriggers(problems: ProblemDTO[]) {\n    if (this.panel.sortProblems === 'priority') {\n      problems = _.orderBy(problems, ['severity', 'timestamp', 'eventid'], ['desc', 'desc', 'desc']);\n    } else if (this.panel.sortProblems === 'lastchange') {\n      problems = _.orderBy(problems, ['timestamp', 'severity', 'eventid'], ['desc', 'desc', 'desc']);\n    }\n    return problems;\n  }\n\n  formatTrigger(zabbixTrigger) {\n    const trigger = _.cloneDeep(zabbixTrigger);\n\n    // Set host and proxy that the trigger belongs\n    if (trigger.hosts && trigger.hosts.length) {\n      const host = trigger.hosts[0];\n      trigger.host = host.name;\n      trigger.hostTechName = host.host;\n      if (host.proxy) {\n        trigger.proxy = host.proxy;\n      }\n    }\n\n    // Set tags if present\n    if (trigger.tags && trigger.tags.length === 0) {\n      trigger.tags = null;\n    }\n\n    // Handle multi-line description\n    if (trigger.comments) {\n      trigger.comments = trigger.comments.replace('\\n', '<br>');\n    }\n\n    trigger.lastchangeUnix = Number(trigger.lastchange);\n    return trigger;\n  }\n\n  parseTags(tagStr) {\n    if (!tagStr) {\n      return [];\n    }\n\n    let tags = _.map(tagStr.split(','), (tag) => tag.trim());\n    tags = _.map(tags, (tag) => {\n      const tagParts = tag.split(':');\n      return {tag: tagParts[0].trim(), value: tagParts[1].trim()};\n    });\n    return tags;\n  }\n\n  tagsToString(tags) {\n    return _.map(tags, (tag) => `${tag.tag}:${tag.value}`).join(', ');\n  }\n\n  addTagFilter(tag, datasource) {\n    for (const target of this.panel.targets) {\n      if (target.datasource === datasource || this.panel.datasource === datasource) {\n        const tagFilter = target.tags.filter;\n        let targetTags = this.parseTags(tagFilter);\n        const newTag = {tag: tag.tag, value: tag.value};\n        targetTags.push(newTag);\n        targetTags = _.uniqWith(targetTags, _.isEqual);\n        const newFilter = this.tagsToString(targetTags);\n        target.tags.filter = newFilter;\n      }\n    }\n    this.refresh();\n  }\n\n  removeTagFilter(tag, datasource) {\n    const matchTag = t => t.tag === tag.tag && t.value === tag.value;\n    for (const target of this.panel.targets) {\n      if (target.datasource === datasource || this.panel.datasource === datasource) {\n        const tagFilter = target.tags.filter;\n        let targetTags = this.parseTags(tagFilter);\n        _.remove(targetTags, matchTag);\n        targetTags = _.uniqWith(targetTags, _.isEqual);\n        const newFilter = this.tagsToString(targetTags);\n        target.tags.filter = newFilter;\n      }\n    }\n    this.refresh();\n  }\n\n  getProblemEvents(problem) {\n    const triggerids = [problem.triggerid];\n    const timeFrom = Math.ceil(dateMath.parse(this.range.from) / 1000);\n    const timeTo = Math.ceil(dateMath.parse(this.range.to) / 1000);\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      return datasource.zabbix.getEvents(triggerids, timeFrom, timeTo, [0, 1], PROBLEM_EVENTS_LIMIT);\n    });\n  }\n\n  getProblemAlerts(problem: ProblemDTO) {\n    if (!problem.eventid) {\n      return Promise.resolve([]);\n    }\n    const eventids = [problem.eventid];\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      return datasource.zabbix.getEventAlerts(eventids);\n    });\n  }\n\n  getProblemScripts(problem: ProblemDTO) {\n    const hostid = problem.hosts?.length ? problem.hosts[0].hostid : null;\n\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      return datasource.zabbix.getScripts([hostid]);\n    });\n  }\n\n  getAlertIconClassBySeverity(triggerSeverity) {\n    let iconClass = 'icon-gf-online';\n    if (triggerSeverity.priority >= 2) {\n      iconClass = 'icon-gf-critical';\n    }\n    return iconClass;\n  }\n\n  resetResizedColumns() {\n    this.panel.resizedColumns = [];\n    this.render();\n  }\n\n  acknowledgeProblem(problem: ProblemDTO, message, action, severity) {\n    const eventid = problem.eventid;\n    const grafana_user = this.contextSrv.user.name;\n    const ack_message = grafana_user + ' (Grafana): ' + message;\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      const userIsEditor = this.contextSrv.isEditor || this.contextSrv.isGrafanaAdmin;\n      if (datasource.disableReadOnlyUsersAck && !userIsEditor) {\n        return Promise.reject({message: 'You have no permissions to acknowledge events.'});\n      }\n      if (eventid) {\n        return datasource.zabbix.acknowledgeEvent(eventid, ack_message, action, severity);\n      } else {\n        return Promise.reject({message: 'Trigger has no events. Nothing to acknowledge.'});\n      }\n    })\n    .then(this.refresh.bind(this))\n    .catch((err) => {\n      this.setPanelError(err);\n      return Promise.reject(err);\n    });\n  }\n\n  executeScript(problem: ProblemDTO, scriptid: string) {\n    const hostid = problem.hosts?.length ? problem.hosts[0].hostid : null;\n\n    return getDataSourceSrv().get(problem.datasource)\n    .then((datasource: any) => {\n      return datasource.zabbix.executeScript(hostid, scriptid);\n    });\n  }\n\n  handlePageSizeChange(pageSize, pageIndex) {\n    this.panel.pageSize = pageSize;\n    this.pageIndex = pageIndex;\n    this.scope.$apply(() => {\n      this.render();\n    });\n  }\n\n  handleColumnResize(newResized) {\n    this.panel.resizedColumns = newResized;\n    this.scope.$apply(() => {\n      this.render();\n    });\n  }\n\n  link(scope, elem, attrs, ctrl) {\n    const panel = ctrl.panel;\n\n    ctrl.events.on(PanelEvents.render, (renderData) => {\n      renderData = renderData || this.renderData;\n      renderPanel(renderData);\n      ctrl.renderingCompleted();\n    });\n\n    function renderPanel(problems) {\n      const timeFrom = Math.ceil(dateMath.parse(ctrl.range.from) / 1000);\n      const timeTo = Math.ceil(dateMath.parse(ctrl.range.to) / 1000);\n\n      const fontSize = parseInt(panel.fontSize.slice(0, panel.fontSize.length - 1), 10);\n      const fontSizeProp = fontSize && fontSize !== 100 ? fontSize : null;\n\n      const pageSize = panel.pageSize || 10;\n      const loading = ctrl.loading && (!problems || !problems.length);\n\n      const panelOptions = {};\n      for (const prop in PANEL_DEFAULTS) {\n        panelOptions[prop] = ctrl.panel[prop];\n      }\n      const problemsListProps = {\n        problems,\n        panelOptions,\n        timeRange: { timeFrom, timeTo },\n        loading,\n        pageSize,\n        fontSize: fontSizeProp,\n        panelId: ctrl.panel.id,\n        getProblemEvents: ctrl.getProblemEvents.bind(ctrl),\n        getProblemAlerts: ctrl.getProblemAlerts.bind(ctrl),\n        getScripts: ctrl.getProblemScripts.bind(ctrl),\n        onPageSizeChange: ctrl.handlePageSizeChange.bind(ctrl),\n        onColumnResize: ctrl.handleColumnResize.bind(ctrl),\n        onProblemAck: (trigger, data) => {\n          const { message, action, severity } = data;\n          return ctrl.acknowledgeProblem(trigger, message, action, severity);\n        },\n        onExecuteScript: ctrl.executeScript.bind(ctrl),\n        onTagClick: (tag, datasource, ctrlKey, shiftKey) => {\n          if (ctrlKey || shiftKey) {\n            ctrl.removeTagFilter(tag, datasource);\n          } else {\n            ctrl.addTagFilter(tag, datasource);\n          }\n        }\n      };\n\n      let problemsReactElem;\n      if (panel.layout === 'list') {\n        problemsReactElem = React.createElement(AlertList, problemsListProps);\n      } else {\n        problemsReactElem = React.createElement(ProblemList, problemsListProps);\n      }\n\n      const panelContainerElem = elem.find('.panel-content');\n      if (panelContainerElem && panelContainerElem.length) {\n        ReactDOM.render(problemsReactElem, panelContainerElem[0]);\n      } else {\n        ReactDOM.render(problemsReactElem, elem[0]);\n      }\n    }\n  }\n}\n\nTriggerPanelCtrl.templateUrl = 'public/plugins/alexanderzobnin-zabbix-app/panel-triggers/partials/module.html';\n","/**\n * Grafana-Zabbix\n * Zabbix plugin for Grafana.\n * http://github.com/alexanderzobnin/grafana-zabbix\n *\n * Trigger panel.\n * This feature sponsored by CORE IT\n * http://www.coreit.fr\n *\n * Copyright 2015 Alexander Zobnin alexanderzobnin@gmail.com\n * Licensed under the Apache License, Version 2.0\n */\n\nimport { TriggerPanelCtrl } from './triggers_panel_ctrl';\nimport { loadPluginCss } from 'grafana/app/plugins/sdk';\n\nloadPluginCss({\n  dark: 'plugins/alexanderzobnin-zabbix-app/css/grafana-zabbix.dark.css',\n  light: 'plugins/alexanderzobnin-zabbix-app/css/grafana-zabbix.light.css'\n});\n\nexport {\n  TriggerPanelCtrl as PanelCtrl\n};\n"],"sourceRoot":""}